/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(w,k,T){var h=k.ui.Widget,u=(k.Class,k.DataSource),o=k.RecursiveDataSource,n=(k.ui.Position,k.Constants.KeyCode),P=k.strid,D=document,S=w.proxy,m=w.each,g=(w.extend,k.error),E=k.format,y=k.is.defined,L=k.is.boolean,B=(k.is.integer,k.is.func),p=k.is.array,_=k.is.object,N=k.is.string,a=k.support.browser,A="role",O="aria-expanded",R="click",f="focus",v="blur",C="change",x="tabindex",I="disabled",F="false",r="down",s="left",l="checked",b="li",U="ul",V="visibility",W="hidden",c="visible",j="sui-treeview-list-item",H="sui-treeview-list-item-idx",G="sui-treeview-list-item-parent",K="sui-treeview-list-item-ds",Q="sui-treeview-list-items-ds",q="sui-treeview-list-item-checked",z="sui-treeview-list-item-loaded",J="sui-treeview-item-list-expanded",M="sui-treeview-item-toggle-loading",d="sui-treeview-item-selected",X="sui-treeview-item-active",Y="sui-treeview-item-disabled",Z="sui-treeview-item",e={cls:T,width:T,minWidth:T,height:T,dataSource:T,readDataSource:!0,animation:{enabled:!0,expandDuration:200,collapseDuration:150},checkboxes:{enabled:!1,children:!1,template:T},dragDrop:!1,dragDropScope:T,textTemplate:"{text}",hrefTemplate:"{href}",expandedTemplate:"{expanded}",checkedTemplate:"{checked}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",hasChildrenTemplate:function(e){return e&&(e.items&&0<e.items.length||e.children&&0<e.children.length||e.hasChildren)},events:{}},t=h.extend({init:function(){h.fn.init.apply(this,arguments);var e,i,t,r,n,a=this,s=w(a.element),l=a.options,d=l.dieOnError,c=l.dataSource,o=l.cls;if(a._original=e=w(a.element),a._tagname=t=e.prop("tagName").toLowerCase(),n=a._eventNS=".shieldTreeView"+a.getInstanceId(),a._wrapper=i=e.wrap("<div/>").parent(),i.addClass("sui-treeview"+(o?" "+o:"")),e.hide(),a.element=s=w('<ul class="sui-treeview-list"/>').on(f+n,S(a._focus,a)).on(v+n,S(a._blur,a)).on("keydown"+n,S(a._keydown,a)),e.after(s),m(["width","minWidth","height","maxHeight"],function(e,t){y(l[t])&&i.css(t,l[t])}),o=e.attr(x),s.attr(x,y(o)?o:"0"),c)a.dataSource=u.create(c);else{if(t!=U)return a.destroy(),void g("shieldTreeView: No dataSource or underlying UL element found.",d);r=function(e){var a=[];return w(e).children(b).each(function(){var e,t=w(this),i=0<t.children(U).length,n={cls:t.attr("data-class"),href:t.attr("data-href")?t.attr("data-href"):t.children().not(U).first().attr("href"),disabled:t.attr("data-disabled")?t.attr("data-disabled"):y(t.attr(I))&&null!==t.attr(I),expanded:t.attr("data-expanded"),checked:t.attr("data-checked"),iconUrl:t.attr("data-icon-url"),iconCls:t.attr("data-icon-cls")};i?((e=t.clone()).children(U).remove(),n.text=e.html()):n.text=t.html(),i&&(n.items=r(t.children(U)[0])),a.push(n)}),a},a.dataSource=u.create({data:e,schema:{parse:r}})}a.dataSource.on(C+n,S(a._dsChange,a)),s.attr(A,"tree"),l.readDataSource&&a.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_dsChange:function(){var e=this,t=e.element,i=e.dataSource;e._renderItems(i,t,null,!0,!0,function(){e.trigger("dataBound",{dataSource:i,element:null})})},_destroyItems:function(e){var t=this;w(e).children("ul.sui-treeview-item-list").each(function(){t._destroyItems(w(this))}),w(e).children(".sui-treeview-item-content").find(".sui-treeview-item-text").each(function(){w(this).swidget("Draggable")&&w(this).swidget("Draggable").destroy(),w(this).swidget("Droppable")&&w(this).swidget("Droppable").destroy()}),w(e).children(".sui-treeview-item-content").find(".sui-checkbox").each(function(){w(this).swidget("CheckBox")&&w(this).swidget("CheckBox").destroy()});var i=w(e).data(Q);i&&i.off(t._eventNS),w(e).removeData(),w(e).empty()},_renderItems:function(e,t,i,n,a,r){var s,l,d,c=this,o=c.options.checkboxes,h=e.view,u=(h||[]).length,m=[],g=[];for(c._destroyItems(t),d=0;d<u;d++)(l=(s=c._renderItem(h[d],i,e,d)).listItem).appendTo(t),s.itemExpanded&&m.push(l),s.itemChecked&&g.push(l);if(B(r)&&r(),n)for(d=0;d<m.length;d++)c._expand(m[d],!1,a);if(o.enabled&&o.children)for(d=0;d<g.length;d++)c._updateChecked(g[d])},_renderItem:function(e,t,i,n){var a,r,s,l,d,c,o,h=this,u=h.options,m=u.checkboxes,g=m.template,p=h.getInstanceId(),_=u.dragDropScope,f=t?t.data(j):null,v=e.cls,C=h._hasChildren(e),x=E.call(h,u.textTemplate,e),I=P(),b=E(u.disabledTemplate,e);return b=!!(L(b)&&b||"true"===b||"1"===b||1===b),a=E(u.expandedTemplate,e),a=!!(L(a)&&a||"true"===a||"1"===a||1===a),r=E(u.checkedTemplate,e),r=!!(L(r)&&r||"true"===r||"1"===r||1===r),d=E(u.hrefTemplate,e),N(d)&&"undefined"!==d||(d=T),s=E(u.iconUrlTemplate,e),N(s)&&"undefined"!==s||(s=T),l=E(u.iconClsTemplate,e),N(l)&&"undefined"!==l||(l=T),i=w('<li class="'+Z+" sui-unselectable"+(b?" "+Y:"")+(y(v)?" "+v:"")+'"/>').data(j,e).data(H,n).data(G,t).data(K,i),x=w('<span class="sui-treeview-item-text" id="'+I+'">'+(d?'<a href="'+d+'">':"")+x+(d?"</a>":"")+"</span>").on("mousedown",S(h._itemClick,h,i)).on("dblclick",S(h._itemDblClick,h,i)),d=w('<span class="sui-treeview-item-toggle"/>').on(R,S(h._toggleItem,h,i)).append(w('<span class="sui-treeview-item-toggle-collapsed"/>')),C||d.css(V,W),i.attr(A,"treeitem").attr("aria-describedby",I),C&&i.attr(O,F),m.enabled&&(i.data(q,!!r),c=w('<span class="sui-treeview-item-check"/>'),N(g)?c.html(E(g,{item:e,parent:f})):B(g)?g(c,e,f):(f=w('<input type="checkbox"'+(r?' checked="checked"':"")+"/>").appendTo(c),k.ui.CheckBox?w(f).shieldCheckBox({enabled:!b,enableThreeStates:!!m.children,events:{click:S(h._checkboxClick,h,i)}}):f.on(R,S(h._checkboxClick,h,i)))),(s||l)&&(o=w('<span class="sui-treeview-item-icon"/>'),s?o.append('<img src="'+s+'"/>'):o.addClass(l)),i.append(w('<div class="sui-treeview-item-content"/>').append(d,c,x.prepend(o))),i.append(w('<ul class="sui-treeview-list sui-treeview-item-list"/>').attr(A,"group").hide()),u.dragDrop&&!b&&(x.shieldDraggable({scope:y(_)?_:"suiTv"+p,dragCls:"sui-treeview-item-text-dragging",helper:function(){return w(this.element).clone().appendTo(D.body)},events:{start:S(h._dragStart,h,i),stop:S(h._dragStop,h,i)}}),x.shieldDroppable({scope:y(_)?_:"suiTv"+p,hoverCls:"sui-treeview-item-text-dropover",tolerance:{x:"touch",y:"intersect"},events:{over:S(h._dropOver,h,i),out:S(h._dropOut,h,i),drop:S(h._drop,h,i)}})),{listItem:i,itemExpanded:a,itemChecked:r,itemDisabled:b}},_isValidDragDrop:function(e,t){if(w(e).hasClass("sui-treeview-item-text")){var i=w(e).parent().parent().parent().parent().children(".sui-treeview-item-content").first().children(".sui-treeview-item-text").first();return i&&0<i.length&&t[0]===i[0]?t[0]!==i[0]:!(0<w(e).parent().parent().find(t[0]).length)}return!1},_dragStart:function(e,t){this.trigger("dragStart",{draggable:t.target.element,element:e,domEvent:t})},_dragStop:function(e,t){this.trigger("dragStop",{draggable:t.target.element,element:e,domEvent:t}),t.preventDefault()},_dropOver:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),!(e=this.trigger("droppableOver",e)).isDefaultPrevented()&&e.valid||t.preventDefault()},_dropOut:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),t={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(t.sourceNode=w(i).closest("."+Z)),t.targetNode=w(n).closest("."+Z),this.trigger("droppableOut",t)},_drop:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,cancelled:!0,skipAnimation:!!a,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),e=this.trigger("drop",e),t.cancelled=e.cancelled,t.skipAnimation=e.skipAnimation,e.isDefaultPrevented()&&t.preventDefault()},_hasChildren:function(e){e=E(this.options.hasChildrenTemplate,e);return L(e)&&e||"true"===e||"1"===e||1===e},_isLoaded:function(e){return!0===w(e).data(z)},_isExpanded:function(e){return e.hasClass(J)},_isFullyExpanded:function(e){var t=this.getParent(e);return t?this._isExpanded(e)&&this._isFullyExpanded(t):this._isExpanded(e)},_isDisabled:function(e){return w(e).hasClass(Y)},_isSelected:function(e){return w(e).hasClass(d)},_isActive:function(e){return w(e).hasClass(X)},_isFocused:function(){return w(this.element).hasClass("sui-treeview-focus")},_focus:function(e){var t=this,i=t.element;a.ie&&D.activeElement!==w(i)[0]&&w(i).focus(),t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(w(t.element).addClass("sui-treeview-focus"),t.trigger(f))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){w(t.element).removeClass("sui-treeview-focus"),t.trigger(v)},100))},_selectItem:function(e,t,i){var n=this;n._isSelected(e)||i&&n.trigger("select",{element:e,item:e.data(j)}).isDefaultPrevented()||(n._selectedItem&&n._selectedItem.removeClass(d),(n._selectedItem=e).addClass(d),t&&n._activateItem(e,i))},_activateItem:function(e,t){var i=this;i._isActive(e)||(i._activeItem&&i._activeItem.removeClass(X),(i._activeItem=e).addClass(X),t&&i.trigger(C,{element:e,item:e.data(j)}))},_itemClick:function(e,t){a.ie&&setTimeout(S(this._focus,this)),this._selectItem(e,!0,!0)},_itemDblClick:function(e,t){this._selectItem(e,!0,!0),this._toggleItem(e,t)},_getCheckBox:function(e){return e.children(".sui-treeview-item-content").children(".sui-treeview-item-check").find('input[type="checkbox"]').first()},_checkboxClick:function(e){a.ie&&setTimeout(S(this._focus,this)),this._toggleCheck(e,!0)},_toggleCheck:function(e,t){this._setChecked(e,!e.data(q),t)},_setChecked:function(e,t,i){var n=this.options.checkboxes.children,a=this._getCheckBox(e);a&&0<a.length&&(w(a).swidget("CheckBox")?(a=w(a).swidget("CheckBox")).checked(t):t?a.attr(l,l):a.removeAttr(l),e.data(q,t),n&&this._updateChecked(e),i&&this.trigger("check",{element:e,item:e.data(j),checked:t}))},_updateChecked:function(e){var t=e.data(q);this._updateCheckedChildren(e,t),this._updateCheckedParents(e,t)},_updateCheckedChildren:function(e,i){var n=this;w(e).children("ul.sui-treeview-item-list").first().children(b).each(function(){var e=w(this),t=n._getCheckBox(e);w(t).swidget("CheckBox")?w(t).swidget("CheckBox").checked(i):i?t.attr(l,l):t.removeAttr(l),e.data(q,i),n._updateCheckedChildren(e,i)})},_updateCheckedParents:function(e,t){var i=this.getParent(e),n=i?i.data(q):T,a=t;i&&!1!==n&&(w(e).parent().children(b).each(function(){if(w(this).data(q)!==t)return!(a=null)}),e=this._getCheckBox(i),w(e).swidget("CheckBox")?w(e).swidget("CheckBox").checked(a):a?e.attr(l,l):e.removeAttr(l),i.data(q,a),this._updateCheckedParents(i,t))},_toggleItem:function(e,t){var i=this;a.ie&&setTimeout(S(i._focus,i)),i._isDisabled(e)||(i._isExpanded(e)?i._collapse(e,!0):i._expand(e,!0,!1))},_getToggleEl:function(e){return w(e).children(".sui-treeview-item-content").first().children(".sui-treeview-item-toggle").first()},_expand:function(e,t,i,n){var a,r=this,s=r.options.animation,l=e.children("ul.sui-treeview-item-list").first();!l||w(l).length<=0||!r.hasChildren(e)&&l.children(b).length<=0||(r._isExpanded(e)?B(n)&&n.call(r):t&&r.trigger("expand",{element:e,item:e.data(j)}).isDefaultPrevented()||(l.stop(!0,!0),l.hide(),a=r._getToggleEl(e),t=function(){l.slideDown(s.enabled&&!i?s.expandDuration:0,function(){e.addClass(J).attr(O,"true"),a.css(V,c),w(a).find("span").addClass("sui-treeview-item-toggle-expanded").removeClass("sui-treeview-item-toggle-collapsed"),B(n)&&n.call(r)})},r._isLoaded(e)?t():r._loadItem(e,i,t)))},_loadItem:function(t,i,n){var a,r=this,e=t.data(j),s=t.children("ul.sui-treeview-item-list").first(),l=t.data(K),d=r._getToggleEl(t),c=e.items||e.children;!s||w(s).length<=0||(p(c)||_(c)||c instanceof u?(w(d).addClass(M),a=u.create(c),s.data(Q,a),a.on(C+r._eventNS,function(e){w(d).removeClass(M),t.data(z,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),B(n)&&n.call(r)})}),a.read({parent:e})):l&&l instanceof o?(w(d).addClass(M),a=new o(l.options),s.data(Q,a),a.on(C+r._eventNS,function(e){w(d).removeClass(M),t.data(z,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),B(n)&&n.call(r)})}),a.read({parent:e})):(t.data(z,!0),B(n)&&n.call(r)))},_expandPathSegment:function(e,t,i,n,a){var r,s=this;e.length<n?B(a)&&a.call(s):(r=[].slice.call(e).splice(0,n),r=s.getByPath(r),s._isExpanded(r)?s._expandPathSegment(e,t,i,n+1,a):s._expand(r,t,i,function(){s._expandPathSegment(e,t,i,n+1,a)}))},_expandPath:function(e,t,i,n){this._expandPathSegment(e,t,i,1,n)},_collapse:function(e,t){var i,n=this.options.animation,a=e.children("ul.sui-treeview-item-list").first();!this._isExpanded(e)||!a||w(a).length<=0||t&&this.trigger("collapse",{element:e,item:e.data(j)}).isDefaultPrevented()||(i=this._getToggleEl(e),a.stop(!0,!0),a.slideUp(n.enabled?n.collapseDuration:0,function(){e.removeClass(J).attr(O,F),w(i).find("span").removeClass("sui-treeview-item-toggle-expanded").addClass("sui-treeview-item-toggle-collapsed")}))},_keydown:function(e){var t=this,i=!0;switch(e.keyCode){case n.UP:t._move("up",e);break;case n.DOWN:t._move(r,e);break;case n.LEFT:t._move(s,e);break;case n.RIGHT:t._move("right",e);break;case n.SPACE:t._selectedItem&&t._toggleCheck(t._selectedItem,!0);break;case n.ENTER:t._selectedItem&&t._activateItem(t._selectedItem,!0);break;default:i=!1}i&&e.preventDefault()},_getExpandedItems:function(e){var t=this;return t.element.children("."+Z).add(t.element.find("li.sui-treeview-item-list-expanded > ul.sui-treeview-list > li."+Z)).filter(function(){var e=t.getParent(w(this));return!e||t._isFullyExpanded(e)}).not("."+Y)},_getNextItem:function(e){var t=this._getExpandedItems(),i=w(t).length,e=w(t).index(e);if(e<i-1)return w(w(t).get(e+1))},_getPrevItem:function(e){var t=this._getExpandedItems(),e=w(t).index(e);if(0<e)return w(w(t).get(e-1))},_getPrevParentItem:function(e){e=this.getParent(e);if(e&&0<w(e).length)return this._isDisabled(e)?this._getPrevParentItem(e):e},_move:function(e,t){var i,n=this,a=n._selectedItem;n.getParent(w(a));if(y(a))if("up"===e)i=n._getPrevItem(a);else if(e===r)i=n._getNextItem(a);else if(e===s){if(n._isExpanded(a))return void n._collapse(a,!0,!1);i=n._getPrevParentItem(a)}else{if(!n._isExpanded(a))return void n._expand(a,!0,!1);0<(a=w(a).children("ul.sui-treeview-list").first()).length&&(i=w(a).children("li:not(."+Y+")").first())}else i=w(n.element).find(b).first();y(i)&&0<w(i).length&&n._selectItem(i,!1,!0)},_getByPath:function(e,t){var i=e.shift(),n=w(t.children(b)[i]);return 0<e.length?this._getByPath(e,n.children(U)):w(t.children(b)[i])},_getListItem:function(e){return p(e)?w(this.getByPath(e,this.element)):w(e)},getByPath:function(e){return this._getByPath([].slice.call(e),w(this.element))},isLoaded:function(e){return!0===w(this._getListItem(e)).data(z)},hasChildren:function(e){return this._hasChildren(this.getItem(e))},getItem:function(e){return w(this._getListItem(e)).data(j)},getDataSource:function(e){return w(this._getListItem(e)).data(K)},getChildrenDataSource:function(e){e=this._getListItem(e);return this.hasChildren(this.getItem(e))&&this.isLoaded(e)?w(e).children("ul.sui-treeview-item-list").first().data(Q):T},getParent:function(e){return w(this._getListItem(e)).data(G)},getDataSourceIndex:function(e){return w(this._getListItem(e)).data(H)},_getIndex:function(e){e=this._getListItem(e);return w(e).index()},getPath:function(e){for(var t=w(e),i=[];i.unshift(this._getIndex(t)),(t=this.getParent(t))&&0<t.length;);return i},updateIndetermined:function(e){var t=this,e=t._getListItem(e);y(e)?t._updateChecked(w(e)):w(t.element).children(b).each(function(){t._updateChecked(w(this))})},expanded:function(){var e=this,t=[].slice.call(arguments),i=L(t[0])?t.shift():T,n=t[0],a=e._getListItem(n);if(!y(i))return e._isExpanded(a);i?p(n)?e._expandPath([].slice.call(n),!1,!1,t[1]):e._expand(a,!1,!1,t[1]):e._collapse(a,!1)},selected:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._selectedItem;(e=this._getListItem(e[0]))&&0<e.length&&this._selectItem(e,!0,!1)},unselect:function(){this._selectedItem&&this._selectedItem.removeClass(d+" "+X),this._selectedItem=null},enabled:function(){var e=[].slice.call(arguments),t=L(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return y(t)?void(t?e.removeClass(Y):e.addClass(Y)):!this._isDisabled(e)},checked:function(){var e=[].slice.call(arguments),t=L(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return y(t)?void this._setChecked(e,t,!1):e.data(q)},_insertedItem:function(e,t){return e instanceof w?w(e):p(e)?this._getListItem(e):_(e)?this._renderItem(e,t).listItem:void 0},_beforeRemoveChild:function(e){e&&e.children(U).children(b).length<=1&&(w(this._getToggleEl(e)).css(V,W),e.removeClass(J))},_refreshParent:function(e){var t=w(e).parents(b).first();w(e).data(G,t&&0<t.length?t:null)},load:function(e,t){e=this._getListItem(e);e&&0<e.length&&this._loadItem(e,!1,t)},append:function(){var e,t,i,n=this,a=[].slice.call(arguments),r=a[0],s=p(r)||r instanceof w,l=a[1],d=a[2];if(y(l)){if(!((t=n._getListItem(l))&&0<w(t).length))return;i=w(t).children(U).first()}else t=null,i=n.element;(e=n._insertedItem(r,t))&&(s&&n._beforeRemoveChild(n.getParent(e)),!t||n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)):n.hasChildren(t)?n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)):n._expand(t,!1,!1,function(){e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)}):n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)):(w(n._getToggleEl(t)).css(V,c),t.removeClass(J),e.appendTo(i),n._refreshParent(e),n._expand(t,!1,!1,function(){B(d)&&d.call(n,e)})))},insertBefore:function(){var e,t=this,i=[].slice.call(arguments),n=i[0],a=p(n)||n instanceof w,i=t._getListItem(i[1]);if(i&&0<i.length&&(e=t._insertedItem(n,t.getParent(i))))return a&&t._beforeRemoveChild(t.getParent(e)),e.insertBefore(i),t._refreshParent(e),e},insertAfter:function(){var e,t=this,i=[].slice.call(arguments),n=i[0],a=p(n)||n instanceof w,i=t._getListItem(i[1]);if(i&&0<i.length&&(e=t._insertedItem(n,t.getParent(i))))return a&&t._beforeRemoveChild(t.getParent(e)),e.insertAfter(i),t._refreshParent(e),e},remove:function(e){var t=this,i=p(e)||e instanceof w,e=t._getListItem(e);t.getParent(e);return!!(e&&0<e.length)&&(t._destroyItems(w(e).children(U).first()),i&&t._beforeRemoveChild(t.getParent(e)),e.remove(),!0)},destroy:function(){var e=this,t=e.element,i=e._eventNS;e.dataSource&&e.dataSource.off(C+i),e._destroyItems(t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),w(t).off(i).remove(),e._original.unwrap(),e._original.show(),e._original=e._wrapper=e._selectedItem=e._activeItem=null,h.fn.destroy.call(e)}});t.defaults=e,k.ui.plugin("TreeView",t)}(jQuery,shield);