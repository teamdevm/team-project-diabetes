/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
function f(e){this.ok=!1,e=(e=(e="#"==e.charAt(0)?e.substr(1,6):e).replace(/ /g,"")).toLowerCase();var t,u={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(t in u)e==t&&(e=u[t]);for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<c.length;n++){var i=c[n].re,r=c[n].process,i=i.exec(e);i&&(channels=r(i),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return"#"+(e=1==e.length?"0"+e:e)+(t=1==t.length?"0"+t:t)+(n=1==n.length?"0"+n:n)},this.getHelpXML=function(){for(var e,t=new Array,n=0;n<c.length;n++)for(var i=c[n].example,r=0;r<i.length;r++)t[t.length]=i[r];for(e in u)t[t.length]=e;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var s=document.createElement("li"),o=new f(t[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+o.toHex()+"; color:"+o.toHex(),l.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+o.toRGB()+" -> "+o.toHex());s.appendChild(l),s.appendChild(h),a.appendChild(s)}catch(e){}return a}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(u){var c,f,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(u.event.fixHooks)for(var n=e.length;n;)u.event.fixHooks[e[--n]]=u.event.mouseHooks;var p=u.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;u.data(this,"mousewheel-line-height",p.getLineHeight(this)),u.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height"),u.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=u(e),e=t["offsetParent"in u.fn?"offsetParent":"parent"]();return e.length||(e=u("body")),parseInt(e.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=d.call(arguments,1),r=0,a=0,s=0,o=0,l=0,h=0;if((e=u.event.fix(n)).type="mousewheel","detail"in n&&(s=-1*n.detail),"wheelDelta"in n&&(s=n.wheelDelta),"wheelDeltaY"in n&&(s=n.wheelDeltaY),"wheelDeltaX"in n&&(a=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(a=-1*s,s=0),r=0===s?a:s,"deltaY"in n&&(r=s=-1*n.deltaY),"deltaX"in n&&(a=n.deltaX,0===s&&(r=-1*a)),0!==s||0!==a)return 1===n.deltaMode?(r*=t=u.data(this,"mousewheel-line-height"),s*=t,a*=t):2===n.deltaMode&&(r*=t=u.data(this,"mousewheel-page-height"),s*=t,a*=t),o=Math.max(Math.abs(s),Math.abs(a)),(!f||o<f)&&m(n,f=o)&&(f/=40),m(n,o)&&(r/=40,a/=40,s/=40),r=Math[1<=r?"floor":"ceil"](r/f),a=Math[1<=a?"floor":"ceil"](a/f),s=Math[1<=s?"floor":"ceil"](s/f),p.settings.normalizeOffset&&this.getBoundingClientRect&&(o=this.getBoundingClientRect(),l=e.clientX-o.left,h=e.clientY-o.top),e.deltaX=a,e.deltaY=s,e.deltaFactor=f,e.offsetX=l,e.offsetY=h,e.deltaMode=0,i.unshift(e,r,a,s),c&&clearTimeout(c),c=setTimeout(g,200),(u.event.dispatch||u.event.handle).apply(this,i)}function g(){f=null}function m(e,t){return p.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(){this.canvg=function(e,t,n){if(null!=e||null!=t||null!=n){n=n||{},null!=(e="string"==typeof e?document.getElementById(e):e).svg&&e.svg.stop();var _,r=((_={FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,init:function(e){_.Definitions={},_.Styles={},_.Animations=[],_.Images=[],_.ctx=e,_.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}}}).init(),_.ImagesLoaded=function(){for(var e=0;e<_.Images.length;e++)if(!_.Images[e].loaded)return!1;return!0},_.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},_.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},_.ajax=function(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return t?(t.open("GET",e,!1),t.send(null),t.responseText):null},_.parseXml=function(e){if(window.DOMParser)return(new DOMParser).parseFromString(e,"text/xml");e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},_.Property=function(e,t){this.name=e,this.value=t},_.Property.prototype.getValue=function(){return this.value},_.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},_.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},_.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},_.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},_.Property.prototype.addOpacity=function(e){var t,n=this.value;return null==e||""==e||"string"!=typeof this.value||(t=new f(this.value)).ok&&(n="rgba("+t.r+", "+t.g+", "+t.b+", "+e+")"),new _.Property(this.name,n)},_.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)']+)/);return e=(e=e&&e[1])||this.value,_.Definitions[e]},_.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},_.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();return null!=n&&n.createGradient?n.createGradient(_.ctx,e,t):null!=n&&n.createPattern?n.createPattern(_.ctx,e):null},_.Property.prototype.getDPI=function(e){return 96},_.Property.prototype.getEM=function(e){var t=12,n=new _.Property("fontSize",_.Font.Parse(_.ctx.font).fontSize);return t=n.hasValue()?n.toPixels(e):t},_.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},_.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*_.ViewPort.ComputeSize(e);n=this.numValue();return t&&n<1?n*_.ViewPort.ComputeSize(e):n},_.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},_.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},_.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,i,r,a){a=null!=a?this.Parse(a):this.CreateFont("","","","","",_.ctx.font);return{fontFamily:r||a.fontFamily,fontSize:i||a.fontSize,fontStyle:e||a.fontStyle,fontWeight:n||a.fontWeight,fontVariant:t||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var s=this;this.Parse=function(e){for(var t={},n=_.trim(_.compressSpaces(e||"")).split(" "),i={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},r="",a=0;a<n.length;a++)i.fontStyle||-1==s.Styles.indexOf(n[a])?i.fontVariant||-1==s.Variants.indexOf(n[a])?i.fontWeight||-1==s.Weights.indexOf(n[a])?i.fontSize?"inherit"!=n[a]&&(r+=n[a]):("inherit"!=n[a]&&(t.fontSize=n[a].split("/")[0]),i.fontStyle=i.fontVariant=i.fontWeight=i.fontSize=!0):("inherit"!=n[a]&&(t.fontWeight=n[a]),i.fontStyle=i.fontVariant=i.fontWeight=!0):("inherit"!=n[a]&&(t.fontVariant=n[a]),i.fontStyle=i.fontVariant=!0):("inherit"!=n[a]&&(t.fontStyle=n[a]),i.fontStyle=!0);return""!=r&&(t.fontFamily=r),t}},_.ToNumberArray=function(e){for(var t=_.trim(_.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},_.Point=function(e,t){this.x=e,this.y=t},_.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},_.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],e=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=e},_.CreatePoint=function(e){e=_.ToNumberArray(e);return new _.Point(e[0],e[1])},_.CreatePath=function(e){for(var t=_.ToNumberArray(e),n=[],i=0;i<t.length;i+=2)n.push(new _.Point(t[i],t[i+1]));return n},_.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,a){n=e+2/3*(n-e),i=t+2/3*(i-t);this.addBezierCurve(e,t,n,n+1/3*(r-e),i,i+1/3*(a-t),r,a)},this.addBezierCurve=function(e,t,n,r,a,s,o,l){var h=[e,t],u=[n,r],c=[a,s],f=[o,l];for(this.addPoint(h[0],h[1]),this.addPoint(f[0],f[1]),i=0;i<=1;i++){function d(e){return Math.pow(1-e,3)*h[i]+3*Math.pow(1-e,2)*e*u[i]+3*(1-e)*Math.pow(e,2)*c[i]+Math.pow(e,3)*f[i]}var p,g,m=6*h[i]-12*u[i]+6*c[i],y=-3*h[i]+9*u[i]-9*c[i]+3*f[i],v=3*u[i]-3*h[i];0!=y?(p=Math.pow(m,2)-4*v*y)<0||(0<(g=(-m+Math.sqrt(p))/(2*y))&&g<1&&(0==i&&this.addX(d(g)),1==i&&this.addY(d(g))),0<(y=(-m-Math.sqrt(p))/(2*y))&&y<1&&(0==i&&this.addX(d(y)),1==i&&this.addY(d(y)))):0==m||0<(m=-v/m)&&m<1&&(0==i&&this.addX(d(m)),1==i&&this.addY(d(m)))}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},_.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=_.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){e=_.ToNumberArray(e);this.angle=new _.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=_.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=_.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new _.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var n=_.trim(_.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++){var r=n[i].split("(")[0],a=n[i].split("(")[1].replace(")",""),a=new this.Type[r](a);a.type=r,this.transforms.push(a)}},_.AspectRatio=function(e,t,n,i,r,a,s,o,l,h){var u=(t=(t=_.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",c=t.split(" ")[1]||"meet",f=n/i,d=r/a,p=Math.min(f,d),t=Math.max(f,d);"meet"==c&&(i*=p,a*=p),"slice"==c&&(i*=t,a*=t),l=new _.Property("refX",l),h=new _.Property("refY",h),l.hasValue()&&h.hasValue()?e.translate(-p*l.toPixels("x"),-p*h.toPixels("y")):(u.match(/^xMid/)&&("meet"==c&&p==d||"slice"==c&&t==d)&&e.translate(n/2-i/2,0),u.match(/YMid$/)&&("meet"==c&&p==f||"slice"==c&&t==f)&&e.translate(0,r/2-a/2),u.match(/^xMax/)&&("meet"==c&&p==d||"slice"==c&&t==d)&&e.translate(n-i,0),u.match(/YMax$/)&&("meet"==c&&p==f||"slice"==c&&t==f)&&e.translate(0,r-a)),"none"==u?e.scale(f,d):"meet"==c?e.scale(p,p):"slice"==c&&e.scale(t,t),e.translate(null==s?0:-s,null==o?0:-o)},_.Element={},_.EmptyProperty=new _.Property("EMPTY",""),_.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new _.Property(e,""),this.attributes[e]=n),n||_.EmptyProperty)},this.style=function(e,t){var n=this.styles[e];if(null!=n)return n;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i;i=this.parent;if(null!=i){i=i.style(e);if(null!=i&&i.hasValue())return i}return 1==t&&(n=new _.Property(e,""),this.styles[e]=n),n||_.EmptyProperty},this.render=function(e){var t;"none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value&&(e.save(),this.attribute("mask").hasValue()?null!=(t=this.attribute("mask").getDefinition())&&t.apply(e,this):this.style("filter").hasValue()?null!=(t=this.style("filter").getDefinition())&&t.apply(e,this):(this.setContext(e),this.renderChildren(e),this.clearContext(e)),e.restore())},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;((n=t?_.CreateElement(e):n).parent=this).children.push(n)},null!=e&&1==e.nodeType){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&this.addChild(n,!0),this.captureTextNodes&&3==n.nodeType&&this.addChild(new _.Element.tspan(n),!1)}for(t=0;t<e.attributes.length;t++){var i=e.attributes[t];this.attributes[i.nodeName]=new _.Property(i.nodeName,i.nodeValue)}if(null!=(l=_.Styles[e.nodeName]))for(var r in l)this.styles[r]=l[r];if(this.attribute("class").hasValue())for(var a=_.compressSpaces(this.attribute("class").value).split(" "),s=0;s<a.length;s++){if(null!=(l=_.Styles["."+a[s]]))for(var r in l)this.styles[r]=l[r];if(null!=(l=_.Styles[e.nodeName+"."+a[s]]))for(var r in l)this.styles[r]=l[r]}if(this.attribute("id").hasValue())if(null!=(l=_.Styles["#"+this.attribute("id").value]))for(var r in l)this.styles[r]=l[r];if(this.attribute("style").hasValue())for(var o,l=this.attribute("style").value.split(";"),t=0;t<l.length;t++)""!=_.trim(l[t])&&(o=l[t].split(":"),r=_.trim(o[0]),o=_.trim(o[1]),this.styles[r]=new _.Property(r,o));this.attribute("id").hasValue()&&null==_.Definitions[this.attribute("id").value]&&(_.Definitions[this.attribute("id").value]=this)}},_.Element.RenderedElementBase=function(e){this.base=_.Element.ElementBase,this.base(e),this.setContext=function(e){var t,n,i,r;this.style("fill").isUrlDefinition()?null!=(n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(e.fillStyle=n):this.style("fill").hasValue()&&("currentColor"==(t=this.style("fill")).value&&(t.value=this.style("color").value),e.fillStyle="none"==t.value?"rgba(0,0,0,0)":t.value),this.style("fill-opacity").hasValue()&&(t=(t=new _.Property("fill",e.fillStyle)).addOpacity(this.style("fill-opacity").value),e.fillStyle=t.value),this.style("stroke").isUrlDefinition()?null!=(n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(e.strokeStyle=n):this.style("stroke").hasValue()&&("currentColor"==(i=this.style("stroke")).value&&(i.value=this.style("color").value),e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value),this.style("stroke-opacity").hasValue()&&(i=(i=new _.Property("stroke",e.strokeStyle)).addOpacity(this.style("stroke-opacity").value),e.strokeStyle=i.value),this.style("stroke-width").hasValue()&&(r=this.style("stroke-width").toPixels(),e.lineWidth=0==r?.001:r),this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),void 0!==e.font&&(e.font=_.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()&&new _.Transform(this.attribute("transform").value).apply(e),!this.attribute("clip-path").hasValue()||null!=(r=this.attribute("clip-path").getDefinition())&&r.apply(e),this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},_.Element.RenderedElementBase.prototype=new _.Element.ElementBase,_.Element.PathElementBase=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new _.BoundingBox},this.renderChildren=function(e){this.path(e),_.Mouse.checkPath(this,e),""!=e.fillStyle&&e.fill(),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(e,t[0][0],t[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)n.render(e,t[i][0],t[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(e,t[t.length-1][0],t[t.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},_.Element.PathElementBase.prototype=new _.Element.RenderedElementBase,_.Element.svg=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),_.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t,n,i,r=_.ViewPort.width(),a=_.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root&&(r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),n=i=0,this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),n=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(i,n),e.lineTo(r,n),e.lineTo(r,a),e.lineTo(i,a),e.closePath(),e.clip()),_.ViewPort.SetCurrent(r,a),this.attribute("viewBox").hasValue()&&(n=(t=_.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],r=t[2],a=t[3],_.AspectRatio(e,this.attribute("preserveAspectRatio").value,_.ViewPort.width(),r,_.ViewPort.height(),a,n,i,this.attribute("refX").value,this.attribute("refY").value),_.ViewPort.RemoveCurrent(),_.ViewPort.SetCurrent(t[2],t[3]))}},_.Element.svg.prototype=new _.Element.RenderedElementBase,_.Element.rect=function(e){this.base=_.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,r/2),null!=e&&(e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n),e.closePath()),new _.BoundingBox(t,n,t+i,n+r)}},_.Element.rect.prototype=new _.Element.PathElementBase,_.Element.circle=function(e){this.base=_.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!0),e.closePath()),new _.BoundingBox(t-i,n-i,t+i,n+i)}},_.Element.circle.prototype=new _.Element.PathElementBase,_.Element.ellipse=function(e){this.base=_.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(r,a-i),e.bezierCurveTo(r+t*n,a-i,r+n,a-t*i,r+n,a),e.bezierCurveTo(r+n,a+t*i,r+t*n,a+i,r,a+i),e.bezierCurveTo(r-t*n,a+i,r-n,a+t*i,r-n,a),e.bezierCurveTo(r-n,a-t*i,r-t*n,a-i,r,a-i),e.closePath()),new _.BoundingBox(r-n,a-i,r+n,a+i)}},_.Element.ellipse.prototype=new _.Element.PathElementBase,_.Element.line=function(e){this.base=_.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new _.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new _.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new _.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},_.Element.line.prototype=new _.Element.PathElementBase,_.Element.polyline=function(e){this.base=_.Element.PathElementBase,this.base(e),this.points=_.CreatePath(this.attribute("points").value),this.path=function(e){var t=new _.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},_.Element.polyline.prototype=new _.Element.PathElementBase,_.Element.polygon=function(e){this.base=_.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},_.Element.polygon.prototype=new _.Element.polyline,_.Element.path=function(e){this.base=_.Element.PathElementBase,this.base(e);e=this.attribute("d").value;e=(e=(e=(e=(e=(e=(e=(e=e.replace(/,/gm," ")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")).replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/(\.[0-9]*)(\.)/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=_.compressSpaces(e),e=_.trim(e),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new _.Point(0,0),this.control=new _.Point(0,0),this.current=new _.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new _.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()?this.current:new _.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(e),this.path=function(e){var t=this.PathParser;t.reset();var n=new _.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var i=t.getAsCurrentPoint();for(t.addMarker(i),n.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();){i=t.getAsCurrentPoint();t.addMarker(i,t.start),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var r=t.current,i=t.getAsCurrentPoint();t.addMarker(i,r),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var a=new _.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(a,t.current),t.current=a,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){a=new _.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(a,t.current),t.current=a,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var s=t.current,o=t.getPoint(),l=t.getAsControlPoint(),h=t.getAsCurrentPoint();t.addMarker(h,l,o),n.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,h.x,h.y),null!=e&&e.bezierCurveTo(o.x,o.y,l.x,l.y,h.x,h.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){s=t.current,o=t.getReflectedControlPoint(),l=t.getAsControlPoint(),h=t.getAsCurrentPoint();t.addMarker(h,l,o),n.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,h.x,h.y),null!=e&&e.bezierCurveTo(o.x,o.y,l.x,l.y,h.x,h.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){s=t.current,l=t.getAsControlPoint(),h=t.getAsCurrentPoint();t.addMarker(h,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,h.x,h.y),null!=e&&e.quadraticCurveTo(l.x,l.y,h.x,h.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){s=t.current,l=t.getReflectedControlPoint();t.control=l;h=t.getAsCurrentPoint();t.addMarker(h,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,h.x,h.y),null!=e&&e.quadraticCurveTo(l.x,l.y,h.x,h.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){var s=t.current,u=t.getScalar(),c=t.getScalar(),f=t.getScalar()*(Math.PI/180),d=t.getScalar(),p=t.getScalar(),h=t.getAsCurrentPoint(),g=new _.Point(Math.cos(f)*(s.x-h.x)/2+Math.sin(f)*(s.y-h.y)/2,-Math.sin(f)*(s.x-h.x)/2+Math.cos(f)*(s.y-h.y)/2),m=Math.pow(g.x,2)/Math.pow(u,2)+Math.pow(g.y,2)/Math.pow(c,2);1<m&&(u*=Math.sqrt(m),c*=Math.sqrt(m));var y=(d==p?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(c,2)-Math.pow(u,2)*Math.pow(g.y,2)-Math.pow(c,2)*Math.pow(g.x,2))/(Math.pow(u,2)*Math.pow(g.y,2)+Math.pow(c,2)*Math.pow(g.x,2)));isNaN(y)&&(y=0);var v=new _.Point(y*u*g.y/c,y*-c*g.x/u),b=new _.Point((s.x+h.x)/2+Math.cos(f)*v.x-Math.sin(f)*v.y,(s.y+h.y)/2+Math.sin(f)*v.x+Math.cos(f)*v.y),x=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(x(e)*x(t))},m=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},d=m([1,0],[(g.x-v.x)/u,(g.y-v.y)/c]),y=[(g.x-v.x)/u,(g.y-v.y)/c],g=[(-g.x-v.x)/u,(-g.y-v.y)/c],v=m(y,g);w(y,g)<=-1&&(v=Math.PI);m=1-p?1:-1,y=d+(v=1<=w(y,g)?0:v)/2*m,g=new _.Point(b.x+u*Math.cos(y),b.y+c*Math.sin(y));t.addMarkerAngle(g,y-m*Math.PI/2),t.addMarkerAngle(h,y-m*Math.PI),n.addPoint(h.x,h.y),null!=e&&(w=c<u?u:c,m=c<u?1:u/c,u=c<u?c/u:1,e.translate(b.x,b.y),e.rotate(f),e.scale(m,u),e.arc(0,0,w,d,d+v,1-p),e.scale(1/m,1/u),e.rotate(-f),e.translate(-b.x,-b.y))}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return n},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},_.Element.path.prototype=new _.Element.PathElementBase,_.Element.pattern=function(e){this.base=_.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),r=new _.Element.svg;r.attributes.viewBox=new _.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new _.Property("width",n+"px"),r.attributes.height=new _.Property("height",i+"px"),r.attributes.transform=new _.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var a=document.createElement("canvas");a.width=n,a.height=i;var s=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var o=-1;o<=1;o++)for(var l=-1;l<=1;l++)s.save(),s.translate(o*a.width,l*a.height),r.render(s),s.restore();return e.createPattern(a,"repeat")}},_.Element.pattern.prototype=new _.Element.ElementBase,_.Element.marker=function(e){this.base=_.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new _.Element.svg;i.attributes.viewBox=new _.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new _.Property("refX",this.attribute("refX").value),i.attributes.refY=new _.Property("refY",this.attribute("refY").value),i.attributes.width=new _.Property("width",this.attribute("markerWidth").value),i.attributes.height=new _.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new _.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new _.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},_.Element.marker.prototype=new _.Element.ElementBase,_.Element.defs=function(e){this.base=_.Element.ElementBase,this.base(e),this.render=function(e){}},_.Element.defs.prototype=new _.Element.ElementBase,_.Element.GradientBase=function(e){this.base=_.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.createGradient=function(e,t,n){var i=this;this.attribute("xlink:href").hasValue()&&(i=this.attribute("xlink:href").getDefinition());function r(e){return n.hasValue()?new _.Property("color",e).addOpacity(n.value).value:e}var a=this.getGradient(e,t);if(null==a)return r(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,r(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var o=_.ViewPort.viewPorts[0],e=new _.Element.rect;e.attributes.x=new _.Property("x",-_.MAX_VIRTUAL_PIXELS/3),e.attributes.y=new _.Property("y",-_.MAX_VIRTUAL_PIXELS/3),e.attributes.width=new _.Property("width",_.MAX_VIRTUAL_PIXELS),e.attributes.height=new _.Property("height",_.MAX_VIRTUAL_PIXELS);t=new _.Element.g;t.attributes.transform=new _.Property("transform",this.attribute("gradientTransform").value),t.children=[e];e=new _.Element.svg;e.attributes.x=new _.Property("x",0),e.attributes.y=new _.Property("y",0),e.attributes.width=new _.Property("width",o.width),e.attributes.height=new _.Property("height",o.height),e.children=[t];t=document.createElement("canvas");t.width=o.width,t.height=o.height;o=t.getContext("2d");return o.fillStyle=a,e.render(o),o.createPattern(t,"no-repeat")}return a}},_.Element.GradientBase.prototype=new _.Element.ElementBase,_.Element.linearGradient=function(e){this.base=_.Element.GradientBase,this.base(e),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),t="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),n="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==t&&r==n?null:e.createLinearGradient(i,r,t,n)}},_.Element.linearGradient.prototype=new _.Element.GradientBase,_.Element.radialGradient=function(e){this.base=_.Element.GradientBase,this.base(e),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,t=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(t="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));n="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(a,t,0,i,r,n)}},_.Element.radialGradient.prototype=new _.Element.GradientBase,_.Element.stop=function(e){this.base=_.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);e=this.style("stop-color");this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity").value)),this.color=e.value},_.Element.stop.prototype=new _.Element.ElementBase,_.Element.AnimateBase=function(e){this.base=_.Element.ElementBase,this.base(e),_.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed&&(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+e;var t=!1;return this.begin<this.duration&&(e=this.calcValue(),this.attribute("type").hasValue()&&(e=this.attribute("type").value+"("+e+")"),this.getProperty().value=e,t=!0),t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e,t,n,i={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return this.values.hasValue()?(e=i.progress*(this.values.value.length-1),t=Math.floor(e),n=Math.ceil(e),i.from=new _.Property("from",parseFloat(this.values.value[t])),i.to=new _.Property("to",parseFloat(this.values.value[n])),i.progress=(e-t)/(n-t)):(i.from=this.from,i.to=this.to),i}},_.Element.AnimateBase.prototype=new _.Element.ElementBase,_.Element.animate=function(e){this.base=_.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},_.Element.animate.prototype=new _.Element.AnimateBase,_.Element.animateColor=function(e){this.base=_.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=new f(e.from.value),n=new f(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,r=t.g+(n.g-t.g)*e.progress,e=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(r,10)+","+parseInt(e,10)+")"}return this.attribute("from").value}},_.Element.animateColor.prototype=new _.Element.AnimateBase,_.Element.animateTransform=function(e){this.base=_.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=_.ToNumberArray(e.from.value),n=_.ToNumberArray(e.to.value),i="",r=0;r<t.length;r++)i+=t[r]+(n[r]-t[r])*e.progress+" ";return i}},_.Element.animateTransform.prototype=new _.Element.animate,_.Element.font=function(e){this.base=_.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n).style("font-family").hasValue()&&(_.Definitions[n.style("font-family").value]=this):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},_.Element.font.prototype=new _.Element.ElementBase,_.Element.fontface=function(e){this.base=_.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},_.Element.fontface.prototype=new _.Element.ElementBase,_.Element.missingglyph=function(e){this.base=_.Element.path,this.base(e),this.horizAdvX=0},_.Element.missingglyph.prototype=new _.Element.path,_.Element.glyph=function(e){this.base=_.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},_.Element.glyph.prototype=new _.Element.path,_.Element.text=function(e){this.captureTextNodes=!0,this.base=_.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var t=0;t<this.children.length;t++)this.renderChild(e,this,t)},this.renderChild=function(e,t,n){var i=t.children[n];i.attribute("x").hasValue()?i.x=i.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),i.attribute("dx").hasValue()&&(this.x+=i.attribute("dx").toPixels("x")),i.x=this.x);t=i.measureText(e);if("start"!=this.textAnchor&&(0==n||i.attribute("x").hasValue())){for(var r=t,a=n+1;a<this.children.length;a++){var s=this.children[a];if(s.attribute("x").hasValue())break;r+=s.measureText(e)}i.x-="end"==this.textAnchor?r:r/2}this.x=i.x+t,i.attribute("y").hasValue()?i.y=i.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),i.attribute("dy").hasValue()&&(this.y+=i.attribute("dy").toPixels("y")),i.y=this.y),this.y=i.y,i.render(e);for(n=0;n<i.children.length;n++)this.renderChild(e,i,n)}},_.Element.text.prototype=new _.Element.RenderedElementBase,_.Element.TextElementBase=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i,r=t[n],a=null;return e.isArabic?(i="isolated",(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(i="terminal"),0<n&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(i="medial"),0<n&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(i="initial"),void 0!==e.glyphs[r]&&null==(a=e.glyphs[r][i])&&"glyph"==e.glyphs[r].type&&(a=e.glyphs[r])):a=e.glyphs[r],a=null==a?e.missingGlyph:a},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(_.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(_.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(_.Font.Parse(_.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(_.Font.Parse(_.ctx.font).fontStyle),r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var a=_.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var o=this.getGlyph(t,r,s),l=n/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(l,-l);var h=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==i&&e.transform(1,0,.4,1,0,0),o.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=h,e.scale(1/l,-1/l),e.translate(-this.x,-this.y),this.x+=n*(o.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var n=this.parent.style("font-size").numValueOrDefault(_.Font.Parse(_.ctx.font).fontSize),i=0,r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var a=_.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++)i+=(this.getGlyph(t,r,s).horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(i+=a[s]);return i}var o=_.compressSpaces(this.getText());if(!e.measureText)return 10*o.length;e.save(),this.setContext(e);o=e.measureText(o).width;return e.restore(),o}},_.Element.TextElementBase.prototype=new _.Element.RenderedElementBase,_.Element.tspan=function(e){this.captureTextNodes=!0,this.base=_.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},_.Element.tspan.prototype=new _.Element.TextElementBase,_.Element.tref=function(e){this.base=_.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();if(null!=e)return e.children[0].getText()}},_.Element.tref.prototype=new _.Element.TextElementBase,_.Element.a=function(e){this.base=_.Element.TextElementBase,this.base(e),this.hasText=!0;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){var t;this.hasText?(this.baseRenderChildren(e),t=new _.Property("fontSize",_.Font.Parse(_.ctx.font).fontSize),_.Mouse.checkBoundingBox(this,new _.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))):((t=new _.Element.g).children=this.children,t.parent=this,t.render(e))},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){_.ctx.canvas.style.cursor="pointer"}},_.Element.a.prototype=new _.Element.TextElementBase,_.Element.image=function(e){this.base=_.Element.RenderedElementBase,this.base(e);var t,n=this.attribute("xlink:href").value,a=n.match(/\.svg$/);_.Images.push(this),this.loaded=!1,a?(this.img=_.ajax(n),this.loaded=!0):(this.img=document.createElement("img"),(t=this).img.onload=function(){t.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+n+'" not found'),t.loaded=!0},this.img.src=n),this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");0!=i&&0!=r&&(e.save(),a?e.drawSvg(this.img,t,n,i,r):(e.translate(t,n),_.AspectRatio(e,this.attribute("preserveAspectRatio").value,i,this.img.width,r,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new _.BoundingBox(e,t,e+n,t+i)}},_.Element.image.prototype=new _.Element.RenderedElementBase,_.Element.g=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new _.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},_.Element.g.prototype=new _.Element.RenderedElementBase,_.Element.symbol=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){var t,n,i;this.baseSetContext(e),this.attribute("viewBox").hasValue()&&(n=(t=_.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],width=t[2],height=t[3],_.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,n,i),_.ViewPort.SetCurrent(t[2],t[3]))}},_.Element.symbol.prototype=new _.Element.RenderedElementBase,_.Element.style=function(e){this.base=_.Element.ElementBase,this.base(e);for(var t="",n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");for(var i=(t=_.compressSpaces(t)).split("}"),n=0;n<i.length;n++)if(""!=_.trim(i[n]))for(var r=i[n].split("{"),a=r[0].split(","),s=r[1].split(";"),o=0;o<a.length;o++){var l=_.trim(a[o]);if(""!=l){for(var h={},u=0;u<s.length;u++){var c=s[u].indexOf(":"),f=s[u].substr(0,c),c=s[u].substr(c+1,s[u].length-c);null!=f&&null!=c&&(h[_.trim(f)]=new _.Property(_.trim(f),_.trim(c)))}if(_.Styles[l]=h,"@font-face"==l)for(var d=h["font-family"].value.replace(/"/g,""),p=h.src.value.split(","),g=0;g<p.length;g++)if(0<p[g].indexOf('format("svg")'))for(var m=p[g].indexOf("url"),y=p[g].indexOf(")",m),m=p[g].substr(m+5,y-m-6),v=_.parseXml(_.ajax(m)).getElementsByTagName("font"),b=0;b<v.length;b++){var x=_.CreateElement(v[b]);_.Definitions[d]=x}}}},_.Element.style.prototype=new _.Element.ElementBase,_.Element.use=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var t=this.getDefinition();null!=t&&t.path(e)},this.renderChildren=function(e){var t,n=this.getDefinition();null!=n&&(t=n.parent,n.parent=null,n.render(e),n.parent=t)}},_.Element.use.prototype=new _.Element.RenderedElementBase,_.Element.mask=function(e){this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=t.attribute("mask").value;t.attribute("mask").value="";var o=document.createElement("canvas");o.width=n+r,o.height=i+a;var l=o.getContext("2d");this.renderChildren(l);var h=document.createElement("canvas");h.width=n+r,h.height=i+a;var u=h.getContext("2d");t.render(u),u.globalCompositeOperation="destination-in",u.fillStyle=l.createPattern(o,"no-repeat"),u.fillRect(0,0,n+r,i+a),e.fillStyle=u.createPattern(h,"no-repeat"),e.fillRect(0,0,n+r,i+a),t.attribute("mask").value=s},this.render=function(e){}},_.Element.mask.prototype=new _.Element.ElementBase,_.Element.clipPath=function(e){this.base=_.Element.ElementBase,this.base(e),this.apply=function(e){for(var t=0;t<this.children.length;t++)this.children[t].path&&(this.children[t].path(e),e.clip())},this.render=function(e){}},_.Element.clipPath.prototype=new _.Element.ElementBase,_.Element.filter=function(e){this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y");"image"!=t.type&&0!=i&&0!=r||(i=n.x1,r=n.y1);var a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");"image"!=t.type&&0!=a&&0!=s||(a=n.width(),s=n.height());var o=t.style("filter").value;t.style("filter").value="";var n="image"==t.type?0:.2,l=n*a,h=n*s,n=document.createElement("canvas");n.width=a+2*l,n.height=s+2*h;var u=n.getContext("2d");u.translate(l-i,h-r),t.render(u);for(var c=0;c<this.children.length;c++)this.children[c].apply(u,0,0,a+2*l,s+2*h);e.drawImage(n,0,0,a+2*l,s+2*h,i-l,r-h,a+2*l,s+2*h),t.style("filter",!0).value=o},this.render=function(e){}},_.Element.filter.prototype=new _.Element.ElementBase,_.Element.feColorMatrix=function(e){function o(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function l(e,t,n,i,r,a,s){e[n*i*4+4*t+a]=s}this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){for(var a=e.getImageData(0,0,i,r),n=0;n<r;n++)for(t=0;t<i;t++){var s=(o(a.data,t,n,i,0,0)+o(a.data,t,n,i,0,1)+o(a.data,t,n,i,0,2))/3;l(a.data,t,n,i,0,0,s),l(a.data,t,n,i,0,1,s),l(a.data,t,n,i,0,2,s)}e.clearRect(0,0,i,r),e.putImageData(a,0,0)}},_.Element.filter.prototype=new _.Element.feColorMatrix,_.Element.feGaussianBlur=function(e){function a(e,t,n,i,r){for(var a,s=0;s<r;s++)for(var o=0;o<i;o++)for(var l=e[s*i*4+4*o+3]/255,h=0;h<4;h++){for(var u=n[0]*(0==l?255:e[s*i*4+4*o+h])*(0==l||3==h?1:l),c=1;c<n.length;c++){var f=p(e,Math.max(o-c,0),s,i,0,3)/255,d=p(e,Math.min(o+c,i-1),s,i,0,3)/255;u+=n[c]*((0==f?255:p(e,Math.max(o-c,0),s,i,0,h))*(0==f||3==h?1:f)+(0==d?255:p(e,Math.min(o+c,i-1),s,i,0,h))*(0==d||3==h?1:d))}a=u,t[o*r*4+4*s+h]=a}}function p(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function s(e,t,n,i){var r=e.getImageData(0,0,t,n),i=function(e){for(var t=0,n=1;n<e.length;n++)t+=Math.abs(e[n]);for(t=2*t+Math.abs(e[0]),n=0;n<e.length;n++)e[n]/=t;return e}(i=function(e){e=Math.max(e,.01);var t=Math.ceil(4*e)+1;mask=[];for(var n=0;n<t;n++)mask[n]=Math.exp(n/e*-.5*(n/e));return mask}(i));tmp=[],a(r.data,tmp,i,t,n),a(tmp,r.data,i,n,t),e.clearRect(0,0,t,n),e.putImageData(r,0,0)}this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){s(e,i,r,this.attribute("stdDeviation").numValue())}},_.Element.filter.prototype=new _.Element.feGaussianBlur,_.Element.title=function(e){},_.Element.title.prototype=new _.Element.ElementBase,_.Element.desc=function(e){},_.Element.desc.prototype=new _.Element.ElementBase,_.Element.MISSING=function(e){console&&console.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},_.Element.MISSING.prototype=new _.Element.ElementBase,_.CreateElement=function(e){var t=(t=e.nodeName.replace(/^[^:]+:/,"")).replace(/\-/g,""),n=null;return(n=new(void 0!==_.Element[t]?_.Element[t]:_.Element.MISSING)(e)).type=e.nodeName,n},_.load=function(e,t){_.loadXml(e,_.ajax(t))},_.loadXml=function(e,t){_.loadXmlDoc(e,_.parseXml(t))},_.loadXmlDoc=function(a,e){_.init(a);function t(e){for(var t=a.canvas;t;)e.x-=t.offsetLeft,e.y-=t.offsetTop,t=t.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e}1!=_.opts.ignoreMouse&&(a.canvas.onclick=function(e){e=t(new _.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));_.Mouse.onclick(e.x,e.y)},a.canvas.onmousemove=function(e){e=t(new _.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));_.Mouse.onmousemove(e.x,e.y)});function n(){_.ViewPort.Clear(),a.canvas.parentNode&&_.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight),1!=_.opts.ignoreDimensions&&(s.style("width").hasValue()&&(a.canvas.width=s.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),s.style("height").hasValue()&&(a.canvas.height=s.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var e,t,n,i=a.canvas.clientWidth||a.canvas.width,r=a.canvas.clientHeight||a.canvas.height;1==_.opts.ignoreDimensions&&s.style("width").hasValue()&&s.style("height").hasValue()&&(i=s.style("width").toPixels("x"),r=s.style("height").toPixels("y")),_.ViewPort.SetCurrent(i,r),null!=_.opts.offsetX&&(s.attribute("x",!0).value=_.opts.offsetX),null!=_.opts.offsetY&&(s.attribute("y",!0).value=_.opts.offsetY),null!=_.opts.scaleWidth&&null!=_.opts.scaleHeight&&(t=e=1,n=_.ToNumberArray(s.attribute("viewBox").value),s.attribute("width").hasValue()?e=s.attribute("width").toPixels("x")/_.opts.scaleWidth:isNaN(n[2])||(e=n[2]/_.opts.scaleWidth),s.attribute("height").hasValue()?t=s.attribute("height").toPixels("y")/_.opts.scaleHeight:isNaN(n[3])||(t=n[3]/_.opts.scaleHeight),s.attribute("width",!0).value=_.opts.scaleWidth,s.attribute("height",!0).value=_.opts.scaleHeight,s.attribute("viewBox",!0).value="0 0 "+i*e+" "+r*t,s.attribute("preserveAspectRatio",!0).value="none"),1!=_.opts.ignoreClear&&a.clearRect(0,0,i,r),s.render(a),o&&(o=!1,"function"==typeof _.opts.renderCallback&&_.opts.renderCallback())}var s=_.CreateElement(e.documentElement),o=s.root=!0,i=!0;_.ImagesLoaded()&&(i=!1,n()),_.intervalID=setInterval(function(){var e=!1;if(i&&_.ImagesLoaded()&&(e=!(i=!1)),1!=_.opts.ignoreMouse&&(e|=_.Mouse.hasEvents()),1!=_.opts.ignoreAnimation)for(var t=0;t<_.Animations.length;t++)e|=_.Animations[t].update(1e3/_.FRAMERATE);(e="function"==typeof _.opts.forceRedraw&&1==_.opts.forceRedraw()?!0:e)&&(n(),_.Mouse.runEvents())},1e3/_.FRAMERATE)},_.stop=function(){_.intervalID&&clearInterval(_.intervalID)},_.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){_.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}},_);1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=r),r.opts=n;e=e.getContext("2d");void 0!==t.documentElement?r.loadXmlDoc(e,t):"<"==t.substr(0,1)?r.loadXml(e,t):r.load(e,t)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var o=a[s],l=document.createElement("canvas");l.width=o.clientWidth,l.height=o.clientHeight,o.parentNode.insertBefore(l,o),o.parentNode.removeChild(o);var h=document.createElement("div");h.appendChild(o),canvg(l,h.innerHTML)}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r){canvg(this.canvas,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r})}),function(e){var l,h,u,t,o,s,c,f,d,p,M,k,g,m,E,S,T,i,F,D,N,y,v,b,I,B,A,O,R,x,w,r=function(e){return new r.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=r:e.Globalize=r,r.cultures={},(r.prototype={constructor:r,init:function(e){return this.cultures=r.cultures,this.cultureSelector=e,this}}).init.prototype=r.prototype,r.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},r.cultures.default.calendar=r.cultures.default.calendars.standard,r.cultures.en=r.cultures.default,r.cultureSelector="en",l=/^0x[a-f0-9]+$/i,h=/^[+\-]?infinity$/i,u=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,o=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},s=function(e,t){return e.substr(e.length-t.length)===t},c=function(){var e,t,n,i,r,a=arguments[0]||{},s=1,o=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},s=2),"object"==typeof a||d(a)||(a={});s<o;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],a!==(n=e[t])&&(l&&n&&(p(n)||(i=f(n)))?(r=i?(i=!1,r&&f(r)?r:[]):r&&p(r)?r:{},a[t]=c(l,r,n)):void 0!==n&&(a[t]=n));return a},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=function(e){return"[object Function]"===Object.prototype.toString.call(e)},p=function(e){return"[object Object]"===Object.prototype.toString.call(e)},M=function(e,t){return 0===e.indexOf(t)},k=function(e){return(e+"").replace(t,"")},g=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},m=function(e,t,n){for(var i=e.length;i<t;i+=1)e=n?"0"+e:e+"0";return e},E=function(e,t){for(var n=0,i=!1,r=0,a=e.length;r<a;r++){var s=e.charAt(r);switch(s){case"'":i?t.push("'"):n++,i=!1;break;case"\\":i&&t.push("\\"),i=!i;break;default:t.push(s),i=!1}}return n},S=function(e,t){var n=e.patterns,e=(t=t||"F").length;if(1===e){if(!(n=n[t]))throw"Invalid date format string '"+t+"'.";t=n}else 2===e&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},T=function(e,t,n){var i,r,a=n.calendar,s=a.convert;if(!t||!t.length||"i"===t)return r=n&&n.name.length?s?T(e,a.patterns.F,n):(i=new Date(e.getTime()),n=D(e,a.eras),i.setFullYear(N(e,a,n)),i.toLocaleString()):e.toString();var o=a.eras,l="s"===t;t=S(a,t),r=[];var h,u,c,f,d=["0","00","000"],p=/([^d]|^)(d|dd)([^d]|$)/g,g=0,m=F();function y(e,t){var n,e=e+"";return 1<t&&e.length<t?(n=d[t-2]+e).substr(n.length-t,t):n=e}function v(e,t){if(f)return f[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}for(!l&&s&&(f=s.fromGregorian(e));;){var b=m.lastIndex,x=m.exec(t),b=t.slice(b,x?x.index:t.length);if(g+=E(b,r),!x)break;if(g%2)r.push(x[0]);else{var w=x[0],_=w.length;switch(w){case"ddd":case"dddd":var P=3===_?a.days.namesAbbr:a.days.names;r.push(P[e.getDay()]);break;case"d":case"dd":u=!0,r.push(y(v(e,2),_));break;case"MMM":case"MMMM":var C=v(e,1);r.push((a.monthsGenitive&&(u||c||(u=p.test(t),c=!0),u)?a.monthsGenitive:a.months)[3===_?"namesAbbr":"names"][C]);break;case"M":case"MM":r.push(y(v(e,1)+1,_));break;case"y":case"yy":case"yyyy":C=f?f[0]:N(e,a,D(e,o),l),_<4&&(C%=100),r.push(y(C,_));break;case"h":case"hh":0===(h=e.getHours()%12)&&(h=12),r.push(y(h,_));break;case"H":case"HH":r.push(y(e.getHours(),_));break;case"m":case"mm":r.push(y(e.getMinutes(),_));break;case"s":case"ss":r.push(y(e.getSeconds(),_));break;case"t":case"tt":C=e.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",r.push(1===_?C.charAt(0):C);break;case"f":case"ff":case"fff":r.push(y(e.getMilliseconds(),3).substr(0,_));break;case"z":case"zz":h=e.getTimezoneOffset()/60,r.push((h<=0?"+":"-")+y(Math.floor(Math.abs(h)),_));break;case"zzz":h=e.getTimezoneOffset()/60,r.push((h<=0?"+":"-")+y(Math.floor(Math.abs(h)),2)+":"+y(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":a.eras&&r.push(a.eras[D(e,o)].name);break;case"/":r.push(a["/"]);break;default:throw"Invalid date format pattern '"+w+"'."}}}return r.join("")},b=function(e,t,n){var i=n.groupSizes,r=i[0],a=1,s=Math.pow(10,t),s=Math.round(e*s)/s,o=(e=s=!isFinite(s)?e:s)+"",l="",s=o.split(/e/i),e=1<s.length?parseInt(s[1],10):0;o=(s=(o=s[0]).split("."))[0],l=1<s.length?s[1]:"",0<e?(o+=(l=m(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(o=m(o,(e=-e)+1,!0)).slice(-e,o.length)+l,o=o.slice(0,-e));for(var l=0<t?n["."]+(l.length>t?l.slice(0,t):m(l,t)):"",h=o.length-1,u=n[","],c="";0<=h;){if(0===r||h<r)return o.slice(0,h+1)+(c.length?u+c+l:l);c=o.slice(h-r+1,h+1)+(c.length?u+c:""),h-=r,a<i.length&&(r=i[a],a++)}return o.slice(0,h+1)+u+c+l},i=function(e,t,n){if(!isFinite(e))return e===1/0?n.numberFormat.positiveInfinity:e===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!t||"i"===t)return n.name.length?e.toLocaleString():e.toString();t=t||"D";var i,r=n.numberFormat,a=Math.abs(e),s=-1;1<t.length&&(s=parseInt(t.slice(1),10));var o,l=t.charAt(0).toUpperCase();switch(l){case"D":i="n",a=g(a),-1!==s&&(a=m(""+a,s,!0)),e<0&&(a="-"+a);break;case"N":o=r;case"C":o=o||r.currency;case"P":o=o||r.percent,i=e<0?o.pattern[0]:o.pattern[1]||"n",-1===s&&(s=o.decimals),a=b(a*("P"===l?100:1),s,o);break;default:throw"Bad number format specifier: "+l}for(var h=/n|\$|-|%/g,u="";;){var c=h.lastIndex,f=h.exec(i);if(u+=i.slice(c,f?f.index:i.length),!f)break;switch(f[0]){case"n":u+=a;break;case"$":u+=r.currency.symbol;break;case"-":/[1-9]/.test(a)&&(u+=r["-"]);break;case"%":u+=r.percent.symbol}}return u},F=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},D=function(e,t){if(!t)return 0;for(var n,i=e.getTime(),r=0,a=t.length;r<a;r++)if(null===(n=t[r].start)||n<=i)return r;return 0},N=function(e,t,n,i){e=e.getFullYear();return!i&&t.eras&&(e-=t.eras[n].offset),e},I=function(e,t){var n,i;return t<100&&(n=new Date,i=D(n),i=N(n,e,i),(e="string"==typeof(e=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(e,10):e)<(t+=i-i%100)&&(t-=100)),t},B=function(e,t,n){var i,r=e.days,a=e._upperDays;return a||(e._upperDays=a=[w(r.names),w(r.namesAbbr),w(r.namesShort)]),t=x(t),n?-1===(i=o(a[1],t))&&(i=o(a[2],t)):i=o(a[0],t),i},A=function(e,t,n){var i=e.months,r=e.monthsGenitive||e.months,a=e._upperMonths,s=e._upperMonthsGen;a||(e._upperMonths=a=[w(i.names),w(i.namesAbbr)],e._upperMonthsGen=s=[w(r.names),w(r.namesAbbr)]),t=x(t);a=o(n?a[1]:a[0],t);return a=a<0?o(n?s[1]:s[0],t):a},O=function(e,t){var n=e._parseRegExp;if(n){var i=n[t];if(i)return i}else e._parseRegExp=n={};for(var r,a=S(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,h=0,u=F();null!==(r=u.exec(a));){var c=a.slice(l,r.index),l=u.lastIndex;if((h+=E(c,s))%2)s.push(r[0]);else{var f,d=r[0],p=d.length;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\/)";break;default:throw"Invalid date format pattern '"+d+"'."}f&&s.push(f),o.push(r[0])}}E(a.slice(l),s),s.push("$");e=s.join("").replace(/\s+/g,"\\s+");return n[t]={regExp:e,groups:o}},R=function(e,t,n){return e<t||n<e},x=function(e){return e.split(" ").join(" ").toUpperCase()},w=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=x(e[n]);return t},y=function(e,t,n){e=k(e);var i=n.calendar,n=O(i,t),r=new RegExp(n.regExp).exec(e);if(null===r)return null;for(var a,s=n.groups,o=null,l=null,h=null,u=null,c=null,f=0,d=0,p=0,g=0,m=null,y=!1,v=0,b=s.length;v<b;v++){var x=r[v+1];if(x){var w=s[v],_=w.length,P=parseInt(x,10);switch(w){case"dd":case"d":if(R(u=P,1,31))return null;break;case"MMM":case"MMMM":if(h=A(i,x,3===_),R(h,0,11))return null;break;case"M":case"MM":if(R(h=P-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=_<4?I(i,P):P,R(l,0,9999))return null;break;case"h":case"hh":if(R(f=12===(f=P)?0:f,0,11))return null;break;case"H":case"HH":if(R(f=P,0,23))return null;break;case"m":case"mm":if(R(d=P,0,59))return null;break;case"s":case"ss":if(R(p=P,0,59))return null;break;case"tt":case"t":if(!(y=i.PM&&(x===i.PM[0]||x===i.PM[1]||x===i.PM[2]))&&(!i.AM||x!==i.AM[0]&&x!==i.AM[1]&&x!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=P*Math.pow(10,3-_),R(g,0,999))return null;break;case"ddd":case"dddd":if(c=B(i,x,3===_),R(c,0,6))return null;break;case"zzz":var C=x.split(/:/);if(2!==C.length)return null;if(a=parseInt(C[0],10),R(a,-12,13))return null;C=parseInt(C[1],10);if(R(C,0,59))return null;m=60*a+(M(x,"-")?-C:C);break;case"z":case"zz":if(R(a=P,-12,13))return null;m=60*a;break;case"g":case"gg":if(!(E=x)||!i.eras)return null;for(var E=k(E.toLowerCase()),S=0,T=i.eras.length;S<T;S++)if(E===i.eras[S].name.toLowerCase()){o=S;break}if(null===o)return null}}}t=new Date,e=i.convert,n=e?e.fromGregorian(t)[0]:t.getFullYear();if(null===l?l=n:i.eras&&(l+=i.eras[o||0].offset),null===h&&(h=0),null===u&&(u=1),e){if(null===(t=e.toGregorian(l,h,u)))return null}else{if(t.setFullYear(l,h,u),t.getDate()!==u)return null;if(null!==c&&t.getDay()!==c)return null}return y&&f<12&&(f+=12),t.setHours(f,d,p,g),null!==m&&(e=t.getMinutes()-(m+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(e/60,10),e%60)),t},v=function(e,t,n){var i,r=t["-"],a=t["+"];switch(n){case"n -":r=" "+r,a=" "+a;case"n-":s(e,r)?i=["-",e.substr(0,e.length-r.length)]:s(e,a)&&(i=["+",e.substr(0,e.length-a.length)]);break;case"- n":r+=" ",a+=" ";case"-n":M(e,r)?i=["-",e.substr(r.length)]:M(e,a)&&(i=["+",e.substr(a.length)]);break;case"(n)":M(e,"(")&&s(e,")")&&(i=["-",e.substr(1,e.length-2)])}return i||["",e]},r.prototype.findClosestCulture=function(e){return r.findClosestCulture.call(this,e)},r.prototype.format=function(e,t,n){return r.format.call(this,e,t,n)},r.prototype.localize=function(e,t){return r.localize.call(this,e,t)},r.prototype.parseInt=function(e,t,n){return r.parseInt.call(this,e,t,n)},r.prototype.parseFloat=function(e,t,n){return r.parseFloat.call(this,e,t,n)},r.prototype.culture=function(e){return r.culture.call(this,e)},r.addCultureInfo=function(e,t,n){var i={},r=!1,i="string"!=typeof e?(n=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(n=t,r=null==this.cultures[e],this.cultures[e]||this.cultures.default):(r=!0,this.cultures[t]);this.cultures[e]=c(!0,{},i,n),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},r.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),f(e)){for(var n=this.cultures,i=e,r=i.length,a=[],s=0;s<r;s++){var o=(e=k(i[s])).split(";"),l=k(o[0]),h=1!==o.length&&0===(e=k(o[1])).indexOf("q=")?(e=e.substr(2),h=parseFloat(e),isNaN(h)?0:h):1;a.push({lang:l,pri:h})}for(a.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),s=0;s<r;s++)if(t=n[l=a[s].lang])return t;for(s=0;s<r;s++)for(l=a[s].lang;;){var u=l.lastIndexOf("-");if(-1===u)break;if(t=n[l=l.substr(0,u)])return t}for(s=0;s<r;s++)for(var c in l=a[s].lang,n){c=n[c];if(c.language==l)return c}}else if("object"==typeof e)return e;return t||null},r.format=function(e,t,n){n=this.findClosestCulture(n);return e instanceof Date?e=T(e,t,n):"number"==typeof e&&(e=i(e,t,n)),e},r.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},r.parseDate=function(e,t,n){var i,r,a;if(n=this.findClosestCulture(n),t){if((t="string"==typeof t?[t]:t).length)for(var s=0,o=t.length;s<o;s++){var l=t[s];if(l&&(i=y(e,l,n)))break}}else for(r in a=n.calendar.patterns)if(i=y(e,a[r],n))break;return i||null},r.parseInt=function(e,t,n){return g(r.parseFloat(e,t,n))},r.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var i,r,a=this.findClosestCulture(n),s=NaN,o=a.numberFormat;return e=(e=-1<(e=-1<e.indexOf(a.numberFormat.currency.symbol)?(e=e.replace(a.numberFormat.currency.symbol,"")).replace(a.numberFormat.currency["."],a.numberFormat["."]):e).indexOf(a.numberFormat.percent.symbol)?e.replace(a.numberFormat.percent.symbol,""):e).replace(/ /g,""),h.test(e)?s=parseFloat(e):!t&&l.test(e)?s=parseInt(e,16):(a=(n=v(e,o,o.pattern[0]))[0],t=n[1],""===a&&"(n)"!==o.pattern[0]&&(a=(n=v(e,o,"(n)"))[0],t=n[1]),""===a&&"-n"!==o.pattern[0]&&(a=(n=v(e,o,"-n"))[0],t=n[1]),a=a||"+",n=(e=(e=t.indexOf("e"))<0?t.indexOf("E"):e)<0?(i=t,null):(i=t.substr(0,e),t.substr(e+1)),t=o["."],i=(e=i.indexOf(t))<0?(r=i,null):(r=i.substr(0,e),i.substr(e+t.length)),e=o[","],r=r.split(e).join(""),t=e.replace(/\u00A0/g," "),r=a+(r=e!==t?r.split(t).join(""):r),null!==i&&(r+="."+i),null!==n&&(r+="e"+((o=v(n,o,"-n"))[0]||"+")+o[1]),u.test(r)&&(s=parseFloat(r))),s},r.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this),function(u,n,f){function t(){}function i(){}var s=n.shield=n.shield||{},c=u.extend,d=u.grep,p=u.proxy,e=navigator.userAgent,r=document,o="shieldWidget",l="object",h="function",g="array",a="number",m="undefined",y="sui-vc-top",v=100,b=1e3,x={},w={},_={};function P(){return b++}function C(e){if(!U.defined(e)||""===e)return"";var r=arguments,a=r&&1<r.length&&typeof r[1]===l,s=typeof Globalize===h&&typeof Globalize.format===h;return e.replace(/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,function(e,t){var n,i=t.indexOf(":");return 0<i&&(t=(n=t).substring(0,i),n=n.substring(i+1)),t=!a||/^\d+$/.test(t)?r[parseInt(t,10)+1]:k(r[1],t),t=n&&s?Globalize.format(t,n):t})}function E(e){if(U.func(e)){var t=[].slice.call(arguments);return t.shift(),e.apply(this,t)}return C.apply(this,arguments)}function S(e){var t=Object.prototype.toString.call(e);return null===e?"null":e===f?"undefined":t.substr(8,t.length-9).toLowerCase()}function T(e){function t(e,t){return e instanceof t}var n,i,r,a,s,o=Array.apply(null,arguments),l=U.array(e)&&e.length&&!d(e,function(e){return!U.func(e)}).length,h=o[1];if(!l)return c.apply(u,o);for(U.object(h)||U.array(h)||(h={}),i=2;i<o.length;i++)if(n=o[i])for(r in n)n.hasOwnProperty(r)&&(s=n[r],a=h[r],s&&d(e,p(t,null,s)).length?h[r]=s:U.object(s)||U.array(s)?(U.object(a)||(a=h[r]=U.array(s)?[]:{}),h[r]=T(e,a,s)):U.date(s)?h[r]=new Date(s.getTime()):s!==f&&(h[r]=s));return h}function M(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}function k(e,t){var n;if(!U.string(t))throw new Error("shield.get: parameter 'path' must be a string.");if(t=F(t),n=w[t])return n(e);try{n=new Function("a","try{return a"+t+"}catch(e){return arguments[1];}")}catch(e){throw new Error("shield.get: invalid 'path' parameter")}return(w[t]=n)(e)}function F(e){for(var t,n,i,r=e.split("."),a=0,s=r.length;a<s;a++)t=(n=r[a]).indexOf("["),n&&(t<0?(i=n.indexOf("'")<0?"'":'"',n=r[a]="["+i+n+i+"]"):0<t&&(n=r[a]="."+n));return r.join("")}function D(e){e=String(e);return e=1===e.length?"0"+e:e}i.extend=function(e){function t(){}var n,i,r,a,s=this,o=e&&e.init?e.init:function(){s.apply(this,arguments)};for(i in t.prototype=s.prototype,n=o.fn=o.prototype=new t,e)e.hasOwnProperty(i)&&(a=S(r=e[i]),n[i]=r&&typeof r===l?c(!0,a===g?[]:{},s.prototype[i],r):r);return(n.constructor=o).extend=s.extend,o},Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+D(this.getUTCMonth()+1)+"-"+D(this.getUTCDate())+"T"+D(this.getUTCHours())+":"+D(this.getUTCMinutes())+":"+D(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"});var N=i.extend({init:function(e){var t,n=(e||{}).events;for(t in this.events={},e=e||{},n)typeof n[t]===h&&this.on(t,n[t])},on:function(e,t,n){var i,r,a,s,o,l=this.events,h=X.array(e),u=U.func(t);if(U.object(e)){for(o in h=[],e)e.hasOwnProperty(o)&&h.push(o);u=!1,t=e}for(a=0,s=h.length;a<s;a++)e=h[a],i=this._eventType(e),r=u?t:t[e],U.func(r)&&(n&&(r=this._one(e,r)),(l[i]||(l[i]=[])).push({name:e,handler:r}));return this},_one:function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return n},_eventType:function(e){var t=(e+="").indexOf(".");return-1<t?e.substring(0,t):e},_eventNameMatch:function(e,t){var n,i,r,a,s=this._eventType(e),o=this._eventType(t);if(e+="",t+="",s!==o&&o||((n=e.split(".")).shift(),n=d(n,function(e){return U.string(e)&&0<e.length}),i=t.split("."),o&&i.shift(),i=d(i,function(e){return U.string(e)&&0<e.length}),!n||!i))return!1;for(a=r=0;a<i.length;a++)-1<u.inArray(i[a],n)&&r++;return r>=i.length},one:function(e,t){this.on(e,t,!0)},off:function(e,t){var n,i,r,a,s,o,l=this,h=l.events,u=X.array(e),c=U.func(t);if(U.object(e)){for(o in u=[],e)e.hasOwnProperty(o)&&u.push(o);c=!1,t=e}if(U.string(e)&&0===e.indexOf(".")){for(n in h)if(h.hasOwnProperty(n)){for(i=h[n]||[],r=c?t:t||f,s=i.length-1;0<=s;s--)!l._eventNameMatch(i[s].name,e)||U.defined(r)&&i[s].handler!==r||i.splice(s,1);i.length||delete h[n]}}else for(a=0;a<u.length;a++){for(e=u[a],i=h[n=l._eventType(e)]||[],r=c?t:(t||{})[e],s=i.length-1;0<=s;s--)!l._eventNameMatch(i[s].name,e)||U.defined(r)&&i[s].handler!==r||i.splice(s,1);i.length||delete h[n]}return l},trigger:function(e,t){for(var n=this._eventType(e),i=(this.events[n]||[]).slice(),r=0,a=i.length;r<a;r++)i[r].handler.apply(this,[].slice.call(arguments,1));return t},destroy:function(){this.events={}}}),I=i.extend({init:function(e){var t=!1,n=!1;c(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return t},isPropagationStopped:function(){return n},preventDefault:function(){t=!0},stopPropagation:function(){n=!0}},e)}}),B=N.extend({init:function(e,t){var n=this,i=n.constructor;t=t||{},n.element=u(e),n.initialOptions=t,n.options=c(!0,{},i.defaults,(i.themes||{})[t.theme],t),n._iid=b++,N.fn.init.call(n,t)},getInstanceId:function(){return this._iid},refresh:function(e){this.refreshWithElement(this.element,e)},refreshWithElement:function(e,t){t=T([i],this.options,t);this.destroy(),this.init(e,t)},hide:function(){u(this.element).hide()},show:function(){u(this.element).show()},isVisible:function(){return u(this.element).is(":visible")},visible:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this.isVisible();e[0]?this.show():this.hide()},focus:function(){u(this.element).focus()},trigger:function(e,t,n){return!(t=U.event(t)?{domEvent:t}:t)||!t.domEvent||t.domEvent instanceof u.Event||(t.domEvent=u.Event(t.domEvent)),t=new I(c({type:e,target:this},t)),N.fn.trigger.call(this,e,t),typeof n!==h||t.isDefaultPrevented()||n.call(this,t),t}}),A=N.extend({options:{total:0,pageBuffer:2,createContainer:t,getItems:t,eventNS:".shieldVirtualized",skipRender:!1},init:function(e,t){var n=this;t=n.options=c({},n.options,t),n.element=u(e),N.fn.init.call(n,t),t.skipRender||n.render()},_elements:function(){var e=this,t=e.element,n=e.options,t=e.wrapper=t.off(n.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+n.eventNS,p(e.scroll,e)).append('<div class="sui-virtualized"/>').find(".sui-virtualized").css({position:"relative",overflow:"visible"});e.container=u(n.createContainer(t));t.children().css({position:"absolute",top:0}),e._positionedContainer=t.children().first()},_dimensions:function(){var e=this.options,t=e.total,n=e.itemHeight,i=Math.min(t*n,s.support.maxElementHeight),r=this.element.height(),e=Math.ceil(r/n);return{total:t,itemHeight:n,totalHeight:i,viewportHeight:r,itemsPerPage:e,pageHeight:e*n,totalScrollableHeight:i-r}},render:function(){var e,t=this,n=t.element,i=t.options;t._elements(),t.prevScroll=0,e=t.dimensions=t._dimensions(),n.find(".sui-virtualized").height(e.totalHeight),t._renderItems(0,Math.min(i.total,(i.pageBuffer+1)*e.itemsPerPage))},_renderItems:function(e,t,r){var a=this;a.options.getItems(e,t,function(e,t){var n,i=e.length;for((t=!U.defined(t)||!!t)&&a.container.empty(),n=0;n<i;n++)a.container.append(e[n]);r&&r()})},scroll:function(){var e=this,t=e.options.pageBuffer,n=e.dimensions,i=e.element.scrollTop(),r=i-e.prevScroll,a=i/n.totalScrollableHeight,s=e._positionedContainer,o=s.data(y)||0,l=i-a*(n.pageHeight-n.viewportHeight),h=0<r&&l-o>(t/4+1)*n.pageHeight;(r<0&&l-o<=t/4*n.pageHeight||h)&&(h=Math.min(n.total,Math.floor(a*n.total-a*n.itemsPerPage)),a=Math.max(0,h-t/2*n.itemsPerPage),t=Math.min(n.total,a+(t+1)*n.itemsPerPage),l=Math.max(0,l-(h-a)*n.itemHeight),e._renderItems(a,t,function(){s.css("top",l),s.data(y,l)})),e.prevScroll=i},scrollTop:function(e){var t=this.element;if(!U.defined(e))return t.scrollTop();t.scrollTop(e)},destroy:function(){var e=this.options;this.element.off(e.eventNS),this.element=null,e.createContainer=t,e.getItems=t,N.fn.destroy.call(this)}});function O(e,t){for(var n,i=[],r=u(e).length,a=t?o+"-"+t:o,s=0;s<r;s++)(n=u(u(e)[s]).data(a))&&i.push(n);return i}u.fn.swidget=function(e){e=O(this,e);return e.length?1<e.length?e:e[0]:null},u.fn.swidgets=function(e){return O(this,e)};var R,z,H,V,j,L,W,G,U={string:function(e){return"string"===S(e)},number:function(e){return S(e)===a},integer:function(e){return S(e)===a&&/^[\+\-]?\d+$/.test(e+"")},float:function(e){return S(e)===a&&/^[\+\-]?\d+\.\d+$/.test(e+"")},func:function(e){return S(e)===h},object:function(e){return S(e)===l},array:function(e){return S(e)===g},date:function(e){return"date"===S(e)},boolean:function(e){return"boolean"===S(e)},null:function(e){return"null"===S(e)},undefined:function(e){return S(e)===m},defined:function(e){return e!==f&&null!==e},event:function(e){return typeof n.Event==h&&e instanceof n.Event||e&&e.altKey!==f}},X={int:function(e,t){return parseInt(e,t||10)},float:function(e){return parseFloat(e)},number:function(e){return e=e+"",e=U.defined(e)&&typeof Globalize===h&&typeof Globalize.parseFloat===h?Globalize.parseFloat(e):Number(e),isNaN(e)?null:e},array:function(e){return e instanceof Array?e:e!==f?[e]:[]},string:function(e){return e+""},key:function(n){var e,i,t,r,a=S(n);switch(a){case"null":case m:return a;case l:return e=M(n).sort(),i=[],u.each(e,function(e,t){i.push(t+":"+X.key(n[t]))}),"{"+i.join(",")+"}";case g:for(i="[",t=0,r=n.length;t<r;t++)i+=X.key(n[t]),t<r-1&&(i+=",");return i+="]";case"date":return n.toISOString();default:return n+""}}};function q(e){e?r.onselectstart==q.handler&&(r.onselectstart=q.onselectstart,r.ondragstart=q.ondragstart):r.onselectstart!=q.handler&&(q.onselectstart=r.onselectstart,q.ondragstart=r.ondragstart,r.onselectstart=r.ondragstart=q.handler)}x.stableSort="xyzvwtursopqmnklhijfgdeabc"==(R="abcdefghijklmnopqrstuvwxyz").split("").sort(function(e,t){return~~(R.indexOf(t)/2.3)-~~(R.indexOf(e)/2.3)}).join(""),x.scrollbar=function(){var e,t=r.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",r.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,r.body.removeChild(t),e},x.isRtl=function(e){return 0<u(e).closest(".sui-rtl").length},x.transitions=function(){var e,t=(r.body||r.documentElement).style,n="Transition",i=["Moz","webkit","Webkit","Khtml","O","ms"];if(U.string(t[n.toLowerCase()]))return!0;for(e=0;e<i.length;e++)if(U.string(t[i[e]+n]))return!0;return!1}(),x.hasScrollbarY=function(e){e=u(e).get(0);return e.scrollHeight>e.clientHeight},x.hasScrollbarX=function(e){e=u(e).get(0);return e.scrollWidth>e.clientWidth},s.rAF=function(e){return(n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){return this.setTimeout(e,1e3/60)}).call(n,e)},s.cAF=function(e){return(n.cancelAnimationFrame||n.clearTimeout)(e)},z=/MSIE/i.test(e),H=/Trident/i.test(e),V=/Firefox/i.test(e),j=/Opera/i.test(e),L=/Safari/i.test(e),W=/Chrome/i.test(e),G=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),x.browser={ie:z||H,firefox:V,opera:j,safari:!W&&L,chrome:W,mobile:G,version:z?parseInt(e.substr(e.indexOf("MSIE ")+5),10):H?parseInt(e.substr(e.indexOf("rv:")+3),10):V?parseInt(e.substr(e.indexOf("Firefox/")+8),10):j?parseInt(e.substr(e.indexOf("Version/")+8),10):W?parseInt(e.substr(e.indexOf("Chrome/")+7),10):L?parseInt(e.substr(e.indexOf("Version/")+8),10):0},u(function(){for(var e,t=u('<div style="display:none;"/>').appendTo(r.body),n=1e6;;){if(t.css("height",e=n+1e6),1e9<e||t.height()!==e)break;n=e}t.remove(),x.maxElementHeight=n}),q.handler=function(){return!1},c(s,{Class:i,Dispatcher:N,Event:I,Constants:{SVG_NS:"http://www.w3.org/2000/svg",XHTML_NS:"http://www.w3.org/1999/xhtml",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}},format:E,formatString:C,parseDate:function(e,t){return typeof Globalize===h&&typeof Globalize.format===h?Globalize.parseDate(e,t):new Date(e)},getCalendarInfo:function(){return typeof Globalize===h&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}},getCurrencyInfo:function(){return typeof Globalize===h&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},error:function(e,t){if(t=t!==f?t:s.dieOnError)throw new Error(e);n.console&&(n.console.error?console.error(e):console.log(e))},dieOnError:!0,iid:P,strid:function(){return"shield"+function(e){var t,n="";for(e=Math.abs(e);t=e%26,n=String.fromCharCode(97+t)+n,0<(e=(e-t)/26););return n}(v++)},guid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+[8,9,"a","b"][Math.floor(4*Math.random())]+e().substr(0,3)+"-"+e()+e()+e()},support:x,extend:T,selection:q,type:S,is:U,to:X,keys:M,get:k,set:function(e,t,n){var i;if(!U.string(t))throw new Error("shield.set: parameter 'path' must be a string");if(t=F(t),i=_[t])return i(e,n);try{i=new Function("obj,val","obj"+t+"=val;")}catch(e){throw new Error("shield.set: invalid 'path' parameter")}return(_[t]=i)(e,n),e},ui:c({},s.ui||{},{Widget:B,VirtualizedContainer:A,plugin:function(a,t){s.ui[a]=t,u.fn["shield"+a]=function(n){var i,r=this;return"string"==typeof n?(i=[].slice.call(arguments,1),this.each(function(){var e,t=u(this).data(o);if(!t)throw new Error(E("shield: cannot call method '{0}' on uninitialized {1}.",n,a));if(typeof(e=t[n])!==h)throw new Error(E("shield: cannot find method '{0}' of {1}",n,a));if((t=e.apply(t,i))!==f)return r=t,!1}),r):this.each(function(){var e=new t(this,n);u(this).data(o,e),u(this).data(o+"-"+a,e)})}}})})}(jQuery,this),function(d,e,l){var t,n,r,b,x,h,u,a,i,s,o,c,f=e.Class,p=e.Dispatcher,m=Math.min,y=Math.max,w=e.is,g=e.to,_=e.get,v=e.set,P=(e.support,e.type),C=function(){},E=d.extend,S=d.proxy,T=d.each,M=d.grep,k=d.inArray,F=d.Deferred,D="function",N="array",I="change",B="error",A="complete",O="afterset";function R(e,t){var n,i,r=[];if(e.map)return e.map(t);for(n=0,i=e.length;n<i;n++)r[n]=t(e[n],n,e);return r}function z(e,t,n,i){t=_(e,t);return t===l?n&&(t=c.def(n,i,!0)):t=c.convert(t,n),t}t=f.extend({init:function(e){this.data=e},read:function(e,t,n,i){return t(this.data,!1,i)},modify:function(e,t,n,i){t(i)}}),n=f.extend({init:function(e,t){this.options=e,this.cache=t},read:function(t,n,e,i){var r,a=this.options.read,s=this.cache;w.func(a)?a(t,n,e,i):(a=w.string(a)?{url:a}:E(!0,{},a),w.func(a.data)&&(t=a.data(t,i)),(r=s.get(t))!==l?n(r,!0,i):(a.data=t,a.error=e,a.success=function(e){s.set(t,e),n(e,!1,i)},d.ajax(a)))},modify:function(e,t,n,i){function r(e){return e.data}var a,s,o,l,h=this.options.modify||{},u=["create","update","remove"],c=["added","edited","removed"],f=[];if(w.func(h))h(e,t,n,i);else{for(l=0;l<u.length;l++)s=h[u[l]],e[o=c[l]].length?(w.string(s)&&(s={url:s,type:"POST"}),w.func(s)?(a=f[l]=new F,s(e[o],S(a.resolve,a),S(a.reject,a),i)):w.object(s)?(s=E(!0,{},s),w.func(s.data)?s.data=s.data(e[o],i):(s.data={},s.data[o]=R(e[o],r)),a=f[l]=d.ajax(s)):(a=f[l]=new F).resolve()):(a=f[l]=new F).resolve();d.when.apply(d,f).then(t,n)}}}),(r=f.extend({init:function(){this.values={}},get:function(e){return this.values[g.key(e)]},set:function(e,t){return this.values[g.key(e)]=t},remove:function(e){var t=g.key(e),e=this.values[t];return delete this.values[t],e},clear:function(){this.values=[]}})).noop={get:C,set:C},(x=f.extend({init:function(e,t){w.object(e)?e=g.array(e):w.string(e)&&(e=[{path:e,desc:!!t}]),this._expr=e},build:function(){var i,l,e=this._expr,t=x.cache;return w.func(e)?(i=e,function(e,t){var n=i(e.item,t.item);return 0!==n?n:e.index-t.index}):w.array(e)?t.get(e)||t.set(e,(l=[].concat(e),function(e,t){for(var n,i,r,a,s=0,o=l.length;s<o;s++)if(i=e.item,r=t.item,a=(n=l[s]||{}).path,n=n.desc?-1:1,w.string(a)?(i=_(i,a),r=_(r,a)):w.func(a)&&(i=a(i),r=a(r)),(i=w.date(i)?i.getTime():i)!==(r=w.date(r)?r.getTime():r)&&(null!=i||null!=r)){if(null==i)return-1*n;if(null==r)return n;if(w.number(i)&&w.number(r)||(i=i.toString(),r=r.toString()),i.localeCompare){if(0===(a=i.localeCompare(r)))continue;return a*n}if(r<i)return n;if(i<r)return-1*n}return e.index-t.index})):void 0}})).cache=new r,(h=f.extend({init:function(e){this._expr=e||[]},build:function(){var e=h.cache,t=this._expr,n=this._func||(this._func=e.get(t));return n||(n=this._buildRecursive(t,!0))&&e.set(t,n),n},_single:function(e){var t,n,i,r,a;if(e)return w.func(e.filter)?e.filter:(t=h.filters[h.filterAliases[e.filter]])?(n=e.path,i=t,r=e.value,a=e.sensitive,function(e){return i(_(e,n),r,a)}):void 0},_multiple:function(r,a){return function(e){for(var t=!0,n=r.length,i=0;i<n;i++)if(t=r[i](e),a){if(!t)break}else if(t)break;return t}},_buildRecursive:function(e,t){var n,i,r=[];if(w.array(e)){for(n=0,i=e.length;n<i;n++)r.push(this._buildRecursive(e[n]));return 1<r.length?this._multiple(r,t):r[0]}return e.and||e.or?this._buildRecursive(e.and||e.or,!!e.and):this._single(e)}})).cache=new r,h.normalize={equatable:function(e,t,n){return w.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:h.normalize.string(e,t,n)},string:function(e,t,n){return{a:n?e+"":(e+"").toLowerCase(),b:n?t+"":(t+"").toLowerCase()}},scalar:function(e,t){return w.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:isNaN(parseFloat(e))?{a:e,b:t}:{a:parseFloat(e),b:parseFloat(t)}}},h.filters={eq:function(e,t,n){n=h.normalize.equatable(e,t,n);return n.a===n.b},neq:function(e,t,n){n=h.normalize.equatable(e,t,n);return n.a!==n.b},con:function(e,t,n){n=h.normalize.string(e,t,n);return-1<n.a.indexOf(n.b)},notcon:function(e,t,n){n=h.normalize.string(e,t,n);return n.a.indexOf(n.b)<0},starts:function(e,t,n){n=h.normalize.string(e,t,n);return 0===n.a.indexOf(n.b)},ends:function(e,t,n){n=h.normalize.string(e,t,n);return n.a.indexOf(n.b)===n.a.length-n.b.length},gt:function(e,t){t=h.normalize.scalar(e,t);return t.a>t.b},lt:function(e,t){t=h.normalize.scalar(e,t);return t.a<t.b},gte:function(e,t){t=h.normalize.scalar(e,t);return t.a>=t.b},lte:function(e,t){t=h.normalize.scalar(e,t);return t.a<=t.b},isnull:function(e){return null==e},notnull:function(e){return null!=e}},h.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull",null:"isnull",notnull:"notnull",isnotnull:"notnull"},(u=f.extend({init:function(){},build:function(e){var t=u.cache,n=t.get(e);return n||(n=this._build(e))&&t.set(e,n),n},_build:function(e){if(!e)return null;function a(e){return e===l?c.def(o):c.convert(e,o)}var s=e.field,t=e.aggregate,o=e.type||Number;return w.func(t)?t:"count"==t?function(e){return e.length}:"sum"==t?function(e){for(var t,n=0,i=e.length,r=0;r<i;r++)t=z(e[r],s,o),n+=o==Date&&w.date(t)?t.getTime():t;return a(n)}:"average"==t?function(e){for(var t,n=0,i=e.length,r=0;r<i;r++)t=z(e[r],s,o),n+=o==Date&&w.date(t)?t.getTime():t;return a(n/i)}:"min"==t?function(e){return a(m.apply(null,R(e,function(e){return z(e,s,o)})))}:"max"==t?function(e){return a(y.apply(null,R(e,function(e){return z(e,s,o)})))}:l}})).cache=new r,(b=f.extend({init:function(e,t,n,i,r){var a=this;a.data=e,a.total=null!=t?t:e?e.length:0,a.aggregates=n,a.groups=i,a.indices=w.array(r)?r.slice(0):R(e||[],function(e,t){return t})},filter:function(e){var t,n,i,r=this,a=new h(e).build(),s=r.data,o=[],l=[];if(a){for(t=0,n=s.length;t<n;t++)a(i=s[t])&&(o.push(i),l.push(r.indices[t]));r.indices=l}else o=s.slice(0);return new b(o,o.length,r.aggregates,r.groups,r.indices)},aggregate:function(e){var t,n,i,r,a=this,s=new u,o=a.data;for(w.array(e)||(e=[e]),a.aggregates=[],t=0;t<e.length;t++)n=e[t],(i=s.build(n))&&(r=i(o,n)),a.aggregates.push(E({},n,{value:r}));return new b(o.slice(0),a.total,a.aggregates,a.groups,a.indices)},aggregateGroups:function(e){var t=this,n=t.data.slice(0),e=new b(t._getInnerMostItems(n),null,null,null,null).aggregate(e);return new b(n,t.total,e.aggregates,t.groups,t.indices)},_getInnerMostItems:function(e){var n=[];return T(this._getInnerMostGroups(e),function(e,t){n=n.concat(t.items)}),n},_getInnerMostGroups:function(e){var n=this,i=[];return T(e||[],function(e,t){i=i.concat(n._hasInnerGroups(t)?n._getInnerMostGroups(t.items):t)}),i},_hasInnerGroups:function(e){return!!(e&&e.items&&0<e.items.length)&&(e.items[0].field&&w.array(e.items[0].items))},group:function(e){var t=this,n=t.data.slice(0);return 0<(e=!w.array(e)?[e]:e).length&&(n=(e=t._groupData(e,n,t.indices))[0],t.indices=e[1]),new b(n,t.total,t.aggregates,t.groups,t.indices)},_groupData:function(e,t,n){var i,r,a,s,o=[],l=[],h=e.slice(0),u=h.shift(),c=u.field,f=u.aggregate,e=u.order,d={};if(T(t,function(e,t){r=_(t,c),a=d[r],w.defined(a)?o[a].items.push({item:t,index:n[e]}):(d[r]=o.length,o.push(E({},u,{value:r,items:[{item:t,index:n[e]}]})))}),e&&(i=new x("value","desc"==e).build())){for(m=0;m<o.length;m++)o[m]={item:o[m],index:m};for(o.sort(i),m=0;m<o.length;m++)o[m]=o[m].item}for(m=0;m<o.length;m++)for(s=0;s<o[m].items.length;s++)l.push(o[m].items[s].index),o[m].items[s]=o[m].items[s].item;if(f&&T(o,function(e,t){o[e].aggregate=new b(t.items).aggregate(f).aggregates}),h&&0<h.length){for(var p=0,g=[],m=0;m<o.length;m++){var y=o[m],v=l.slice(p,p+(y.items?y.items.length:0)),v=this._groupData(h,y.items,v);o[m].items=v[0],g=g.concat(v[1]),p+=y.items?y.items.length:0}l=g}return[o,l]},sort:function(e,t){var n,i=this,t=new x(e,t).build(),r=i.data.slice(0),a=[],s=r?r.length:0,o=i.indices;if(t){for(n=0;n<s;n++)a.push({index:o[n],item:r[n]});for(a.sort(t),n=0;n<s;n++)r[n]=a[n].item,i.indices[n]=a[n].index}return new b(r,i.total,i.aggregates,i.groups,i.indices)},sortGroups:function(n,i){var r=this,e=r.data.slice(0),a=[],s=0,o=function(e){var t;r._hasInnerGroups(e)?T(e.items,function(e,t){o(t)}):(t=new b(e.items,null,null,null,r.indices.slice(s,s+(e.items?e.items.length:0))).sort(n,i),e.items=t.data,a=a.concat(t.indices),s+=e.items?e.items.length:0)};return T(e,function(e,t){o(t)}),new b(e,r.total,r.aggregates,r.groups,a)},_sliceGroups:function(e,l,h,u){var c,f=this,d=0,n=[],p=[],g=w.defined(u);return 0!==h||g?(c=function(e){if(f._hasInnerGroups(e)){var i=[],r=0;return T(e.items,function(e,t){var n=c(t);0<n&&(i.push(t),r+=n)}),e.items=i,r}var t,n,a=d,s=e.items.length,o=a+s-1;return g?o<=u-1?h<=o&&(t=y(0,h-a),n=s):a<=u-1&&h<=o&&(t=y(0,h-a),n=m(s,u-a)):h<=a?(t=0,n=s):a<=h&&h<=o&&(t=y(0,h-a),n=s),w.defined(t)&&w.defined(n)&&t<n?(e.items=e.items.slice(t,n),p=p.concat(l.slice(a+t,a+n))):e.items=[],d+=s,e.items.length},T(e,function(e,t){0<c(t)&&n.push(t)}),[n,p]):[e.slice(0),l.slice(0)]},skip:function(e){var t=this;return new b(t.data.slice(e),t.total,t.aggregates,t.groups,t.indices.slice(e))},skipGroups:function(e){var t=this,e=t._sliceGroups(t.data,t.indices,e);return new b(e[0],t.total,t.aggregates,t.groups,e[1])},take:function(e){var t=this;return new b(t.data.slice(0,e),t.total,t.aggregates,t.groups,t.indices.slice(0,e))},takeGroups:function(e){var t=this,e=t._sliceGroups(t.data,t.indices,0,e);return new b(e[0],t.total,t.aggregates,t.groups,e[1])}})).create=function(e,t,n,i,r){t=t||{};i=new b(e,n,i,r),r=-1<(t.remoteOperations||[]).join(" ").indexOf("group");return t.group||r?(t.group?i=(i=t.filter?i.filter(t.filter):i).group(t.group):i.data=i.groups,t.aggregate&&(i=i.aggregateGroups(t.aggregate)),t.sort&&(i=i.sortGroups(t.sort)),t.skip&&(i=i.skipGroups(t.skip)),t.take&&(i=i.takeGroups(t.take))):(t.filter&&(i=i.filter(t.filter)),t.aggregate&&(i=i.aggregate(t.aggregate)),t.sort&&(i=i.sort(t.sort)),t.skip&&(i=i.skip(t.skip)),t.take&&(i=i.take(t.take))),i},(a=p.extend({init:function(e){var t=this,n=t.options=w.array(e)?{data:e}:e||{},i=n.schema||{},e=a.schemas[i.type||"json"];t.data=null,t.filter=n.filter,t.sort=n.sort,t.skip=n.skip,t.take=n.take,t.group=n.group,t.aggregate=n.aggregate,t.schema=new e(i),t.remote=n.remote,t.cache=new r,t._recursive=!!n.recursive,p.fn.init.call(t,n)},isRecursive:function(){return this._recursive},trigger:e.ui.Widget.fn.trigger,_client:function(){var e=this.remote;return w.object(e)?new n(e,e.cache?this.cache:r.noop):new t(this.options.data)},_params:function(){var n,i=this,r=i.remote,a=i._remoteOperations().join(" "),s={local:{},remote:{}};return T(["filter","aggregate","group","sort","skip","take"],function(e,t){null!=(n=i[t])&&(r&&-1<a.indexOf(t)?s.remote[t]=n:s.local[t]=n)}),s},_remoteOperations:function(){var e=this.remote;return e&&e.read&&(e.read.operations||e.operations)||[]},_success:function(e,t,n,i,r){var a=this,n=a.schema.process(n);a.data=n.data,a._pTotal=n.total,a._pAggregates=n.aggregates,a._pGroups=n.groups,a._createView(n.data,t),a.trigger(A),a.trigger(I,{fromCache:!!i,extra:r}),e.resolve(a.view,!!i)},_createView:function(e,t){var n=this,t=b.create(e,E({},t||n._params().local,{remoteOperations:n._remoteOperations()}),n._pTotal,n._pAggregates,n._pGroups);n.view=t.data,n.total=t.total,n._indices=t.indices,n.aggregates=t.aggregates},_error:function(e,t,n,i,r){e.reject(i),t&&this.trigger(A),this.trigger(B,{errorType:"transport",error:i,operation:n,extra:r})},read:function(e){var t=this,n=new F,i=t._params();return t.trigger("start",{params:i,extra:e}).isDefaultPrevented()?n.resolve():(t.cancel(),t._client().read(i.remote,S(t._success,t,n,i.local),S(t._error,t,n,!0,"read"),e)),n.promise()},_ensureTracker:function(){var t=this,e=t.tracker,n=t.data;if(!e){if(!n||!w.array(n))throw new Error("shield.DataSource: cannot modify when no data array is available.");e=t.tracker=new o({data:n,model:t.schema.model,events:{change:function(e){t._createView(t.data),e&&e.afterset||t.trigger(I)},error:function(e){t.trigger(B,{errorType:"tracker",path:e?e.path:"undefined path",value:e?e.value:"undefined value",error:e?e.reason:"undefined error",model:e?e.target:"undefined target model"})}}}),t.data=e.data}},getDataIndex:function(e){return this._indices[e]},add:function(e){return this._ensureTracker(),this.tracker.add(e)},insert:function(e,t){return this._ensureTracker(),this.tracker.insert(e,t)},remove:function(e){return this._ensureTracker(),this.tracker.remove(e)},removeAt:function(e){return this._ensureTracker(),this.tracker.removeAt(e)},edit:function(e){return this._ensureTracker(),this.tracker.edit(e)},insertView:function(e,t){return this.insert(this._indices[e],t)},removeAtView:function(e){return this.removeAt(this._indices[e])},editView:function(e){return this.edit(this._indices[e])},save:function(e,t){var n,i,r,a=this,s=a.tracker,o=s?s.changes:{added:[],edited:[],removed:[]},l=s&&a.trigger("save",{changes:o}),h=new F;if(e=!w.defined(e)||!!e,l&&!l.isDefaultPrevented()){for(n=a.data=s.original,i=s.data,r=n.length=0;r<i.length;r++)n[r]=i[r];a.options.data&&!w.func(a.options.data)&&h.done(S(a._syncLocalData,a)),a._client().modify(o,S(h.resolve,h),S(a._error,a,h,!1,"save"),t),s.destroy(),s=a.tracker=null}else h.resolve(o);return e&&h.then(e=function(){a._createView(a.data),a.trigger(I,{extra:t})},e),h.promise()},_syncLocalData:function(){for(var e=this.schema,t=(e.options.fields,this.data),n=[],i=w.array(e.getReverseDataFirstItem(this.options.data)),r=0;r<t.length;r++)n[r]=i?[]:{},e.reverseFields(t[r],n[r]);e.reverseData(n,this.options.data)},cancel:function(){var e=this,t=e.tracker,n=t&&(t.changes.added.length||t.changes.edited.length||t.changes.removed.length);t&&(e.data=t.original,t.destroy(),t=e.tracker=null,n&&(e._createView(e.data),e.trigger(I)))},destroy:function(){var e,t=this,n=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(t.cancel(),t.cache&&t.cache.clear(),e=0;e<n.length;e++)delete t[n[e]];p.fn.destroy.call(t)}})).create=function(e,t){return e instanceof a?e:w.array(e)?new a(E({data:e},t)):new a(E({},e,t))},(i=f.extend({init:function(e){this.options=e},parse:function(e){var t=this.options.parse;if(w.func(t))return t(e);if(w.string(e))try{e=d.parseJSON(e)}catch(e){}return e},data:function(e){var t=this.options.data;return w.func(t)?t(e):w.string(t)?_(e,t):e},aggregates:function(e){var t=this.options.aggregates;return w.func(t)?t(e):w.string(t)?_(e,t):l},groups:function(e){var t=this.options.groups;return w.func(t)?t(e):w.string(t)?_(e,t):l},reverseData:function(e,t){var n,i=this.options.data;if(w.func(i))i(e,t);else if(w.string(i))v(t,i,e);else if(w.array(t))for(n=t.length=0;n<e.length;n++)t[n]=e[n]},getReverseDataFirstItem:function(e){e=this.data(e);return w.array(e)&&0<e.length?e[0]:l},total:function(e,t){var n=this.options.total;return e=e||[],t=t||[],w.func(n)?n(e):w.string(n)?_(e,n):t.length},fields:function(e){var t=this.options.fields,n=this.model=c.define(t);return t?R(e,function(e){return i.mapFields(e,n.fn.fields)}):e},reverseFields:function(){var e,t,n,i=this.options.fields,r=[].slice.call(arguments),a=r[0],s=r.length<=1,o=s?a:r[1];if(w.defined(i))for(n in i)i.hasOwnProperty(n)&&(e=i[n],t=a[n],w.string(e.path)?v(o,e.path,t):w.func(e.path)?e.path(a,t):o[n]=t,s&&delete o[n]);else if(!s&&w.object(a))for(n in a)a.hasOwnProperty(n)&&(o[n]=a[n])},process:function(e){var t=this,n=t.parse(e),i=t.aggregates(e),r=t.groups(e),e=t.fields(t.data(n));return{data:e,aggregates:i,groups:r,total:t.total(n,e)}}})).mapFields=function(e,t){var n,i,r,a={};for(n in e=e||{},t)t.hasOwnProperty(n)&&(i=t[n],w.string(i.path)?(r=_(e,i.path))===l&&(r=_(e,n)):r=w.func(i.path)?i.path(e):e[n],r===l?i.type&&(r=c.def(i.type,i.def,i.nullable)):r=c.convert(r,i.type),a[n]=r);return a},s=i.extend({parse:function(e){var t=this.options;if(w.func(t.parse))e=t.parse(e);else if(w.string(e))try{e=d.parseXML(e)}catch(e){}return e=e&&9===e.nodeType?this._json(this._root(e)):e},_root:function(e){for(var t=e.childNodes,n=0,i=t.length;n<i;n++)if(1===t[n].nodeType)return t[n];return null},_json:function(e){for(var t,n,i={},r={},a="",s=0,o=e.attributes.length;s<o;s++)i["_"+(t=e.attributes[s]).nodeName]=t.nodeValue;for(s=0,o=e.childNodes.length;s<o;s++)switch(n=(t=e.childNodes[s]).nodeName,t.nodeType){case 1:r[n]?(w.array(i[n])||(i[n]=[i[n]]),i[n].push(this._json(t))):(i[n]=this._json(t),r[n]=!0);break;case 3:a+=t.nodeValue;break;case 4:i._cdata=t.nodeValue}return(a=a.replace(/^\s+(.*)\s+$/gim,"$1"))&&(i._text=a),i}}),C=i.extend({parse:function(e){var t,n=this.options,i=n.parse,r=d(e),a=[],s=[];if(w.func(i))return i(e);if(n.result)return n.result;if(!r[0]||"table"!==r[0].tagName.toLowerCase())return e;r.eq(0).find("thead th").each(function(){s.push(d(this).text())}).end().find("tbody tr").each(function(){t={},d(this).children().each(function(e){t[s[e]]=d(this).text()}),a.push(t)});return n.result=a}}),f=i.extend({parse:function(e){var t=this.options,n=t.parse,i=d(e),r=[];return w.func(n)?n(e):t.result||(i[0]&&"select"===i[0].tagName.toLowerCase()?(i.find("option").each(function(e){var t=d(this);r.push({value:t.attr("value"),text:t.text(),selected:t.is(":selected")})}),t.result=r):e)}}),a.schemas={json:i,xml:s,table:C,select:f},o=p.extend({init:function(e){this.original=e.data,this.data=Array.apply(null,e.data),this.model=e.model,this.changes={added:[],edited:[],removed:[]},p.fn.init.call(this,e)},_model:function(e){var t=this,e=new t.model(e);return e.on(I,S(t.trigger,t,I)),e.on(B,S(t.trigger,t,B)),e.on(O,S(t.trigger,t,I,{afterset:!0})),e},add:function(e){return this.insert(this.data.length,e)},insert:function(e,t){var n=this.data,i=this.changes;if(e<0||e>n.length)throw new Error("shield.DataSource: invalid item index: "+e);return t=this._model(t),i.added.push(t),n.splice(e,0,t.data),this.trigger(I,{operation:"insert",index:e,model:t}),t},edit:function(t){var e,n=this.data,i=this.changes;if(isNaN(t)||t<0||t>=n.length)throw new Error("shield.DataSource: invalid item index: "+t);return(e=M(i.added.concat(i.edited),function(e){return e.data===n[t]})[0])||(e=this._model(n[t]),i.edited.push(e),n[t]=e.data),e},remove:function(t){var e=this.changes,n=M(e.added.concat(e.edited),function(e){return e===t})[0],e=-1;if(t instanceof c?n&&(e=k(n.data,this.data)):e=k(t,this.data),-1<e)return this.removeAt(e)},removeAt:function(t){var n=this.data,e=this.changes,i=M(e.added.concat(e.edited),function(e){return e.data===n[t]})[0];if(t<0||t>n.length)throw new Error("shield.DataSource: invalid item index: "+t);return i?i.destroy():i=new this.model(n[t]),e.removed.push(i),n.splice(t,1),this.trigger(I,{operation:"remove",index:t,model:i}),i},destroy:function(){for(var e=this.changes,t=e.added.concat(e.edited).concat(e.removed),n=0;n<t.length;n++)t[n].destroy();e.added.length=e.edited.length=e.removed.length=0,this.data=this.original=null,p.fn.destroy.call(this)}}),(c=p.extend({init:function(e,t){p.fn.init.call(this,t),this.fields=E(!0,{},this.constructor.prototype.fields),this.data=E(!0,{},e)},trigger:e.ui.Widget.fn.trigger,get:function(e){return _(this.data,e)},set:function(e,t){(t=this.validate(e,t))!==l&&(v(this.data,e,t),this.trigger(O))},validate:function(e,t){var n,i=_(this.fields,e);if(!i)return t;if(n=P(i.validator)===D?i.validator:P(i.type.validate)===D?i.type.validate:(n=i.type.toString().split("(")[0].split(" ")[1].toLowerCase(),c.validators[n])){if((n=n(t))===l)return void this.trigger(B,{errorType:"validation",path:e,value:t,error:"validation error"});t=n}if(null!==t||!1!==i.nullable)return t;this.trigger(B,{errorType:"validation",path:e,value:t,error:"null value not allowed"})}})).define=function(e){return c.extend({fields:c.normalize(E(!0,{},e))})},c.normalize=function(e){var t,n,i;for(t in e=e||{})e.hasOwnProperty(t)&&(n=e[t],(i=P(n))===D||i===N?e[t]={type:n}:"string"===i&&(e[t]={path:n}));return e},c.def=function(e,t,n){return t!==l?P(t)===D?t():t:n?null:e===String?"":e===Number?0:e===Date?new Date:e!==Boolean&&(e===Array?[]:e===Object?{}:(n=P(e))===N?[]:"object"===n?{}:n===D?e():null)},c.convert=function(e,t){var n;return null==e?e:t===String?e.toString():t===Number?(n=parseFloat(e),isNaN(n)?e:n):t===Date?(n=new Date(e),isNaN(n.getTime())?e:n):t===Boolean?w.string(e)?!/^(false|0)$/i.test(e):!!e:e},c.validators={string:function(e){return null==e?null:e.toString()},number:function(e){return null===e?null:isNaN(+e)?l:+e},date:function(e){return null===e?null:e instanceof Date?e:(e=new Date(e),isNaN(e.getTime())?l:e)},boolean:function(e){return null===e?null:null==e?l:!!e},array:function(e){return null===e?null:P(e)===N?e:l},object:function(e){return null===e?null:"object"===P(e)?e:l}},f=a.extend({init:function(e){E(e,{recursive:!0}),a.fn.init.call(this,e)}}),E(e,{map:R,DataSource:a,RecursiveDataSource:f,DataQuery:b,Model:c})}(jQuery,shield),function(M,e,r,k){var i,m,t,l,P,F,n,s=e.ui.Widget,a=(e.Class,e.Constants.KeyCode),o=e.error,d=document,D=Math.abs,N=Math.min,I=Math.max,C=Math.round,B=Math.floor,E=M.extend,p=M.proxy,S=M.each,T=M.isWindow,A=e.is.defined,O=e.is.func,R=e.is.number,z=e.is.object,h=(e.is.null,e.is.string),u=e.is.array,c=e.to.int,f=e.to.number,g=e.to.string,H=/left|center|right/,V=/top|center|bottom/,j=/[\+\-]\d+(\.[\d]+)?%?/,L=/^\w+/,y=/%$/,v="mousedown",b="mouseup",x="mousemove",w="touchstart",_="touchmove",W="disabled",G="px",U="left",X="right",q="top",$="bottom",Y="center",K="overflow",J="position",Z="absolute",Q="relative",ee="scroll",te="horizontal",ne="vertical",ie="flip",re="pointer",ae="intersect",se="sui-resizable",oe=se+"-"+W,le="sui-draggable",he=le+"-"+W,ue=le+"-dragging",ce="sui-unselectable",fe="sui-droppable",de=fe+"-"+W,pe=fe+"-over",ge=0;function me(){if(A(i))return i;var e,t=M('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),n=t.children()[0];return M(d.body).append(t),e=n.offsetWidth,t.css(K,ee),e===(n=n.offsetWidth)&&(n=t[0].clientWidth),t.remove(),i=e-n}function ye(e){var t=M(e||r),n=T(t[0]),e=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:e,offset:!n&&t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:n||e?t.width():t.outerWidth(),height:n||e?t.height():t.outerHeight()}}function ve(e,t,n){return[f(e[0])*(y.test(e[0])?t/100:1),f(e[1])*(y.test(e[1])?n/100:1)]}function be(e,t){t=e.css(t);return t&&c(t)||0}function xe(e,t){var n=0;return(A(t)?M(t).find(e):M(e)).each(function(e){n=I(n,be(M(this),"z-index"))}),n}function we(e){return"touch"==e.type.toLowerCase().substring(0,5)?{x:e.originalEvent.touches[0].pageX,y:e.originalEvent.touches[0].pageY}:e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+d.body.scrollLeft-d.body.clientLeft,y:e.clientY+d.body.scrollTop-d.body.clientTop}}(n={}).GetWithinInfo=ye,n.GetMaxZIndex=xe,n.GetCoordinates=we,e.ui.Util=n,(m=function(){if(ge++,t)return t;this.init(),t=this}).prototype={_pos:null,init:function(){M(d).on(x+".suiMouseTracker "+_+".suiMouseTracker",p(this._onMouseMove,this))},_onMouseMove:function(e){this._pos=this.getPosFromEvent(e)},getPosFromEvent:we,getPosition:function(e){return A(e)&&(this._pos=this.getPosFromEvent(e)),this._pos},isInWindow:function(e){var t=this.getPosition(e),n=t.x,i=t.y,e=M(r).scrollTop(),t=M(r).scrollLeft();return t<=n&&n<=t+M(r).width()&&e<=i&&i<=e+M(r).height()},destroy:function(){0<--ge||(M(d).off(x+".suiMouseTracker "+_+".suiMouseTracker"),t=null)}},e.MouseTracker=m,(l={}).Set=function(e,t,a){if(!e||!t||!a)throw"Invalid arguments passed to Position.Set";var n,s,o,l,i,r={my:a.source,at:a.target,collision:a.overflow,inside:a.inside},h=M(t),u=ye(r.inside),t=(d=(i=u).isWindow||i.isDocument?"":i.element.css("overflow-x"),t=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),d=d===ee||"auto"===d&&i.width<i.element[0].scrollWidth,{width:t===ee||"auto"===t&&i.height<i.element[0].scrollHeight?me():0,height:d?me():0}),c=(r.collision||ie).split(" "),f={},d=9===(d=(i=h)[0]).nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:T(d)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()};h[0].preventDefault&&(r.at="left top"),s=d.width,o=d.height,i=E({},l=d.offset),S(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");(n=1===n.length?H.test(n[0])?n.concat([Y]):V.test(n[0])?[Y].concat(n):[Y,Y]:n)[0]=H.test(n[0])?n[0]:Y,n[1]=V.test(n[1])?n[1]:Y,e=j.exec(n[0]),t=j.exec(n[1]),f[this]=[e?e[0]:0,t?t[0]:0],r[this]=[L.exec(n[0])[0],L.exec(n[1])[0]]}),1===c.length&&(c[1]=c[0]),r.at[0]===X?i.left+=s:r.at[0]===Y&&(i.left+=s/2),r.at[1]===$?i.top+=o:r.at[1]===Y&&(i.top+=o/2),n=ve(f.at,s,o),i.left+=n[0],i.top+=n[1];var p,g,m=M(e),y=m.outerWidth(),v=m.outerHeight(),d=be(m,"marginLeft"),e=be(m,"marginTop"),b=y+d+be(m,"marginRight")+t.width,x=v+e+be(m,"marginBottom")+t.height,w=E({},i),_=ve(f.my,m.outerWidth(),m.outerHeight());r.my[0]===X?w.left-=y:r.my[0]===Y&&(w.left-=y/2),r.my[1]===$?w.top-=v:r.my[1]===Y&&(w.top-=v/2),w.left+=_[0],w.top+=_[1],w.left=C(w.left),w.top=C(w.top),p={marginLeft:d,marginTop:e},S([U,q],function(e,t){P[c[e]]&&P[c[e]][t](w,{targetWidth:s,targetHeight:o,elemWidth:y,elemHeight:v,collisionPosition:p,collisionWidth:b,collisionHeight:x,offset:[n[0]+_[0],n[1]+_[1]],my:r.my,at:r.at,within:u,elem:m})}),O(a.callback)&&(g=function(){var e=l.left-w.left,t=e+s-y,n=l.top-w.top,i=n+o-v,r={target:{element:h,left:l.left,top:l.top,width:s,height:o},element:{element:m,left:w.left,top:w.top,width:y,height:v},horizontal:t<0?U:0<e?X:Y,vertical:i<0?q:0<n?$:"middle"};s<=y&&D(e+t)<=s&&(r.horizontal=Y),o<=v&&D(n+i)<=o&&(r.vertical="middle"),I(D(e),D(t))>I(D(n),D(i))?r.important=te:r.important=ne,a.callback(r)}),m.offset(w),g&&g()},P={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,s=i-a,o=a+t.collisionWidth-r-i;t.collisionWidth>r?0<s&&o<=0?(n=e.left+s+t.collisionWidth-r-i,e.left+=s-n):e.left=!(0<o&&s<=0)&&o<s?i+r-t.collisionWidth:i:0<s?e.left+=s:0<o?e.left-=o:e.left=I(e.left-a,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,s=i-a,o=a+t.collisionHeight-r-i;t.collisionHeight>r?0<s&&o<=0?(n=e.top+s+t.collisionHeight-r-i,e.top+=s-n):e.top=!(0<o&&s<=0)&&o<s?i+r-t.collisionHeight:i:0<s?e.top+=s:0<o?e.top-=o:e.top=I(e.top-a,e.top)}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,r=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,s=e.left-t.collisionPosition.marginLeft,o=s-a,l=s+t.collisionWidth-r-a,h=t.my[0]===U?-t.elemWidth:t.my[0]===X?t.elemWidth:0,n=t.at[0]===U?t.targetWidth:t.at[0]===X?-t.targetWidth:0,s=-2*t.offset[0];o<0?((i=e.left+h+n+s+t.collisionWidth-r-i)<0||i<D(o))&&(e.left+=h+n+s):0<l&&(0<(a=e.left-t.collisionPosition.marginLeft+h+n+s-a)||D(a)<l)&&(e.left+=h+n+s)},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,r=n.height,a=n.isWindow?n.scrollTop:n.offset.top,s=e.top-t.collisionPosition.marginTop,o=s-a,l=s+t.collisionHeight-r-a,h=t.my[1]===q?-t.elemHeight:t.my[1]===$?t.elemHeight:0,n=t.at[1]===q?t.targetHeight:t.at[1]===$?-t.targetHeight:0,s=-2*t.offset[1];o<0?(i=e.top+h+n+s+t.collisionHeight-r-i,e.top+h+n+s>o&&(i<0||i<D(o))&&(e.top+=h+n+s)):0<l&&(a=e.top-t.collisionPosition.marginTop+h+n+s-a,e.top+h+n+s>l&&(0<a||D(a)<l)&&(e.top+=h+n+s))}},flipfit:{left:function(){P.flip.left.apply(this,arguments),P.fit.left.apply(this,arguments)},top:function(){P.flip.top.apply(this,arguments),P.fit.top.apply(this,arguments)}}},e.ui.Position=l,W={enabled:!0,cls:k,iframeFix:!1,resizeCls:k,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:k,maxWidth:k,events:{}},(n=s.extend({init:function(){s.fn.init.apply(this,arguments),A(this.initialOptions.handles)&&(this.options.handles=this.initialOptions.handles);var e=this,t=M(e.element),n=e.options,i=n.cls;e._eventNS=".shieldResizable"+e.getInstanceId(),e.mouseTracker=new m,t.addClass(se+(i?" "+i:"")),e._initHandles(),e.enabled(n.enabled)},_initHandles:function(){var e,t,n,i=this,r=M(i.element),a=(r.width(),r.height()),s=i.options,o=s.handles,l=s.handleWidth,h=l+G,u=l+2+G,c="-"+(l-2)+G,f=s.handleZIndex;for(i.handles=[],n=0;n<o.length;n++){switch(t={},e=g(o[n]).toLowerCase()){case"e":t={width:h,height:a+G,top:0,right:c};break;case"w":t={width:h,height:a+G,top:0,left:c};break;case"n":t={width:"100%",height:h,top:c};break;case"s":t={width:"100%",height:h,bottom:c};break;case"se":t={width:u,height:u,bottom:c,right:c};break;case"sw":t={width:u,height:u,bottom:c,left:c};break;case"ne":t={width:u,height:u,top:c,right:c};break;case"nw":t={width:u,height:u,top:c,left:c}}t.zIndex=f,i.handles[n]={type:e},i.handles[n][v]=p(i._handleMouseDown,i,n),i.handles[n].element=M('<div class="sui-resizable-handle sui-resizable-dir-'+e+'"></div>').appendTo(r).css(t).on(v,i.handles[n][v])}M(d).on(b+i._eventNS,p(i._handleMouseUp,i)).on(x+i._eventNS,p(i._handleMouseMove,i))},_destroyHandles:function(){var e,t=this,n=t.handles;for(M(d).off(t._eventNS),e=0;e<n.length;e++)M(t.handles[e].element).off(v,t.handles[e][v]).remove();t.handles=[]},_fixIframes:function(){var e=this.options.iframeFix;e&&(e=!0===e?"iframe":e,this._fixedFrames=M(d.body).find(e).map(function(){var e=M(this);return M("<div/>").css(J,Z).appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unfixIframes:function(){this._fixedFrames&&(M(this._fixedFrames).remove(),delete this._fixedFrames)},_handleMouseDown:function(e,t){var n=this;n._enabled&&!n.resizing&&(n.resizing=!0,n.resizingHandle=e,n.oldPos=n.mouseTracker.getPosition(t),n.startSent=!1,M(n.element).addClass(ce),n._fixIframes())},_handleMouseMove:function(e){var t,n,i,r,a,s,o,l,h=this,u=M(h.element),c=h.options,f=c.delta,d=c.minWidth,p=c.maxWidth,g=c.minHeight,m=c.maxHeight,y=c.resizeCls,v=h.resizingHandle,b=h.handles,x=h.mouseTracker,c=h.oldPos;if(x.isInWindow(e)&&h.resizing&&A(v)&&(n=(_=x.getPosition(e)).x-c.x,i=_.y-c.y,_=b[v].type,D(n)>=f||D(i)>=f)){switch(/^(se|sw|ne|nw)$/i.test(_)||(/^(e|w)$/i.test(_)?i=0:n=0),r=n=D(n)<f?0:n,a=i=D(i)<f?0:i,o=s=0,_){case"w":s=-(r=-n);break;case"n":o=-(a=-i);break;case"nw":s=-(r=-n),o=-(a=-i);break;case"sw":s=-(r=-n);break;case"ne":o=-(a=-i)}var v=u.width(),w=u.height(),f=be(u,q),_=be(u,U);if(0<r?(A(p)&&p<v+r&&(r=p-v,0!==s&&(s=-r)),_+s<0&&(s=-(r-=_-s))):r<0&&A(d)&&v+r<d&&(r=d-v,0!==s&&(s=-r)),0<a?(A(m)&&m<w+a&&(a=m-w,0!==o&&(o=-a)),f+o<0&&(o=-(a-=f-o))):a<0&&A(g)&&w+a<g&&(a=g-w,0!==o&&(o=-a)),0!==r||0!==a)if(h.startSent||(h.startSent=!0,h.trigger("start"),y&&u.addClass(y)),!h.trigger("resize",{deltaX:r,deltaY:a}).isDefaultPrevented()){if(u.width(v+r).height(w+a),0===s&&0===o||u.css({top:f+o+G,left:_+s+G}),h.oldPos.x=h.oldPos.x+n,h.oldPos.y=h.oldPos.y+i,0!==i)for(l=0;l<b.length;l++)t=b[l],/^(e|w)$/i.test(t.type)&&M(t.element).height(w+a);h.trigger("resized")}}},_handleMouseUp:function(e){var t=this,n=!!t.startSent,i=t.options.resizeCls;t._unfixIframes(),t.resizing&&(t.resizing=!1,t.resizingHandle=k,t.oldPos=k,t.startSent=!1,n&&t.trigger("stop"),M(t.element).removeClass(ce+(i?" "+i:"")))},resize:function(e,t){var n=this.options;e=I(N(e,n.maxWidth),n.minWidth),t=I(N(t,n.maxHeight),n.minHeight),M(this.element).width(e).height(t)},enabled:function(){var e=M(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeClass(oe):e.addClass(oe),this._enabled=t},destroy:function(){var e=this,t=e.options.cls;e.mouseTracker.destroy(),e.mouseTracker=null,M(e.element).removeClass(se+(t?" "+t:"")),e._destroyHandles(),s.fn.destroy.call(e)}})).defaults=W,e.ui.plugin("Resizable",n),F={droppables:{default:[]},Register:function(e){var t=e.options.scope;F.droppables[t]=F.droppables[t]||[],F.droppables[t].push(e)},UnRegister:function(e){for(var t=e.options.scope,n=F.droppables[t],i=0;i<n.length;i++)n[i]===e&&n.splice(i,1)},PrepareOffsets:function(e,t){for(var n,i,r=F.droppables[e.options.scope]||[],a=M(e.helper||e.element),s=0;s<r.length;s++)n=r[s].enabled(),i=r[s].visible(),r[s].ddIsEnabled=n,r[s].ddIsVisible=i,!n||!i||e&&!r[s].accepts(e.element)||e&&e.element.get(0)===r[s].element.get(0)||(r[s].ddOffset=r[s].element.offset(),r[s].proportions({width:r[s].element[0].offsetWidth,height:r[s].element[0].offsetHeight}));e.proportions({width:a[0].offsetWidth,height:a[0].offsetHeight})},DragStart:function(e,t){F.PrepareOffsets(e,t)},Drag:function(e,t){for(var n=F.droppables[e.options.scope]||[],i=n.length,r=0;r<i;r++)!n[r].ddIsEnabled||!n[r].ddIsVisible||e&&!n[r].accepts(e.element)||e&&e.element.get(0)===n[r].element.get(0)||(F.Intersects(e,n[r],t)?n[r].ddIsOver||(n[r].ddIsOver=!0,n[r].over(e,t)):n[r].ddIsOver&&(n[r].ddIsOver=!1,n[r].out(e,t)))},Drop:function(e,t){for(var n,i,r,a=F.droppables[e.options.scope]||[],s=a.length,o=0;o<s;o++)!a[o].ddIsEnabled||!a[o].ddIsVisible||e&&!a[o].accepts(e.element)||e&&e.element.get(0)===a[o].element.get(0)||(a[o].stop(),r=F.Intersects(e,a[o],t),a[o].ddIsOver=!1,r&&((r=a[o].drop(e,t)).isDefaultPrevented()&&(n=!0),r.skipAnimation&&(i=!0)));return{cancelled:n,skipAnimation:i}},Intersects:function(e,t,n){var i,r,a,s,o,l,h,u=t.options.tolerance,c=z(u)?u.x:u,f=z(u)?u.y:u,d=t.proportions(),p=t.ddOffset,g=d.width,u=d.height,t=p.left,d=p.top,t=c==re?(h=(p=new m).getPosition(n),p.destroy(),t<=h.x&&t+g>=h.x):(r=(i=e.proportions()).width,a=i.height,o=(s=M(e.helper||e.element).offset()).left,l=s.top,"fit"==c?F._linesOverlap(o,o+r,t,t+g,r):c==ae?F._linesOverlap(o,o+r,t,t+g,r/2):F._linesOverlap(o,o+r,t,t+g,0));return!!t&&(u=f==re?(h||(h=(g=new m).getPosition(n),g.destroy()),d<=h.y&&d+u>=h.y):(i||(r=(i=e.proportions()).width,a=i.height,o=(s=M(e.helper||e.element).offset()).left,l=s.top),"fit"==f?F._linesOverlap(l,l+a,d,d+u,a):f==ae?F._linesOverlap(l,l+a,d,d+u,a/2):F._linesOverlap(l,l+a,d,d+u,0)),t&&u)},_linesOverlap:function(e,t,n,i,r){return A(r)||(r=0),e<n&&t<i?r<t-n:!(n<e&&i<t)||r<i-e}},e.ui.DDManager=F,W={enabled:!0,iframeFix:!1,cls:k,dragCls:k,scope:"default",handle:k,direction:k,min:k,max:k,step:k,allowedPositions:k,stack:!0,helper:k,appendTo:"parent",animation:{enabled:!0,revertDuration:200},events:{}},(n=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this,t=M(e.element),n=e.options,i=n.cls;e._destroyed&&(e._destroyed=!1),e._eventNS=".shieldDraggable"+e.getInstanceId(),e.mouseTracker=new m,t.addClass(le+(i?" "+i:"")),(i=t.css(J))!==Q&&i!==Z&&(e._origPosStyle=i,t.css(J,Q)),e.enabled(n.enabled),e.startSent=!1},proportions:function(){var e=this;if(!(0<arguments.length))return e._proportions||(e._proportions={width:e.element[0].offsetWidth,height:e.element[0].offsetHeight});e._proportions=arguments[0]},_fixIframes:function(){var e=this.options.iframeFix;e&&(e=!0===e?"iframe":e,this._fixedFrames=M(d.body).find(e).map(function(){var e=M(this);return M("<div/>").css(J,Z).appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unfixIframes:function(){this._fixedFrames&&(M(this._fixedFrames).remove(),delete this._fixedFrames)},_handleMouseDown:function(e){var t=this,n=t._eventNS;!t._enabled||t._destroyed||t._dragging||(M(d.body).addClass(ce),t._dragging=!0,t.startSent=!1,t.helper=t._isCustomHelper=null,t.stepPosition=t.mousePos=t.mouseTracker.getPosition(e),M(d).on(x+n+" "+_+n,p(t._handleMouseMove,t)).on(b+n+" touchend"+n,p(t._handleMouseUp,t)).on("keydown"+n,p(t._handleKeyDown,t)),t._fixIframes())},_initHelper:function(e){var t,n=this,i=n.element,r=n.options,a=r.helper,s=r.appendTo,o=r.cls,r=r.dragCls;n._helperInitialized||(a&&"original"!==a?((t=O(a)?a.call(n,{position:n.oriPosition,event:e}):"clone"==a?i.clone():M(a)).parents("body").length||("parent"===s?i.after(t):s&&"body"!==s?t.appendTo(M(s)):t.appendTo(d.body)),/(fixed|absolute)/i.test(t.css(J))||t.css(J,Z),l.Set(t,i,{source:"left top",target:"left top",overflow:"none"}),n._isCustomHelper=!0):(t=i,n._isCustomHelper=!1),(n.helper=t).addClass(ce+" "+le+(o?" "+o:"")+" "+ue+(r?" "+r:"")),n.oriPosition={left:be(t,U),top:be(t,q)},n._helperInitialized=!0)},_handleMouseMove:function(e){var t,n,i,r,a,s,o,l,h,u=this,c=u.options,f=c.step,d=c.direction,p=c.allowedPositions,g=p!==k&&0<p.length,m=c.min,y=c.max,v=u.mouseTracker,b=v.getPosition(e);if(v.isInWindow(e)&&u._dragging){if(u._initHelper(e),l=(o=M(u.helper)).width(),h=o.height(),c=be(o,q),v=be(o,U),g){for(var x,w=k,_=k,P=k,C=k,E=v+(b.x-u.stepPosition.x),S=c+(b.y-u.stepPosition.y),T=0;T<p.length;T++)(x=p[T]).x!==k&&(P===k||P>D(E-x.x))&&(P=D(E-x.x),w=T),x.y!==k&&(C===k||C>D(S-x.y))&&(C=D(S-x.y),_=T);i=v,r=c,w!==k&&(i=p[w].x,u.stepPosition.x+=p[w].x-v),_!==k&&(r=p[_].y,u.stepPosition.y+=p[_].y-c)}else{if(a=d==ne?0:b.x-u.mousePos.x,s=d==te?0:b.y-u.mousePos.y,A(f)){if(f=O(f)?f.call(this,{deltaX:a,deltaY:s,element:o,domEvent:e,helperLeft:be(o,U),helperTop:be(o,q),mouse:b}):f,R(f)?t=n=f:z(f)&&(t=f.x,n=f.y),A(t)&&D(a)<t&&A(n)&&D(s)<n)return;A(t)&&1<t&&a%t!=0&&(a=(0<=a?1:-1)*B(D(a)/t)*t),A(n)&&1<n&&s%n!=0&&(s=(0<=s?1:-1)*B(D(s)/n)*n)}i=v+a,r=I(0,c+s)}d==te&&(m!==k&&(i=I(m,i))===m&&(a=0),y!==k&&(i=N(y-l,i))===y-l&&(a=0)),d==ne&&(m&&(r=I(m,r))===m&&(s=0),y&&(r=N(y-h,r))===y-h&&(s=0)),o.css({left:i,top:r}),u.mousePos=b,u.startSent||(u.startSent=!0,u.trigger("start",{element:o,domEvent:e}),u._adjustZIndex(),F.DragStart(u,e)),u.trigger("drag",{deltaX:a,deltaY:s,element:o,domEvent:e}),F.Drag(u,e)}},_handleMouseUp:function(e){var t,n,i=this,r=i.element,a=i.helper,s=i.options.animation;i._unfixIframes(),M(d.body).removeClass(ce),i._dragging&&(i.startSent?(t=(n=F.Drop(i,e)).cancelled,n=n.skipAnimation,n=(e=i.trigger("stop",{left:be(a,U),top:be(a,q),element:a,domEvent:e,cancelled:t,skipAnimation:n})).skipAnimation,!0===e.cancelled||e.isDefaultPrevented()?M(a).animate({left:i.oriPosition.left,top:i.oriPosition.top},!n&&s&&s.enabled?s.revertDuration:0,p(i._endDrag,i)):(i._isCustomHelper&&(l.Set(r,a,{source:"left top",target:"left top",overflow:"none"}),i._adjustZIndex(r)),i._endDrag())):i._endDrag())},_adjustZIndex:function(e){var t=this.options.stack;!1!==t&&(A(e)||(e=this.helper),M(e).css("z-index",xe(!0===t?"."+le:t)+1))},_handleKeyDown:function(e){var t=this;e.keyCode===a.ESC&&t._dragging&&(t.helper.css({left:t.oriPosition.left+G,top:t.oriPosition.top+G}),t.trigger("cancel"),t._unfixIframes(),t._endDrag())},_endDrag:function(){var e=this,t=e.options.dragCls;e._dragging=!1,e._isCustomHelper?M(e.helper).remove():M(e.helper).removeClass(ce+" "+ue+(t?" "+t:"")),M(d).off(e._eventNS),e.mousePos=e.oriPosition=e.helper=e._isCustomHelper=e._helperInitialized=null},enabled:function(){var e=this,t=M(e.element),n=e.options,i=n.handle?M(n.handle):t,n=[].slice.call(arguments);if(!(0<n.length))return e._enabled;(n=!!n[0])?(t.removeClass(he),e._mouseDownProxy||(e._mouseDownProxy=p(e._handleMouseDown,e),i.on(v+" "+w,e._mouseDownProxy))):(t.addClass(he),e._mouseDownProxy&&(i.off(v+" "+w,e._mouseDownProxy),e._mouseDownProxy=null)),e._enabled=n},destroy:function(){var e=this,t=e.options.cls;e.enabled(!1),e.mouseTracker&&(e.mouseTracker.destroy(),e.mouseTracker=null),M(e.element).removeClass(le+" "+he+(t?" "+t:"")),e._origPosStyle&&(M(e.element).css(J,e._origPosStyle),e._origPosStyle=null),e._destroyed=!0,s.fn.destroy.call(e)}})).defaults=W,e.ui.plugin("Draggable",n),W={enabled:!0,accepts:"*",cls:k,hoverCls:k,tolerance:"intersect",scope:"default",events:{}},(n=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this,t=M(e.element),n=e.options,i=n.dieOnError,r=n.accepts,a=n.cls;h(r)||u(r)||r instanceof M||O(r)?(e._eventNS=".shieldDroppable"+e.getInstanceId(),t.addClass(fe+(a?" "+a:"")),F.Register(e),e.enabled(n.enabled)):o("shieldDroppable: The accepts option must be a string, array, function or jQuery object.",i)},accepts:function(e){var t=this.options.accepts;return O(t)?t.call(this,e):M(e).is(t)},proportions:function(){var e=this;if(!(0<arguments.length))return e._proportions||(e._proportions={width:e.element[0].offsetWidth,height:e.element[0].offsetHeight});e._proportions=arguments[0]},over:function(e,t){var n=this.options.hoverCls;this.trigger("over",{draggable:e.element,droppable:this.element,domEvent:t}).isDefaultPrevented()||M(this.element).addClass(pe+(n?" "+n:""))},out:function(e,t){var n=this.options.hoverCls;this.trigger("out",{draggable:e.element,droppable:this.element,domEvent:t}),M(this.element).removeClass(pe+(n?" "+n:""))},stop:function(){var e=this.options.hoverCls;M(this.element).removeClass(pe+(e?" "+e:""))},drop:function(e,t){return this.trigger("drop",{draggable:e.element,droppable:this.element,cancelled:t.cancelled,skipAnimation:t.skipAnimation,domEvent:t})},enabled:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._enabled;(e=!!e[0])?M(this.element).removeClass(de):M(this.element).addClass(de),this._enabled=e},destroy:function(){var e=this,t=e.options.cls;F.UnRegister(e),M(e.element).removeClass(fe+de+ce+(t?" "+t:"")),e._enabled=e._proportions=k,s.fn.destroy.call(e)}})).defaults=W,e.ui.plugin("Droppable",n)}(jQuery,shield,this),function(o,e,U,X){function q(e){return o("<div/>").text(e).html().replace('"',"&quot;").replace(/(?:[\x00-\x08]|[\x0B-\x0C]|[\x0E-\x1F])/g,"")}function $(e){return o("<div/>").html(e).text()}function Y(e){return ae(e)||(k(e)&&(e=e.replace(/\s+/g,"")),e=new Date(e)),(25569+e.getTime()/864e5).toString()}function u(e){return se(e)?ae(e)?e:new Date(k(e)?e.replace(/\s+/g,""):e):new Date}function K(e){return u(e).toISOString().replace(/\.\d+/,"")}function S(e){return se(e)&&k(e)&&0<e.length?e.charAt(0).toUpperCase()+e.substr(1):e}function T(e){return e?1:0}function J(e){return("FF"+e).replace("#","").toUpperCase()}function Z(e,t){return function(e){for(var t,n=N(e),i="";0<n;)t=(n-1)%26,i=String.fromCharCode(65+t)+i,n=N((n-t)/26);return i}(t)+e}function M(e,t){return'<?xml version="1.0"'+(e?' encoding="UTF-8"':"")+(t?' standalone="yes"':"")+"?>\n"}function Q(){return M(1,1)}var l,n,i,ee,c,h,f=e.exp=e.exp||{},t=e.Class,r=(e.DataSource,e.support.browser),d=e.iid,_=document,te=o.extend,ne=o.map,w=o.each,a=e.is,k=a.string,F=a.array,ie=a.number,re=a.boolean,ae=a.date,se=a.defined,oe=a.null,s=a.func,D=a.object,N=e.to.int,le=e.to.key,he=e.error,ue=e.keys,P=(e.get,e.Constants.XHTML_NS),C="application/octet-stream",E="download",I="Untitled",p="creator",g="RG",m="helvetica",y="times",v="courier",b="normal",x="bold",B="italic",A="bolditalic",O=19.049976/25.4;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",se((a=U).btoa)||(a.btoa=function(e){var t,n,i,r,a=0,s=0,o="",l=[];if(!e)return e;for(;t=(r=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>12&63,n=r>>6&63,i=63&r,l[s++]=c.charAt(r>>18&63)+c.charAt(t)+c.charAt(n)+c.charAt(i),a<e.length;);var o=l.join(""),h=e.length%3;return(h?o.slice(0,h-3):o)+"===".slice(h||3)}),se(a.atob)||(a.atob=function(e){var t,n,i,r,a,s=0,o=0,l=[];if(!e)return e;for(e+="";t=(a=c.indexOf(e.charAt(s++))<<18|c.indexOf(e.charAt(s++))<<12|(i=c.indexOf(e.charAt(s++)))<<6|(r=c.indexOf(e.charAt(s++))))>>16&255,n=a>>8&255,a=255&a,l[o++]=64==i?String.fromCharCode(t):64==r?String.fromCharCode(t,n):String.fromCharCode(t,n,a),s<e.length;);return l.join("")}),function(){if(U.URL=U.URL||U.webkitURL,U.Blob&&U.URL)try{new U.Blob;return f.Blob=U.Blob}catch(e){}var s=U.BlobBuilder||U.WebKitBlobBuilder||U.MozBlobBuilder||function(){function o(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]}function e(){this.data=[]}function l(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n}function h(e){this.code=this[this.name=e]}var t=e.prototype,n=l.prototype,u=U.FileReaderSync,i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),r=i.length,a=U.URL||U.webkitURL||U,s=a.createObjectURL,c=a.revokeObjectURL,f=a,d=U.btoa,p=U.atob,g=U.ArrayBuffer,m=U.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(l.fake=n.fake=!0;r--;)h.prototype[i[r]]=r+1;return(f=!a.createObjectURL?U.URL=function(e){var t=_.createElementNS(P,"a");return t.href=e,"origin"in t||("data:"===t.protocol.toLowerCase()?t.origin=null:(e=e.match(y),t.origin=e&&e[1])),t}:f).createObjectURL=function(e){var t=e.type;return oe(t)&&(t=C),e instanceof l?(t="data:"+t,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):d?t+";base64,"+d(e.data):t+","+encodeURIComponent(e.data)):s?s.call(a,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&c&&c.call(a,e)},t.append=function(e){var t=this.data;if(se(m)&&(e instanceof g||e instanceof m)){for(var n="",i=new m(e),r=i.length,a=0;a<r;a++)n+=String.fromCharCode(i[a]);t.push(n)}else if("Blob"===o(e)||"File"===o(e)){if(!u)throw new h("NOT_READABLE_ERR");var s=new u;t.push(s.readAsBinaryString(e))}else e instanceof l?"base64"===e.encoding&&p?t.push(p(e.data)):"URI"===e.encoding?t.push(decodeURIComponent(e.data)):"raw"===e.encoding&&t.push(e.data):(e+="",t.push(U.unescape(encodeURIComponent(e))))},t.getBlob=function(e){return arguments.length||(e=null),new l(this.data.join(""),e,"raw")},t.toString=function(){return"[object BlobBuilder]"},n.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new l(this.data.slice(e,1<i?t:this.data.length),n,this.encoding)},n.toString=function(){return"[object Blob]"},n.close=function(){this.size=0,delete this.data},e}();f.Blob=function(e,t){var n,i,t=t&&t.type||"",r=new s,a=U.Uint8Array;if(e)for(n=0,i=e.length;n<i;n++)se(a)&&a&&e[n]instanceof a?r.append(e[n].buffer):r.append(e[n]);return!(t=r.getBlob(t)).slice&&t.webkitSlice&&(t.slice=t.webkitSlice),t};var e=Object.getPrototypeOf||function(e){return e.__proto__};f.Blob.prototype=e(new f.Blob)}(),h=U.saveAs||function(){if(r.ie&&r.version<10)return X;function f(e){function t(){k(e)?g().revokeObjectURL(e):e.remove()}U.chrome?t():setTimeout(t,n)}function d(e,t,n){for(var i,r=(t=[].concat(t)).length;r--;)if(i=e["on"+t[r]],s(i))try{i.call(e,n||e)}catch(e){a(e)}}function p(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(i,n,e){function r(){var e;!h&&s||(s=g().createObjectURL(i)),o?o.location.href=s:(e=U.open(s,"_blank"),se(e)||"undefined"==typeof safari||(U.location.href=s)),l.readyState=l.DONE,u(),f(s)}function a(e){return function(){if(l.readyState!==l.DONE)return e.apply(this,arguments)}}e||(i=p(i));var s,o,l=this,t=i.type,h=!1,u=function(){d(l,"writestart progress write writeend".split(" "))},c={create:!0,exclusive:!1};if(l.readyState=l.INIT,n=n||I,y)return s=g().createObjectURL(i),m.href=s,m.download=n,void setTimeout(function(){var e,t;e=m,t=new MouseEvent("click"),e.dispatchEvent(t),u(),f(s),l.readyState=l.DONE});U.chrome&&t&&t!==x&&(e=i.slice||i.webkitSlice,i=e.call(i,0,i.size,x),h=!0),v&&n!==E&&(n+="."+E),t!==x&&!v||(o=U),b?(w+=i.size,b(U.TEMPORARY,w,a(function(e){e.root.getDirectory("saved",c,a(function(e){function t(){e.getFile(n,c,a(function(n){n.createWriter(a(function(t){t.onwriteend=function(e){o.location.href=n.toURL(),l.readyState=l.DONE,d(l,"writeend",e),f(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&r()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=l["on"+e]}),t.write(i),l.abort=function(){t.abort(),l.readyState=l.DONE},l.readyState=l.WRITING}),r)}),r)}e.getFile(n,{create:!1},a(function(e){e.remove(),t()}),a(function(e){(e.code===e.NOT_FOUND_ERR?t:r)()}))}),r)}),r)):r()}var g=function(){return U.URL||U.webkitURL||U},m=_.createElementNS(P,"a"),y=E in m,v=U.webkitRequestFileSystem,b=U.requestFileSystem||v||U.mozRequestFileSystem,a=function(e){(U.setImmediate||U.setTimeout)(function(){throw e},0)},x=C,w=0,n=500,e=i.prototype;return se(navigator)&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||I)}:(e.abort=function(){this.readyState=this.DONE,d(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(e,t,n){return new i(e,t,n)})}(),f.saveAs=function(e){var t=e.content,n=e.contentType,i=e.name,r=e.noAutoBom,a=e.proxy,s="suidlifrm"+d();se(h)&&!e.forceProxy?h(new f.Blob([t],{type:n}),i,r):a?(o(l).remove(),l=o('<div style="display:none;"><iframe name="'+s+'"></iframe></div>').appendTo(_.body),o('<form action="'+a+'" target="'+s+'" method="POST"><input type="hidden" name="fileName" value="'+i+'"/><input type="hidden" name="contentType" value="'+n+'"/><input type="hidden" name="base64content" value="'+U.btoa(t)+'"/></form>').appendTo(l).submit()):he("shield.export.saveAs: No proxy url set for older browser support",e.dieOnError)},f.saveAsNative=se(h),n=t.extend({init:function(e){this.options=te(!0,{},e)},getExt:null,getContentType:null,getContent:null,saveAs:function(e){var t=e.fileName,n=!se(e.forceExt)||!!e.forceExt,i=this.getExt(),r=!f.saveAsNative||e.forceProxy?{type:"string"}:{},r=this.getContent(r);se(r)?(t=t||I,!function(e,t){if(e&&t){var n=e.indexOf(t);return 0<=n&&n===e.length-t.length}return!1}(t+="",i)&&n&&(t+=i),f.saveAs({content:r,contentType:this.getContentType(),name:t,proxy:e.proxy,forceProxy:e.forceProxy,noAutoBom:e.noAutoBom,dieOnError:e.dieOnError})):he("shield.export.ExportBase.saveAs: Error generating content",this.options.dieOnError)},destroy:function(){}}),ee=n.extend({getExt:function(){return".xml"},getContentType:function(){return"text/xml;charset=utf-8"},getContent:function(e){for(var t=this.options,n=K(t.created||new Date),i=(t.author,t.worksheets||[]),r=20,a=[],s=[],o=$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),o=M()+'<?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Created>'+n+"</Created>"+(o?"<Author>"+o+"</Author>":"")+'</DocumentProperties><ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><ProtectStructure>False</ProtectStructure><ProtectWindows>False</ProtectWindows></ExcelWorkbook>',l=0;l<i.length;l++){for(var h,u,c,f,d,p,g,m,y,v,b=i[l],x=b.name,w=b.columns||[],_=[],P=b.rows||[],C=[],E=0;E<w.length;E++)c=w[E],_.push("<Column"+(se(c.autoWidth)?' ss:AutoFitWidth="'+T(c.autoWidth)+'"':"")+(se(c.width)?' ss:Width="'+c.width+'"':"")+(se(c.index)?' ss:Index="'+c.index+'"':"")+"/>");for(E=0;E<P.length;E++){for(h=(f=P[E]).cells||[],d="<Row"+(se(f.height)?' ss:Height="'+f.height+'"':"")+(se(f.index)?' ss:Index="'+f.index+'"':"")+">",u=0;u<h.length;u++)g=(p=h[u]).type,y=p.value,v=p.style,m=null,"DateTime"==(g=se(g)&&!oe(g)?g===Date?"DateTime":g===Number?"Number":g===Boolean?"Boolean":"String":ae(y)?"DateTime":ie(y)?"Number":re(y)?"Boolean":"String")&&(y=K(y)),D(v)&&(m="s"+r++,a.push('<Style ss:ID="'+m+'"><Alignment'+(v.textAlign?' ss:Horizontal="'+S(v.textAlign)+'"':"")+(v.verticalAlign?' ss:Vertical="'+S(v.verticalAlign)+'"':"")+(se(v.wrap)?' ss:WrapText="'+T(v.wrap)+'"':"")+"/>"+(se(v.format)?'<NumberFormat ss:Format="'+q(v.format)+'"/>':"")+"<Font"+(se(v.bold)?' ss:Bold="'+T(v.bold)+'"':"")+(se(v.italic)?' ss:Italic="'+T(v.italic)+'"':"")+(se(v.color)?' ss:Color="'+v.color+'"':"")+(se(v.fontName)?' ss:FontName="'+v.fontName+'"':"")+(se(v.fontSize)?' ss:Size="'+v.fontSize+'"':"")+"/><Interior"+(se(v.background)?' ss:Color="'+v.background+'" ss:Pattern="Solid"':"")+"/></Style>")),d+="<Cell"+(m?' ss:StyleID="'+m+'"':"")+(se(p.index)?' ss:Index="'+p.index+'"':"")+(se(p.colSpan)?' ss:MergeAcross="'+p.colSpan+'"':"")+(se(p.rowSpan)?' ss:MergeDown="'+p.rowSpan+'"':"")+'><Data ss:Type="'+g+'">'+(se(y)?q(y):"")+"</Data></Cell>";d+="</Row>",C.push(d)}s.push('<Worksheet ss:Name="'+(x?q(x):"Sheet1")+'"><Table>'+_.join("")+C.join("")+"</Table></Worksheet>")}return o+='<Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font/><Interior/><NumberFormat/><Protection/></Style>'+a.join("")+"</Styles>",o+=s.join(""),o+="</Workbook>"}}),e=n.extend({getExt:function(){return".xlsx"},getContentType:function(){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},getContent:function(e){var t=this.options,n=t.dieOnError;if(!se(U.JSZip))return t.noLegacyFallback?void he("shield.export.OOXMLWorkbook.getContent: No ZIP library found",n):new ee(t).getContent();for(var i,r,a,s,o,l,h=K(t.created||new Date),u=(t.author,t.worksheets||[]),c=u.length,f=new U.JSZip,d=[],p={},g=[],m=100,y=['<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>'],v=['<fill><patternFill patternType="none"/></fill>','<fill><patternFill patternType="gray125"/></fill>'],b=['<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>'],x=Q()+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>'+ne(u,function(e,t){return'<Override PartName="/xl/worksheets/sheet'+(t+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>'}).join("")+'<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>',n=(Q(),Q()+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+c+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="'+c+'" baseType="lpstr">'+ne(u,function(e,t){return"<vt:lpstr>"+(e.name?q(e.name):"Sheet"+(t+1))+"</vt:lpstr>"}).join("")+"</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>15.0300</AppVersion></Properties>"),w=$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),t=Q()+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>'+(w||"")+'</dc:creator><dcterms:created xsi:type="dcterms:W3CDTF">'+h+"</dcterms:created></cp:coreProperties>",c=Q()+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="4" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="124226"/><sheets>'+ne(u,function(e,t){return'<sheet name="'+(e.name?q(e.name):"Sheet"+(t+1))+'" sheetId="'+(t+1)+'" r:id="rId'+(t+1)+'"/>'}).join("")+"</sheets></workbook>",_=(Q(),1),w=Q()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+ne(u,function(e,t){var n=_++;return'<Relationship Id="rId'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+n+'.xml"/>'}).join("")+'<Relationship Id="rId'+_+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId'+_+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId'+_+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',P=(Q(),0);P<u.length;P++){for(var C=u[P],E=C.columns||[],S=E.length,T=C.rows||[],M=T.length,k="",F=[],D=[],N=0;N<M;N++){for(var I=T[N],B=[],A=I.cells||[],O=A.length,R=0;R<O;R++){var z,H,V=A[R],j=V.type,L=V.value,W=te({},V.style||{});se(j)&&!oe(j)?j===Date?(z=X,L=Y(L),W.format||(W.format="m/d/yyyy hh:mm")):z=j===Number?X:j===Boolean?"b":"inlineStr":ae(L)?(z=X,L=Y(L),W.format||(W.format="m/d/yyyy hh:mm")):z=ie(L)?X:re(L)?"b":"inlineStr",o=s=void 0,l="",H=!(a=W)||ue(a).length<=0?X:(s=le(a),p[s]?p[s].cellXfsIndex:(se(a.format)&&(m++,g.push('<numFmt numFmtId="'+m+'" formatCode="'+q(a.format).replace(" ","\\ ")+'"/>'),l+=' numFmtId="'+m+'" applyNumberFormat="1"'),a.background&&(v.push('<fill><patternFill patternType="solid"><fgColor rgb="'+J(a.background)+'"/></patternFill></fill>'),l+=' fillId="'+(v.length-1)+'" applyFill="1"'),(se(a.bold)||se(a.color)||se(a.fontName)||se(a.fontSize)||se(a.italic))&&(y.push("<font>"+(se(a.bold)?'<b val="'+!!a.bold+'"/>':"")+(se(a.color)?'<color rgb="'+J(a.color)+'"/>':"")+(se(a.fontName)?'<name val="'+a.fontName+'"/>':"")+(se(a.fontSize)?'<sz val="'+a.fontSize+'"/>':"")+(se(a.italic)?'<i val="'+!!a.italic+'"/>':"")+"</font>"),l+=' fontId="'+(y.length-1)+'" applyFont="1"'),(se(a.textAlign)||se(a.verticalAlign)||se(a.wrap))&&(o="<alignment"+(se(a.textAlign)?' horizontal="'+a.textAlign+'"':"")+(se(a.verticalAlign)?' vertical="'+a.verticalAlign+'"':"")+(se(a.wrap)?' wrapText="'+!!a.wrap+'"':"")+"/>"),l||o?(b.push("<xf"+(l||"")+(o?">"+o+"</xf>":"/>")),p[s]={cellXfsIndex:b.length-1},b.length-1):X)),j=(L+"").length,(!se(F[R])||F[R]<j)&&(F[R]=j),B.push("<c"+(se(V.index)?' r="'+Z(se(I.index)?I.index:N+1,V.index)+'"':"")+(se(z)?' t="'+z+'"':"")+(se(H)?' s="'+H+'"':"")+">"+("inlineStr"==z?"<is><t>"+q(L)+"</t></is>":"<v>"+L+"</v>")+"</c>")}D.push("<row"+(se(I.index)?' r="'+I.index+'"':"")+(se(I.height)?' ht="'+I.height+'" customHeight="1"':"")+">"+B.join("")+"</row>")}if(0<S){for(k="<cols>",R=0;R<S;R++){var G=E[R];k+="<col"+(se(G.index)?' min="'+G.index+'" max="'+G.index+'"':' min="'+(R+1)+'" max="'+(R+1)+'"')+(se(G.width)?' width="'+(i=G.width,r=se(r=void 0)?r:7,((i-5)/7*100+.5)/100)+'"':"")+(!0!==G.autoWidth&&se(G.width)?"":' width="'+(F[R]*(i=se(i=void 0)?i:7)+5)/i*256/256+'"')+(!0===G.autoWidth?' bestFit="1"':"")+(se(G.autoWidth)||se(G.width)?' customWidth="1"':"")+"/>"}k+="</cols>"}C=Q()+'<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="A1"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'+k+"<sheetData>"+D.join("")+'</sheetData><pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',d.push(C)}for(h=Q()+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="'+g.length+'">'+g.join("")+'</numFmts><fonts count="'+y.length+'" x14ac:knownFonts="1">'+y.join("")+'</fonts><fills count="'+v.length+'">'+v.join("")+'</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+b.length+'">'+b.join("")+'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>',f.file("[Content_Types].xml",x),f.file("_rels/.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'),f.file("docProps/app.xml",n),f.file("docProps/core.xml",t),f.file("xl/workbook.xml",c),f.file("xl/styles.xml",h),f.file("xl/sharedStrings.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>'),f.file("xl/_rels/workbook.xml.rels",w),f.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>'),P=0;P<d.length;P++)f.file("xl/worksheets/sheet"+(P+1)+".xml",d[P]);return e&&"string"!=e.type&&U.JSZip.support.uint8array?f.generate({type:"uint8array"}):f.generate({type:"string"})},saveAs:function(e){var t=this.options;return se(U.JSZip)?n.fn.saveAs.call(this,e):t.noLegacyFallback?void he("shield.export.OOXMLWorkbook.saveAs: No ZIP library found",t.dieOnError):new ee(t).saveAs(e)}}),i={unit:"pt",textColor:"0 g",drawColor:"0 G",fontSize:12,lineHeight:1.15,lineWidth:.200025,producer:"ShieldUI PDF Builder",created:new Date},a=n.extend({_version:"1.3",_formats:{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"credit-card":[153,243]},_documentProps:["title","subject","author","keywords",p],_capJoinStyles:{0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_noMargins:{left:0,top:0,bottom:0},init:function(e){this.options=te(!0,i,e,{});var t=this,e=t.options;e.dieOnError;t._scaleFactor=t._getScaleFactor(),t._fontSize=e.fontSize,t._textColor=e.textColor,t._objectNumber=2,t._printToDoc=!0,t._offsets=[],t._fonts={},t._fontmap={},t._pages=[],t._pagesContext=[],t._pageDim=[],t._content=[],t._additionalObjects=[],t._page=t._lineCapID=t._lineJoinID=t._contentLength=0,t._fontKey=t._tmp=t._currentPage=t._pageWidth=t._pageHeight=t._pageMode=t._zoomMode=t._layoutMode=X,t._cellPadding=3,t._cellMargin=13,t._lastCellPos={x:X,y:X,w:X,h:X,ln:X},t._cellHeaderFunction=t._tablePrintHeader=t._cellMargins=t._cellTableHeaderRow=t._cellPrintingHeaderRow=t._tableFontSize=X,t._cellPages=1,t.addFonts(),t._fontKey="F1"},getExt:function(){return".pdf"},getContentType:function(){return"application/pdf"},getContent:function(e){return e&&"string"!=e.type?this._getArrayBuffer():this._build()},_toString:function(e){return(""+e).toLowerCase()},_getScaleFactor:function(){var e=this.options.unit;switch(e){case"pt":return 1;case"mm":return 72/25.4000508;case"cm":return 72/2.54000508;case"in":return 72;case"px":return 96/72;case"pc":case"em":return 12;case"ex":return 6;default:return void he("shieldExport: Invalid measurement unit: "+e,this.options.dieOnError)}},_setNumberPrecision:function(e,t){return e.toFixed(t)},_setPadding:function(e,t,n){return("0"+parseInt(e,t)).slice(-n)},_write:function(e){var t=this;t._printToDoc?(t._contentLength+=e.length+1,t._content.push(e)):t._pages[t._currentPage].push(e)},_createObject:function(){var e=this;return e._objectNumber++,e._offsets[e._objectNumber]=e._contentLength,e._write(e._objectNumber+" 0 obj"),e._objectNumber},_createAdditionalObject:function(){var e={objId:2*this._pages.length+1+this._additionalObjects.length,content:""};return this._additionalObjects.push(e),e},_createObjectDeferred:function(){var e=this;return e._objectNumber++,e._offsets[e._objectNumber]=function(){return e._contentLength},e._objectNumber},_createObjectDeferredBegin:function(e){this._offsets[e]=this._contentLength},_writeStream:function(e){this._write("stream"),this._write(e),this._write("endstream")},_writePages:function(){for(var e,t,n,i,r=this,a=(r.options,r._pages,r._pageDim),s=1;s<=r._page;s++)r._createObject(),t=(r._pageWidth=a[s].width)*r._scaleFactor,n=(r._pageHeight=a[s].height)*r._scaleFactor,r._write("<</Type /Page"),r._write("/Parent 1 0 R"),r._write("/Resources 2 0 R"),r._write("/MediaBox [0 0 "+r._setNumberPrecision(t,2)+" "+r._setNumberPrecision(n,2)+"]"),r._write("/Contents "+(r._objectNumber+1)+" 0 R"),r._write(">>"),r._write("endobj"),n=r._pages[s].join("\n"),r._createObject(),r._write("<</Length "+n.length+">>"),r._writeStream(n),r._write("endobj");for(r._offsets[1]=r._contentLength,r._write("1 0 obj"),r._write("<</Type /Pages"),i="/Kids [",e=0;e<r._page;e++)i+=3+2*e+" 0 R ";r._write(i+"]"),r._write("/Count "+r._page),r._write(">>"),r._write("endobj")},_writeFont:function(e){var t=this;e.objectNumber=t._createObject(),t._write("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&t._write("/Encoding/"+e.encoding),t._write("/Subtype/Type1>>"),t._write("endobj")},_writeFonts:function(){var e,t=this._fonts;for(e in t)t.hasOwnProperty(e)&&this._writeFont(t[e])},_writeXObjectDictionary:function(){},_writeResourceDictionary:function(){var e,t=this,n=t._fonts;for(e in t._write("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),t._write("/Font <<"),n)n.hasOwnProperty(e)&&t._write("/"+e+" "+n[e].objectNumber+" 0 R");t._write(">>"),t._write("/XObject <<"),t._writeXObjectDictionary(),t._write(">>")},_writeResources:function(){var e=this,t=e._offsets;e._writeFonts(),t[2]=e._contentLength,e._write("2 0 obj"),e._write("<<"),e._writeResourceDictionary(),e._write(">>"),e._write("endobj")},_writeAdditionalObjects:function(){for(var e,t=this,n=t._offsets,i=t._additionalObjects,r=0;r<i.length;r++)n[(e=i[r]).objId]=t._contentLength,t._write(e.objId+" 0 obj"),t._write(e.content),t._write("endobj");t._objectNumber+=i.length},_writeToFontDictionary:function(e,t,n){this._fontmap.hasOwnProperty(t)||(this._fontmap[t]={}),this._fontmap[t][n]=e},_to8bitStream:function(e,t){var n,i,r,a,s,o,l=this._fonts,h=this._fontKey,u=(t=t||{}).sourceEncoding||"Unicode",c=t.outputEncoding;if((t.autoencode||c)&&l[h].metadata&&l[h].metadata[u]&&l[h].metadata[u].encoding&&(u=l[h].metadata[u].encoding,!(c=!c&&l[h].encoding?l[h].encoding:c)&&u.codePages&&(c=u.codePages[0]),c=k(c)?u[c]:c)){for(i=!1,n=[],o=0,s=e.length;o<s;o++)(a=c[e.charCodeAt(o)])?n.push(String.fromCharCode(a)):n.push(e[o]),n[o].charCodeAt(0)>>8&&(i=!0);e=n.join("")}for(o=e.length;void 0===i&&0!==o;)e.charCodeAt(o-1)>>8&&(i=!0),o--;if(!i)return e;for(n=t.noBOM?[]:[254,255],o=0,s=e.length;o<s;o++){if((r=(a=e.charCodeAt(o))>>8)>>8)return void he("shieldExport: Character at position "+o+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE",this.options.dieOnError);n.push(r),n.push(a-(r<<8))}return String.fromCharCode.apply(X,n)},_escape:function(e,t){return this._to8bitStream(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_writeInfo:function(){var e,t,n,i,r,a=this,s=a.options,o=s.producer,l=s.created,h=a._documentProps;for(se(o)&&a._write("/Producer ("+o+")"),r=0;r<h.length;r++)i=s[n=h[r]],(i="author"===n||n===p?$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"):i)&&a._write("/"+S(n)+" ("+a._escape(i)+")");o=(t=(e=u(l)).getTimezoneOffset())<0?"+":"-",l=Math.floor(Math.abs(t/60)),t=Math.abs(t%60),t=[o,a._setPadding(l,10,2),"'",a._setPadding(t,10,2),"'"].join(""),a._write(["/CreationDate (D:",e.getFullYear(),a._setPadding(e.getMonth()+1,10,2),a._setPadding(e.getDate(),10,2),a._setPadding(e.getHours(),10,2),a._setPadding(e.getMinutes(),10,2),a._setPadding(e.getSeconds(),10,2),t,")"].join(""))},_writeCatalog:function(){var e,t=this;switch(t._write("/Type /Catalog"),t._write("/Pages 1 0 R"),t._zoomMode||(t._zoomMode="fullwidth"),t._zoomMode){case"fullwidth":t._write("/OpenAction [3 0 R /FitH null]");break;case"fullheight":t._write("/OpenAction [3 0 R /FitV null]");break;case"fullpage":t._write("/OpenAction [3 0 R /Fit]");break;case"original":t._write("/OpenAction [3 0 R /XYZ null null 1]");break;default:"%"===(e=""+t._zoomMode).substr(e.length-1)&&(t._zoomMode=parseInt(t._zoomMode,10)/100),ie(t._zoomMode)&&t._write("/OpenAction [3 0 R /XYZ null null "+t._setNumberPrecision(t._zoomMode,2)+"]")}switch(t._layoutMode||(t._layoutMode="continuous"),t._layoutMode){case"continuous":t._write("/PageLayout /OneColumn");break;case"single":t._write("/PageLayout /SinglePage");break;case"two":case"twoleft":t._write("/PageLayout /TwoColumnLeft");break;case"tworight":t._write("/PageLayout /TwoColumnRight")}t._pageMode&&t._write("/PageMode /"+t._pageMode)},_writeTrailer:function(){var e=this._objectNumber;this._write("/Size "+(e+1)),this._write("/Root "+e+" 0 R"),this._write("/Info "+(e-1)+" 0 R")},addFont:function(e,t,n,i){var r="F"+(ue(this._fonts).length+1).toString(10);this._fonts[r]={id:r,PostScriptName:e,fontName:t,fontStyle:n,encoding:i,metadata:{}};return this._writeToFontDictionary(r,t,n),r},addFonts:function(){for(var e,t,n=[["Helvetica",m,b],["Helvetica-Bold",m,x],["Helvetica-Oblique",m,B],["Helvetica-BoldOblique",m,A],["Courier",v,b],["Courier-Bold",v,x],["Courier-Oblique",v,B],["Courier-BoldOblique",v,A],["Times-Roman",y,b],["Times-Bold",y,x],["Times-Italic",y,B],["Times-BoldItalic",y,A]],i=0,r=n.length;i<r;i++)e=this.addFont(n[i][0],n[i][1],n[i][2],"StandardEncoding"),t=n[i][0].split("-"),this._writeToFontDictionary(e,t[0],t[1]||"")},getActiveFontObj:function(){var e=this._fonts,t=this._fontKey;return e&&t&&e[t]?e[t]:X},getFontObj:function(e,t){var n=this._fonts,t=this.getFont(e,t);return n&&t&&n[t]?n[t]:X},getFont:function(e,t){var n,i=this,r=i._fonts,a=i._fontmap;switch(e=se(e)?e:r[i._fontKey].fontName,t=se(t)?t:i._fontKey?r[i._fontKey].fontStyle:X,se(e)&&(e=e.toLowerCase()),t){case"sans-serif":case"verdana":case"arial":e=m;break;case"fixed":case"monospace":case"terminal":e=v;break;default:e=y}try{n=a[e][t]}catch(e){}return n||null==(n=a[y][t])&&(n=a[y][b]),n},_setPage:function(e){var t=this,n=t._pageDim;0<e&&e<=t._page&&(t._currentPage=e,t._pageWidth=n[e].width,t._pageHeight=n[e].height)},_beginPage:function(e,t){var n,i=this,r=i._formats,a=i._pages,s=i._pageDim,o=i._pagesContext,l=k(t)&&t.toLowerCase();if(k(e)&&(n=e.toLowerCase(),r.hasOwnProperty(n)&&(e=r[n][0]/i._scaleFactor,t=r[n][1]/i._scaleFactor)),F(e)&&(t=e[1],e=e[0]),l){switch(l.substr(0,1)){case"l":e<t&&(l="s");break;case"p":t<e&&(l="s")}"s"===l&&(i._tmp=e,e=t,t=i._tmp)}i._printToDoc=!1,i._page++,a[i._page]=[],s[i._page]={width:Number(e)||i._pageWidth,height:Number(t)||i._pageHeight},o[i._page]={},i._setPage(i._page)},addPage:function(){var e=this,t=e.options,n=t.drawColor,t=t.lineWidth;e._beginPage.apply(e,arguments),e._write(e._setNumberPrecision(t*e._scaleFactor,2)+" w"),e._write(n),0!==e._lineCapID&&e._write(e._lineCapID+" J"),0!==e._lineJoinID&&e._write(e._lineJoinID+" j")},deletePage:function(e){var t=this,n=t._pages,i=t._pageDim;0<e&&e<=t._page&&(n.splice(e,1),i.splice(e,1),t._page--,t._currentPage>t._page&&(t._currentPage=t._page),t._setPage(t._currentPage))},getFontSize:function(){return this._fontSize},getLineHeight:function(){return this.getFontSize()*this.options.lineHeight},getCoordinateString:function(e){return this._setNumberPrecision(e*this._scaleFactor,2)},getVerticalCoordinateString:function(e){return this._setNumberPrecision((this._pageHeight-e)*this._scaleFactor,2)},getPageSize:function(){return{width:this._pageWidth,height:this._pageHeight}},getNumberOfPages:function(){return this._pages.length-1},getPages:function(){return this._pages},getPageInfo:function(e){return{objId:2*(e-1)+3,pageNumber:e,pageContext:this._pagesContext[e]}},getCurrentPageInfo:function(){return this.getPageInfo(this._currentPage)},movePage:function(e,t){var n,i,r,a,s=this,o=s._pages,l=s._pageDim,h=s._pagesContext;if(t<e){for(n=o[e],i=l[e],r=h[e],a=e;t<a;a--)o[a]=o[a-1],l[a]=l[a-1],h[a]=h[a-1];o[t]=n,l[t]=i,h[t]=r,s._setPage(t)}else if(e<t){for(n=o[e],i=l[e],r=h[e],a=e;a<t;a++)o[a]=o[a+1],l[a]=l[a+1],h[a]=h[a+1];o[t]=n,l[t]=i,h[t]=r,s._setPage(t)}return s},insertPage:function(){var e=this,t=[].slice.call(arguments),n=t.shift();return e.addPage.apply(e,t),e.movePage(e._currentPage,n),e},setDisplayMode:function(e,t,n){return this._zoomMode=e,this._layoutMode=t,this._pageMode=n,this},_ESC:function(e,t){var n=this.options;return e=e.split("\t").join(new Array(n.TabLen||9).join(" ")),this._escape(e,t)},text:function(e,t,n,i,r,a){var s,o,l,h,u,c,f,d,p,g,m=this,y="",v="Td",b="",x=m.getCurrentPageInfo().pageContext,w=m.getLineHeight();if(k(e)&&(e=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e]),k(r)&&(a=r,r=null),k(i)&&(a=i,i=null),ie(i)&&(r=i,i=null),r&&(r*=Math.PI/180,s=Math.cos(r),r=Math.sin(r),y=[m._setNumberPrecision(s,2),m._setNumberPrecision(r,2),m._setNumberPrecision(-1*r,2),m._setNumberPrecision(s,2),""].join(" "),v="Tm"),"noBOM"in(i=i||{})||(i.noBOM=!0),"autoencode"in i||(i.autoencode=!0),!0===i.stroke?!0!==x.lastTextWasStroke&&(b="1 Tr\n",x.lastTextWasStroke=!0):(x.lastTextWasStroke&&(b="0 Tr\n"),x.lastTextWasStroke=!1),se(m._runningPageHeight)||(m._runningPageHeight=0),k(e))e=m._ESC(e,i);else{if(!(e instanceof Array))return void he('Type of text must be string or Array. "'+e+'" is not recognized.',m.options.dieOnError);for(l=[],u=(o=e.concat()).length;u--;)l.push(m._ESC(o.shift(),i));if(Math.ceil((m._pageHeight-n-m._runningPageHeight)*m._scaleFactor/m.getLineHeight()),a){if(g=ne(e,function(e){return m._getStringWidth(e)*m.getFontSize()/m._scaleFactor}),p=Math.max.apply(Math,g),"center"===a)c=t-p/2,t-=g[0]/2;else{if("right"!==a)return void he('Unrecognized alignment option, use "center" or "right".',m.options.dieOnError);c=t-p,t-=g[0]}for(f=t,e=l[0]+") Tj\n",h=1,u=l.length;h<u;h++)d=p-g[h],"center"===a&&(d/=2),e+=c-f+d+" -"+w+" Td ("+l[h],f=c+d,h<u-1&&(e+=") Tj\n")}else e=l.join(") Tj\nT* (")}return n=m._setNumberPrecision((m._pageHeight-n)*m._scaleFactor,2),m._write("BT\n/"+m._fontKey+" "+m.getFontSize()+" Tf\n"+m.getLineHeight()+" TL\n"+b+m._textColor+"\n"+y+m._setNumberPrecision(t*m._scaleFactor,2)+" "+n+" "+v+"\n("+e+") Tj\nET"),m},lstext:function(e,t,n,i){for(var r=0,a=e.length;r<a;r++,t+=i)this.text(e[r],t,n)},line:function(e,t,n,i){return this.lines([[n-e,i-t]],e,t)},clip:function(){this._write("W"),this._write("S")},lines:function(e,t,n,i,r,a){var s,o,l,h,u,c,f,d,p,g,m,y=this;for(ie(e)&&(y._tmp=n,n=t,t=e,e=y._tmp),i=i||[1,1],y._write(y._setNumberPrecision(t*y._scaleFactor,3)+" "+y._setNumberPrecision((y._pageHeight-n)*y._scaleFactor,3)+" m "),s=i[0],o=i[1],h=e.length,g=t,m=n,l=0;l<h;l++)2===(u=e[l]).length?(g=u[0]*s+g,m=u[1]*o+m,y._write(y._setNumberPrecision(g*y._scaleFactor,3)+" "+y._setNumberPrecision((y._pageHeight-m)*y._scaleFactor,3)+" l")):(c=u[0]*s+g,f=u[1]*o+m,d=u[2]*s+g,p=u[3]*o+m,g=u[4]*s+g,m=u[5]*o+m,y._write(y._setNumberPrecision(c*y._scaleFactor,3)+" "+y._setNumberPrecision((y._pageHeight-f)*y._scaleFactor,3)+" "+y._setNumberPrecision(d*y._scaleFactor,3)+" "+y._setNumberPrecision((y._pageHeight-p)*y._scaleFactor)+" "+y._setNumberPrecision(g*y._scaleFactor)+" "+y._setNumberPrecision((y._pageHeight-m)*y._scaleFactor)+" c"));return a&&y._write(" h"),null!==r&&y._write(y.getStyle(r)),y},rect:function(e,t,n,i,r){var a=this;a.getStyle(r);return a._write([a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),a._setNumberPrecision(n*a._scaleFactor,2),a._setNumberPrecision(-i*a._scaleFactor,2),"re"].join(" ")),null!==r&&a._write(a.getStyle(r)),a},triangle:function(e,t,n,i,r,a,s){return this.lines([[n-e,i-t],[r-n,a-i],[e-r,t-a]],e,t,[1,1],s,!0),this},roundedRect:function(e,t,n,i,r,a,s){var o=4/3*(Math.SQRT2-1);return this.lines([[n-2*r,0],[r*o,0,r,a-a*o,r,a],[0,i-2*a],[0,a*o,-r*o,a,-r,a],[2*r-n,0],[-r*o,0,-r,-a*o,-r,-a],[0,2*a-i],[0,-a*o,r*o,-a,r,-a]],e+r,t,[1,1],s),this},ellipse:function(e,t,n,i,r){var a=this,s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*i;return a._write([a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"m",a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-o))*a._scaleFactor,2),a._setNumberPrecision((e+s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e-s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-o))*a._scaleFactor,2),a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+o))*a._scaleFactor,2),a._setNumberPrecision((e-s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e+s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+o))*a._scaleFactor,2),a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"c"].join(" ")),null!==r&&a._write(a.getStyle(r)),a},circle:function(e,t,n,i){return this.ellipse(e,t,n,n,i)},setFontSize:function(e){return this._fontSize=e,this},setFont:function(e,t){return this._fontKey=this.getFont(e,t),this},setFontStyle:function(e){return this._fontKey=this.getFont(X,e),this},getFontList:function(){var e,t,n,i={},r=this._fontmap;for(e in r)if(r.hasOwnProperty(e))for(t in i[e]=n=[],r[e])r[e].hasOwnProperty(t)&&n.push(t);return i},addFontScriptName:function(e,t,n){this.addFont(e,t,n,"StandardEncoding")},setLineWidth:function(e){return this._write((e*this._scaleFactor).toFixed(2)+" w"),this},setDrawColor:function(e,t,n,i){var r=this,n=!se(t)||!se(i)&&e===t===n?k(e)?e+" G":r._setNumberPrecision(e/255,2)+" G":(se(i)?k(e)?[e,t,n,i,"K"]:[r._setNumberPrecision(e,2),r._setNumberPrecision(t,2),r._setNumberPrecision(n,2),r._setNumberPrecision(i,2),"K"]:k(e)?[e,t,n,g]:[r._setNumberPrecision(e/255,2),r._setNumberPrecision(t/255,2),r._setNumberPrecision(n/255,2),g]).join(" ");return r._write(n),r},setFillColor:function(e,t,n,i){var r,a=this;return!se(t)||!se(i)&&e===t===n?r=k(e)?e+" g":a._setNumberPrecision(e/255,2)+" g":!se(i)||D(i)?(r=(k(e)?[e,t,n,"rg"]:[a._setNumberPrecision(e/255,2),a._setNumberPrecision(t/255,2),a._setNumberPrecision(n/255,2),"rg"]).join(" "),i&&0===i.a&&(r=["255","255","255","rg"].join(" "))):r=(k(e)?[e,t,n,i,"k"]:[a._setNumberPrecision(e,2),a._setNumberPrecision(t,2),a._setNumberPrecision(n,2),a._setNumberPrecision(i,2),"k"]).join(" "),a._write(r),a},setTextColor:function(e,t,n){var i,r=this;return k(e)&&/^#[0-9A-Fa-f]{6}$/.test(e)&&(e=(i=parseInt(e.substr(1),16))>>16&255,t=i>>8&255,n=255&i),0===e&&0===t&&0===n||!se(t)?r._textColor=r._setNumberPrecision(e/255,3)+" g":r._textColor=[r._setNumberPrecision(e/255,3),r._setNumberPrecision(t/255,3),r._setNumberPrecision(n/255,3),"rg"].join(" "),r},_build:function(){var e,t,n,i,r=this;for(r._printToDoc=!0,r._objectNumber=2,r._write("%PDF-"+r._version),r._writePages(),r._writeAdditionalObjects(),r._writeResources(),r._createObject(),r._write("<<"),r._writeInfo(),r._write(">>"),r._write("endobj"),r._createObject(),r._write("<<"),r._writeCatalog(),r._write(">>"),r._write("endobj"),e=r._contentLength,t="0000000000",r._write("xref"),r._write("0 "+(r._objectNumber+1)),r._write(t+" 65535 f "),i=1;i<=r._objectNumber;i++)n=r._offsets[i],s(n)?r._write((t+r._offsets[i]()).slice(-10)+" 00000 n "):r._write((t+r._offsets[i]).slice(-10)+" 00000 n ");return r._write("trailer"),r._write("<<"),r._writeTrailer(),r._write(">>"),r._write("startxref"),r._write(e),r._write("%%EOF"),r._printToDoc=!1,r._content.join("\n")},getStyle:function(e){var t="S";return"F"===e?t="F".toLowerCase():"FD"===e||"DF"===e?t="B":e!=="F".toLowerCase()&&"f*"!==e&&"both"!==e&&"B*"!==e||(t=e),t},_getArrayBuffer:function(){for(var e=this._build(),t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},_getCharWidths:function(e,t){for(var n,i=t||{},t=this.getActiveFontObj(),r=i.widths||t.metadata.Unicode.widths,a=r.fof||1,s=i.kerning||t.metadata.Unicode.kerning,o=s.fof||1,l=0,h=r[0]||a,u=[],c=0,f=e.length;c<f;c++)n=e.charCodeAt(c),u.push((r[n]||h)/a+(s[n]&&s[n][l]||0)/o),l=n;return u},_sum:function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},_getStringWidth:function(e,t){return this._sum(this._getCharWidths.call(this,e,t))},_getTextDimensions:function(t){var n=this.getActiveFontObj(),e=n.fontName,i=this._tableFontSize||this.getFontSize(),r=n.fontStyle,n=_.createElement("font");try{n.style.fontStyle=r}catch(e){n.style.fontWeight=r}n.style.fontName=e,n.style.fontSize=i+"pt";try{n.textContent=t}catch(e){n.innerText=t}return _.body.appendChild(n),t={w:(n.offsetWidth+1)*O,h:(n.offsetHeight+1)*O},_.body.removeChild(n),t},_setLastCellPosition:function(e,t,n,i,r){this._lastCellPos={x:e,y:t,w:n,h:i,ln:r}},_getLastCellPosition:function(){return this._lastCellPos},_cellAddPage:function(){var e=this,t=e._cellMargins||e._noMargins;e.addPage(),e._setLastCellPosition(t.left,t.top),e._cellPages++},_setTableHeaderConfig:function(e){this._cellTableHeaderRow=e},_splitWord:function(e,t,n,i){for(var r,a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<n;)l+=t[s],s++;for(a.push(e.slice(0,s)),r=s,l=0;s!==o;)l+t[s]>i&&(a.push(e.slice(r,s)),l=0,r=s),l+=t[s],s++;return r!==s&&a.push(e.slice(r,s)),a},_splitParagraph:function(e,t,n){var i,r,a,s,o,l,h=this,u=n||{},c=[],f=[c],d=u.textIndent||0,p=0,g=0,m=e.split(" "),y=h._getCharWidths(" ",u)[0],v=-1===u.lineIndent?m[0].length+2:u.lineIndent||0;for(v&&(o=new Array(v).join(" "),l=[],w(m,function(e,t){1<(t=t.split(/\s*\n/)).length?l=l.concat(ne(t,function(e,t){return(t&&e.length?"\n":"")+e})):l.push(t[0])}),m=l,v=h._getStringWidth(o,u)),r=0,a=m.length;r<a;r++){var b=0,x=m[r];if(v&&"\n"==x[0]&&(x=x.substr(1),b=1),i=h._getCharWidths(x,u),t<d+p+(g=h._sum(i))||b){if(t<g){for(s=h._splitWord(x,i,t-(d+p),t),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);g=h._sum(i.slice(x.length-c[0].length))}else c=[x];f.push(c),d=g+v,p=y}else c.push(x),d+=p+g,p=y}return ne(f,v?function(e,t){return(t?o:"")+e.join(" ")}:function(e){return e.join(" ")})},_splitText:function(e,t,n){var i,r,a=this,s=n||{},n=F(e)?e.join(" "):e,n=a._getTextDimensions(n).w/n.length,o=[],l=function(e){var t,n={0:1},i={};return e.widths&&e.kerning?{widths:e.widths,kerning:e.kerning}:(t=a.getFontObj(e.fontName,e.fontStyle)||a.getActiveFontObj()).metadata[e="Unicode"]?{widths:t.metadata[e].widths||n,kerning:t.metadata[e].kerning||i}:{widths:n,kerning:i}}.call(a,s),h=F(e)?e:e.split(/\r?\n/),u=+a._scaleFactor*t/n;for(l.textIndent=s.textIndent?+s.textIndent*a._scaleFactor/n:0,l.lineIndent=s.lineIndent,i=0,r=h.length;i<r;i++)o=o.concat(a._splitParagraph(h[i],u,l));return o},_getLineHeight:function(e,t,n){for(var i,r,a=0,s=this._cellPadding,o=0;o<e.length;o++)r=e[o],i=F(n)?n[o]:n[r],F(i)||(!se(i)||oe(i)?i="":i+=""),r=F(n)?(n[o]=this._splitText(i,t[r]-s),n[o].length):(n[r]=this._splitText(i,t[r]-s),n[r].length),a<(r=this.getLineHeight()*r+1.6*s)&&(a=r);return a},_cell:function(e,t,n,i,r,a,s){var o,l,h,u=this,c=u._getLastCellPosition(),f=u._cellMargins||u._noMargins,d=u._cellPadding;if(se(c.ln)&&(t=c.ln===a?(e=c.x+c.w,c.y):(c.y+c.h+i+u._cellMargin>=u._pageHeight-f.bottom&&(u._cellAddPage(),u._tablePrintHeader&&u._cellTableHeaderRow&&u._renderHeader(a,!0)),(f=u._getLastCellPosition()).y+(f.h||0))),se(r[0]))if(u._cellPrintingHeaderRow?u.rect(e,t,n,i,"FD"):u.rect(e,t,n,i),"right"===s)for(F(r)||(r=[r]),h=0;h<r.length;h++)o=r[h],l=u._getStringWidth(o)*u.getFontSize(),u.text(o,e+n-l-d,t+u.getLineHeight()*(h+1));else u.text(r,e+d,t+u.getLineHeight());return u._setLastCellPosition(e,t,n,i,a),u},_renderHeader:function(e,t){var n,i,r,a,s=this,o=[];if(s._cellTableHeaderRow){for(s._cellPrintingHeaderRow=!0,se(s._cellHeaderFunction)&&(a=s._cellHeaderFunction.call(s,s._cellPages),s._setLastCellPosition(a[0],a[1],a[2],a[3],-1)),s.setFontStyle(x),i=0,r=s._cellTableHeaderRow.length;i<r;i++)s.setFillColor(236,237,238),n=s._cellTableHeaderRow[i],t&&(n[1]=s._cellMargins&&s._cellMargins.top||0,o.push(n)),n=[].concat(n),s._cell.apply(s,n.concat(e));0<o.length&&s._setTableHeaderConfig(o),s.setFontStyle(b),s._cellPrintingHeaderRow=!1}else he("shieldExport: No table header configuration",s.options.dieOnError)},table:function(e,t,n,i,r){function a(e){return e[s]}var s,o,l,h,u,c,f,d,p,g,m,y,v,b=this,x=b._cellPadding,w=[],_=[],P={},C=[],E=!0,S=b.getFontSize(),T=b._noMargins;if(n){if(v=n.slice(0),r&&(!1===r.printHeader&&(E=!1),r.fontSize&&(S=r.fontSize),r.margins&&(T=r.margins)),b._lastCellPos={x:X,y:X,w:X,h:X,ln:X},b._cellPages=1,b._tablePrintHeader=E,b._cellMargins=T,b.setFontSize(S),b._tableFontSize=S,!se(i)||oe(i))w=ue(v[0]);else if(i[0]&&!k(i[0]))for(l=0,h=i.length;l<h;l++)s=i[l],w.push(s.field),_.push(s.title),P[s.field]=se(s.width)?N(s.width)*b._getScaleFactor():X;else w=i;for(l=0,h=w.length;l<h;l++)if(s=w[l],!se(P[s])){for((d=[]).push(b._getTextDimensions(_[l]||s).w+2*x),p=0,u=(f=ne(v,a)).length;p<u;p++)c=f[p],d.push(b._getTextDimensions(c).w+2*x);P[s]=Math.max.apply(Math,d)}if(E){for(y=b._getLineHeight(w,P,_.length?_:w),l=0,h=w.length;l<h;l++)s=w[l],o=_.length?_[l]:s,F(o)||(o+=""),C.push([e,t,P[s],y,o]);b._setTableHeaderConfig(C),b._renderHeader(1,!1)}for(l=0,h=v.length;l<h;l++)for(g=v[l],y=b._getLineHeight(w,P,g),p=0,m=w.length;p<m;p++)s=w[p],b._cell(e,t,P[s],y,g[s],l+2,i[p].align);return b}he("shieldExport: No data specified for PDF table",b.options.dieOnError)}}),t=n.extend({getExt:function(){return".csv"},getContentType:function(){return"text/csv;charset=utf-8"},getContent:function(e){function t(e){return(e+"").replace(c,'""')}var n,i,r,a=this.options,s=a.delimiter||",",o=a.header,l=a.records||[],h=l.length,u="",c=/\"/g;if(a.printHeader&&o){for(n=0;n<o.length;n++)u+=(0<n?s:"")+'"'+t(o[n])+'"';u+="\n"}for(n=0;n<h;n++){for(i=0,r=l[n].length;i<r;i++)u+=(0<i?s:"")+'"'+t(l[n][i])+'"';u+="\n"}return u}}),te(f,{PDFDocument:a,CSVDocument:t,OOXMLWorkbook:e,ExcelXMLSpreadsheet:ee})}(jQuery,shield,this);
shield.version='1.7.44';