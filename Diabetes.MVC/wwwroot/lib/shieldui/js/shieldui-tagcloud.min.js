/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(c,e,t){var a,u=e.ui.Widget,s=(e.Class,e.DataSource),h=(Math.min,Math.max,c.proxy),o=c.each,n=c.map,l=e.error,m=e.format,f=e.is.defined,i=e.is.null,p=e.to.int,g="change",v="click";function S(e){return f(e)&&!i(e)&&"undefined"!==e}a={cls:t,width:t,height:t,dataSource:t,readDataSource:!0,title:t,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},(t=u.extend({init:function(){u.fn.init.apply(this,arguments);var e,t=this,a=c(t.element),i=t.options,n=i.title,r=i.dieOnError,o=i.dataSource,d=i.cls;if("div"===a.prop("tagName").toLowerCase()){if(e=t._eventNS=".shieldTagCloud"+t.getInstanceId(),a.empty(),n&&a.append('<div class="sui-tagcloud-title">'+n+"</div>"),t._contentEl=c('<div class="sui-tagcloud-content">').appendTo(a),a.addClass("sui-tagcloud"+(d?" "+d:"")),f(i.width)&&a.css("width",i.width),f(i.height)&&a.css("height",i.height),!o)return t.destroy(),void l("shieldTagCloud: No dataSource or underlying UL element found.",r);t.dataSource=s.create(o),t.dataSource.on(g+e,h(t._dsChange,t)),i.readDataSource&&t.dataSource.read()}else l("shieldTagCloud: Underlying element is not DIV.",r)},_dsChange:function(){this._render()},_render:function(){var t=this,e=t._contentEl,a=t.dataSource.view||[],i=t._getMinMax(a);e.empty().append(n(a,function(e){return t._createItem(e,i[0],i[1])}))},_createItem:function(e,t,a){var i,n,r=this,o=r.options,d=o.minSize,u=o.maxSize,s=c('<div class="sui-tagcloud-item" />'),l=m(o.textTemplate,e);return S(l)&&(S(n=m(o.hrefTemplate,e))?(i=c('<a href="'+n+'" class="sui-tagcloud-link">'+l+"</a>").appendTo(s),S(n=m(o.targetTemplate,e))&&i.attr("target",n)):s.html(l)),o=p(m(o.frequencyTemplate,e)),s.css("font-size",(t<a?(o-t)*(u-d)/(a-t)+d:100)+"%").on(v,h(r._itemClick,r,e)),s},_itemClick:function(e,t){this.trigger(v,{item:e}).isDefaultPrevented()&&t&&t.preventDefault()},_getMinMax:function(e){var a,i=this,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return o(e||[],function(e,t){a=p(m(i.options.frequencyTemplate,t)),(!f(r)||r<a)&&(r=a),(!f(n)||a<n)&&(n=a)}),[n,r]},destroy:function(){var e=this,t=e.element,a=e.options.cls;e.dataSource&&e.dataSource.off(g+e._eventNS),t.removeClass("sui-tagcloud"+(a?" "+a:"")).empty(),u.fn.destroy.call(e)}})).defaults=a,e.ui.plugin("TagCloud",t)}(jQuery,shield);