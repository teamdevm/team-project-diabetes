/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(v,l,m,p){function f(e){return(e=v(e).prop("tagName").toLowerCase())==be?Te:"input"==e?Ne:"textarea"==e?Ee:"uto"}function c(e){return v("<div/>").text(e).html()}function d(e){var t=v(e);t.focus(),t.get(0).setSelectionRange?(e=2*t.val().length,t.get(0).setSelectionRange(e,e)):t.val(t.val())}function _(e){var t=(e+="").lastIndexOf(".");return-1<t?e.length-t-1:0}function a(e,t){if(e&&!u(e))if(x(e))for(var n=0;n<e.length;n++)a(e[n],t);else if(e.or||e.and)for(var i in e)e.hasOwnProperty(i)&&a(e[i],t);else e.value=t}var s,n,o,e,b=l.ui.Widget,h=(l.Class,l.DataSource),i=l.ui.Position,r=l.Constants.KeyCode,g=l.error,u=l.is.func,x=l.is.array,k=l.is.defined,S=(l.is.number,l.is.string),y=(l.is.object,l.to.array),C=l.to.int,w=l.to.number,A=l.support.browser,D=l.format,T=l.strid,N=document,E=Math.min,B=Math.max,I=Math.pow,L=v.extend,t=(v.map,v.each),M=v.proxy,V=v.inArray,U="id",R="role",P="true",W="false",O="textbox",H="aria",F=H+"-selected",K=H+"-autocomplete",$=H+"-activedescendant",z=H+"-multiline",G=H+"-valuenow",Z=H+"-disabled",j=H+"-haspopup",q=H+"-checked",Q=H+"-label",X=H+"-labelledby",J=H+"-controls",Y=H+"-expanded",ee="title",te="disabled",ne="checked",ie="selected",ae="itemclick",le="tabindex",se="mousedown",oe="mouseup",re="mouseout",ue="click",ce="keydown",de="dragstart",he="dragenter",pe="dragover",_e="change",ve="focus",me="blur",fe="resize",be="select",ge="value",xe="placeholder",ke="selectstart",Se="unselectable",ye="height",Ce="suilbitemdata",we="suilbitemindex",Ae="suilbitemvalue",De="suilbitemtext",Te="uts",Ne="uti",Ee="utta",Be={enabled:!0,cls:p,dataSource:p,readDataSource:!0,valueTemplate:p,textTemplate:p,multiple:p,selected:p,values:p,width:p,height:p,maxHeight:p,events:{}},Ie=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.dieOnError,i=t.dataSource,a=t.selected,l=t.values,s=t.renderToINTERNAL,o=t.wrapOriginalINTERNAL,r=t.tabindexINTERNAL,u=t.filterINTERNAL,c=k(u)?{filter:u}:{},d=!k(o)||o;if(e._original=u=v(e.element),e._utype=o=f(u),o==Ne&&t.multiple)return e.destroy(),void g("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",n);if(e._eventNS=".shieldListBox"+e.getInstanceId(),k(l)||k(a)||o!=Te&&o!=Ne||(l=u.val()),d?(e.wrapper=u.wrap("<span/>").parent(),e._isWrapped=!0):e._isWrapped=!1,u.hide(),e.element=d=v('<ul id="'+T()+'"/>').on(ve+e._eventNS,M(e._focus,e)).on(me+e._eventNS,M(e._blur,e)),k(t.width)&&d.css("width",t.width),k(t.height)&&d.css(ye,t.height),k(t.maxHeight)&&d.css("max-height",t.maxHeight),0<v(s).length?v(s).append(d):u.after(d),i)e.dataSource=h.create(i,c),t.valueTemplate||(t.valueTemplate="{0}"),t.textTemplate||(t.textTemplate="{0}");else{if(o!=Te)return e.destroy(),void g("shieldListBox: No dataSource or underlying SELECT element found.",n);e.dataSource=h.create(L({},{data:u,schema:{type:be}},c)),t.valueTemplate||(t.valueTemplate="{value}"),t.textTemplate||(t.textTemplate="{text}"),k(t.multiple)||(t.multiple=u.not("[multiple]").length<=0)}d.addClass("sui-listbox"),t.cls&&d.addClass(t.cls),u=k(r)?r:u.attr(le),d.attr(le,k(u)?u:"0"),d.on(ce+e._eventNS,M(e._keydown,e)),e.dataSource.on(_e+e._eventNS,M(e._dsChange,e)),k(l)?e._initValues=l:k(a)&&(e._initSelected=a),d.attr(R,"listbox"),t.multiple&&d.attr("aria-multiselectable",P),t.readDataSource&&e.dataSource.read(),e.enabled(t.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){this._oldSelection=this.selected(),this.trigger(ve)},_blur:function(e){var t=this,n=t._oldSelection,i=t.selected();0===v(n).not(i).length&&0===v(i).not(n).length||t.trigger(_e),t._oldSelection=i,t.trigger(me)},_dsChange:function(e){var t=this;t._render(),t._dsLoadedOnce||(t._dsLoadedOnce=!0,k(t._initValues)?t.values(t._initValues):k(t._initSelected)&&t.selected(t._initSelected))},_render:function(){var l=this,s=l.options,e=l.dataSource.view,o=v(l.element),r=l._utype,u=l._original,c=o.attr(U)+"_opt";r==Ne&&l._original.val();o.empty(),r==Te?u.empty():r==Ne&&u.removeAttr(ge),e&&t(e,function(t,n){var e=D.call(l,s.valueTemplate,n),i=D.call(l,s.textTemplate,n),a=v('<li id="'+c+t+'" role="option">'+i+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(e){l._enabled&&(l._setActive(v(this)),l._toggleActive(e)),l.trigger(ae,{index:t,item:n})}).on(ke,function(){return!1}).data(Ce,n).data(we,t).data(Ae,e).data(De,i);s.multiple&&a.attr(F,W),o.append(a),r==Te&&u.append(v("<option/>").attr(ge,e).text(i))})},_keydown:function(e){var t=this,n=!0;switch(e.keyCode){case r.UP:t._move("up",e);break;case r.DOWN:t._move("down",e);break;case r.HOME:t._move("first",e),n=!1;break;case r.END:t._move("last",e),n=!1;break;case r.SPACE:case r.ENTER:t._toggleActive(e);break;default:n=!1}n&&e.preventDefault()},_move:function(e,t){var n=this,i=v(n.element),a=i.find(".sui-listbox-item-active").first(),l=i.find(":first");n._enabled&&("up"==e?0<a.prev().length?l=a.prev():0<a.length&&(l=a):"down"==e?0<a.next().length?l=a.next():0<a.length&&(l=a):"first"==e?l=i.find(".sui-listbox-item").first():"last"==e&&(l=i.find(".sui-listbox-item").last()),l.length<=0||(n.options.multiple?(n._setActive(l),n._ensureInScrollableArea(l)):n._select(l)))},_ensureInScrollableArea:function(e){var t=v(this.element),n=t.height(),i=t.scrollTop(),a=e.outerHeight(),e=e.position().top,a=e+a;e<0?t.scrollTop(i+e):n<a&&t.scrollTop(i+(a-n))},ensureActiveViewableINTERNAL:function(){var e=this._getActive();0<e.length&&this._ensureInScrollableArea(e)},_getActive:function(){return v(this.element).find(".sui-listbox-item-active").first()},_setActive:function(e){e.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active"),v(this.element).attr($,e.attr(U))},_setSelected:function(e){e.addClass("sui-listbox-item-selected").attr(F,P)},_unsetSelected:function(e){e.removeClass("sui-listbox-item-selected"),this.options.multiple?e.attr(F,W):e.removeAttr(F)},_toggleActive:function(e){this._toggle(e,this._getActive())},_toggle:function(e,t){var n=this;n._enabled&&(!t||t.length<=0||(n.options.multiple&&t.hasClass("sui-listbox-item-selected")?n._deselect(t):n._select(t)))},_select:function(e,t){var n=this,i=n._original,a=n._utype;n.options.multiple||n.clearSelection(),n._setActive(e),n._ensureInScrollableArea(e),n._setSelected(e),a==Te?i.find("option:eq("+e.data(we)+")").attr(ie,ie):a==Ne&&i.attr(ge,e.data(Ae)),t||n.trigger(be,{index:e.data(we),item:e.data(Ce),value:e.data(Ae),text:e.data(De),selected:!0})},_deselect:function(e,t){var n=this,i=n._original,a=n._utype;n._setActive(e),n._unsetSelected(e),a==Te?i.find("option:eq("+e.data(we)+")").removeAttr(ie):a==Ne&&i.removeAttr(ge),t||n.trigger(be,{index:e.data(we),item:e.data(Ce),value:e.data(Ae),text:e.data(De),selected:!1})},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(te).removeClass("sui-listbox-disabled"),t.removeAttr(te)):(e.attr(te,te).addClass("sui-listbox-disabled"),t.attr(te,te)),this._enabled=n},selected:function(){var t,n,i=this,e=v(i.element),a=[].slice.call(arguments);if(!(0<a.length)){var l=[];return e.find(".sui-listbox-item-selected").each(function(){l.push(v(this).data(we))}),l}t=y(a[0]),n=!k(a[1])||!!a[1],e.find(".sui-listbox-item").each(function(e){-1<V(e,t)&&(n?i._select(v(this),!0):i._deselect(v(this),!0))})},selectedItems:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(Ce))}),e},values:function(){var e,t=this,n=v(t.element),i=[].slice.call(arguments);if(!(0<i.length)){var a=[];return n.find(".sui-listbox-item-selected").each(function(){a.push(v(this).data(Ae))}),a}e=y(i[0]),n.find(".sui-listbox-item").each(function(){if(-1<V(v(this).data(Ae),e))return t._select(v(this),!0),!!t.options.multiple})},texts:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(De))}),e},clearSelection:function(){var e=this._original,t=this.options.multiple,n=this._utype;n==Te?e.find("option").removeAttr(ie):n==Ne&&e.removeAttr(ge),v(this.element).find(".sui-listbox-item-selected").each(function(){v(this).removeClass("sui-listbox-item-selected sui-listbox-item-active"),t?v(this).attr(F,W):v(this).removeAttr(F)})},destroy:function(){var e=this,t=e._eventNS;e._dsLoadedOnce=!1,v(e.element).off(t).remove(),e.dataSource&&e.dataSource.off(_e+t),e._isWrapped&&e._original.unwrap(),e._original.show(),b.fn.destroy.call(e)}});Ie.defaults=Be,l.ui.plugin("ListBox",Ie),e={enabled:!0,cls:p,autoComplete:p,value:p,events:{}},(Be=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.autoComplete,i=t.cls,a=t.value,l=v(e.element);e._eventNS=".shieldTextBox"+e.getInstanceId(),l.addClass("sui-input"),n&&(e.autoComplete=new s(l,n)),i&&l.addClass(i),l.on(ve+e._eventNS,M(e._focus,e)).on(me+e._eventNS,M(e._blur,e)),l.attr(R,O),f(l)==Ee&&l.attr(z,P),e.enabled(t.enabled),k(a)&&e.value(a)},focus:function(){v(this.element).focus(),d(v(this.element))},_focus:function(e){var t=this;t.oldValue=t._value(),t.interval=setInterval(M(t._detectChanges,t),1),t.trigger(ve)},_blur:function(e){clearInterval(this.interval),this.trigger(me)},_detectChanges:function(){var e=this;e._enabled&&e.oldValue!==e._value()&&(e.trigger(_e,{value:e._value(),old:e.oldValue}).isDefaultPrevented()?e._value(e.oldValue):e.oldValue=e._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-input-disabled"):e.attr(te,te).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this,t=e.autoComplete,n=e.options.cls;clearInterval(e.interval),e.element.off(e._eventNS).removeClass("sui-input"+(n?" "+n:"")),t&&t.destroy(),b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("TextBox",Be),e={dataSource:p,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:p,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(s=b.extend({init:function(){b.fn.init.apply(this,arguments);var t=this,n=v(t.element),i=t.options,e=i.dataSource,a=i.dieOnError,l=i.appendListBoxTo;if(t.pending=0,t.oldValue=n.val(),!e)return t.destroy(),void g("shieldAutoComplete: No dataSource set",a);e.filter||(e.filter={and:[{path:"",filter:"contains",value:""}]}),t._eventNS=".shieldAutoComplete"+t.getInstanceId(),n.addClass("sui-input"),t.listElement=v("<span/>").appendTo(v(l)),t.listBox=new Ie(t.listElement,{cls:"sui-autocomplete",dataSource:e,readDataSource:!1,textTemplate:i.textTemplate,multiple:!1,width:i.dropDownWidth||n.innerWidth(),events:{select:function(e){t._value(D.call(t,i.valueTemplate,e.item)),t.trigger(be,{item:e.item})},itemclick:function(e){n.focus(),t._inputBlur(e,0)},blur:function(e){t._inputBlur(e,0)}}}),t.listBox.element.hide(),t.dataSource=t.listBox.dataSource,n.on(ce+t._eventNS,M(t._inputKeydown,t)).on(me+t._eventNS,M(t._inputBlur,t,100)),n.attr(K,"list").attr(J,t.listBox.element.attr(U)).attr(j,t.listBox.element.attr(R)),n.attr(R,O),f(n)==Ee&&n.attr(z,P),t.listBox.dataSource.on(_e+t._eventNS,M(t._dsChange,t)),v(m).on(fe+t._eventNS,M(t._position,t)),t._open=!1,i.open&&t._searchTimeout()},_checkValueUpdated:function(){var e=this,t=e.element.val();e.oldValue!==t&&(e.trigger(_e,{value:e._value()}),e.oldValue=t)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(e){var t=this;switch(e.keyCode){case r.TAB:break;case r.UP:case r.DOWN:t._inputUpDown(e);break;case r.ENTER:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._checkValueUpdated();break;case r.ESC:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._restoreOldValue();break;default:t._searchTimeout(e)}},_inputUpDown:function(e){var t=this;t._open?t._hasData()&&v(t.listBox.element).trigger(e):t._hasData()&&t._showItemList()},_inputBlur:function(e,t){var n=this;setTimeout(function(){v(n.listBox.element).is(":focus")||(n._hideItemList(),n._checkValueUpdated())},t)},_searchTimeout:function(e){var t=this;clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==t._value()&&(t.trigger("search",{value:t._value()}),t._search())},t.options.delay)},_search:function(){var e=this;e.term=e._value(),e.term.length<e.options.minLength?e._hideItemList():(e.cancelSearch=!1,e.pending++,v(e.element).addClass("sui-autocomplete-loading"),a(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this;e.pending--,e.pending||v(e.element).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showItemList():e._hideItemList()},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showItemList:function(){var e=this,t=e.listBox,n=v(t.element),i=e.options.animation;n.css({top:0,left:0}),n.show(),e._position(),!e._open&&i&&i.enabled?n.hide().slideDown(i.openDelay,M(t.ensureActiveViewableINTERNAL,t)):t.ensureActiveViewableINTERNAL(),e._open=!0},_hideItemList:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){v(this.listBox.element).hide()},show:function(){v(this.listBox.element).show()},isVisible:function(){return v(this.listBox.element).is(":visible")},destroy:function(){var e=this;e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(_e+e._eventNS),e.listBox.destroy(),e.listBox=null),e.element.off(e._eventNS).removeClass("sui-input"),v(m).off(fe+e._eventNS),e.listElement&&e.listElement.remove(),b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("AutoComplete",s),Be={enabled:!0,cls:"",min:0,max:100,value:p,step:p,editable:!0,spinners:!0,valueTemplate:p,textTemplate:p,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.cls,l=i.value,s=i.step,o=i.editable,r=i.spinners,u=i.labels,c=u.increase,d=u.decrease,h=i.dieOnError;n._original=u=v(n.element),f(u)==Ne?(k(s)?i.step=s=w(s):(t=_(k(l)?l:n._value()),i.step=s=0<t?1/I(10,t):1),s?(n._eventNS=".shieldNumericTextBox"+n.getInstanceId(),n.element=t=u.wrap("<span/>").parent(),u.hide(),k(l)||(l=n._value()),o?(e=v('<input type="text" class="sui-input" />'),u=u.attr(xe),k(u)&&e.attr(xe,u)):e=v('<span class="sui-input">&nbsp;</span>').attr(le,"0"),(n.textElement=e).appendTo(t),e.on(ve+n._eventNS,M(n._focus,n)).on(me+n._eventNS,M(n._blur,n)),r&&(n._onSpinUpMDProxy=M(n._spinUpMD,n),n._onSpinDownMDProxy=M(n._spinDownMD,n),n._onSpinnerMUProxy=M(n._spinnerMU,n),n.spinUp=c=v('<span class="sui-spinner sui-spinner-up sui-unselectable"/>').html('<span class="sui-caret-up sui-unselectable" unselectable="on"/>').attr(Se,"on").attr("alt",c).attr(ee,c).on(se+n._eventNS,n._onSpinUpMDProxy).on(oe+n._eventNS,n._onSpinnerMUProxy).on(re+n._eventNS,n._onSpinnerMUProxy).on(ke+n._eventNS,function(){return!1}),n.spinDown=d=v('<span class="sui-spinner sui-spinner-down sui-unselectable"/>').html('<span class="sui-caret-down sui-unselectable" unselectable="on"/>').attr(Se,"on").attr("alt",d).attr(ee,d).on(se+n._eventNS,n._onSpinDownMDProxy).on(oe+n._eventNS,n._onSpinnerMUProxy).on(re+n._eventNS,n._onSpinnerMUProxy).on(ke+n._eventNS,function(){return!1}),t.append(v('<span class="sui-spinners"/>').append(c,d))),e.on(ce+n._eventNS,M(n._keydown,n)),t.addClass("sui-numeric-textbox"+(r?"":" sui-numeric-textbox-nosp")+(a?" "+a:"")),s=_(s),k(i.textTemplate)||(i.textTemplate="{0:n"+s+"}"),k(i.valueTemplate)||(i.valueTemplate="{0:n"+s+"}"),t.attr(R,"spinbutton").attr("aria-valuemin",i.min).attr("aria-valuemax",i.max),n.enabled(i.enabled),k(l)&&n.value(l),n._destroyed=!1):g("shieldNumericTextBox: Invalid step",h)):g("shieldNumericTextBox: Underlying element is not INPUT",h)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,v(t.element).addClass("sui-numeric-textbox-focus"),t.value(t.value()),t.trigger(ve))},_blur:function(e){var t,n,i=this,a=v(i.element),l=v(i.textElement);i.options.editable&&(t=i.value(),i._updateIfDirty(),(n=i.value())!==t&&i.trigger(_e,{value:n})),setTimeout(function(){var e,t;a.is(":focus")||l.is(":focus")||i._destroyed||(i._hasFocus=!1,a.removeClass("sui-numeric-textbox-focus"),i.options.editable?(e=i.value(),i.value(l.val()),(t=i.value())!==e&&i.trigger(_e,{value:t})):i.value(i.value()),i.trigger(me))},100)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled;switch(n){case r.TAB:case r.LEFT:case r.RIGHT:break;case r.END:t._updateValue("max",!1),e.preventDefault();break;case r.HOME:t._updateValue("min",!1),e.preventDefault();break;case r.ESC:i&&t.value(t.value()),e.preventDefault();break;case r.UP:t._updateValue("inc",!1),e.preventDefault();break;case r.DOWN:t._updateValue("dec",!1),e.preventDefault();break;default:t.options.editable&&i&&(48<=n&&n<=57||96<=n&&n<=105||190==n||110==n||173==n||109==n||189==n||n==r.DEL||n==r.BACK||n==r.ENTER||e.ctrlKey&&(118==n||86==n))?t._dirty=!0:e.preventDefault()}},_spinUpMD:function(e){var t=this;e.preventDefault(),t._updateValue("inc",!1),t._spinUpCancel=!1,setTimeout(function(){t._spinUpInt||t._spinUpCancel||(t._spinUpInt=setInterval(M(t._updateValue,t,"inc",!1),20))},100)},_spinDownMD:function(e){var t=this;e.preventDefault(),t._updateValue("dec",!1),t._spinDownCancel=!1,setTimeout(function(){t._spinDownInt||t._spinDownCancel||(t._spinDownInt=setInterval(M(t._updateValue,t,"dec",!1),20))},100)},_spinnerMU:function(e){var t=this;t._spinUpCancel=t._spinDownCancel=!0,clearInterval(t._spinUpInt),clearInterval(t._spinDownInt),t._spinUpInt=t._spinDownInt=null},_updateIfDirty:function(){var e=v(this.textElement);this._dirty&&(this.value(e.val()),this._dirty=!1)},_updateValue:function(e,t,n){var i,a=this,l=a.options,s=l.min,o=l.max,r=l.step,u=v(a.textElement),c=!1;a._enabled&&(a._updateIfDirty(),i=a.value(),k(i)||(i=0),t=!k(t)||!!t,n=!k(n)||!!n,"inc"==e?i<o&&(a.value(i+r),c=!0):"dec"==e?s<i&&(a.value(i-r),c=!0):"min"==e?(a.value(s),c=!0):"max"==e&&(a.value(o),c=!0),n&&(u.focus(),l.editable&&d(u)),c&&!t&&a.trigger(_e,{value:a.value()}))},increment:function(){this._updateValue("inc",!0,!1)},decrement:function(){this._updateValue("dec",!0,!1)},value:function(){var e,t=this,n=t.options,i=[].slice.call(arguments),a=t.element,l=v(t.textElement);if(!(0<i.length))return w(t._value());i=k(i[0])&&null!==i[0]&&""!==i[0]?(e=B(E(i[0],n.max),n.min),e=D.call(t,n.valueTemplate,e),e=w(e),D.call(t,n.textTemplate,e)+""):(e=null,""),n.editable?t._hasFocus&&t._enabled?l.val(e):l.val(i):l.html(i),t._value(e),null!==e?a.attr(G,e):a.removeAttr(G),a.attr("aria-valuetext",c(i))},_value:function(){return this._original.attr.apply(this._original,[ge].concat([].slice.call(arguments)))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-numeric-textbox-disabled"):e.attr(te,te).addClass("sui-numeric-textbox-disabled"),this._enabled=t},focus:function(){v(this.textElement).focus(),d(v(this.textElement))},destroy:function(){var e=this;e._destroyed=!0,e.options.spinners&&(v(e.spinUp).off(e._eventNS).remove(),v(e.spinDown).off(e._eventNS).remove(),e.spinUp=e.spinDown=null),v(e.textElement).off(e._eventNS).remove(),e.textElement=null,e._original.unwrap().show(),e._original=null,b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("NumericTextBox",e),Be={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(e){return/^[0-9]$/.test(e)},9:function(e){return/^[0-9 ]$/.test(e)},"#":function(e){return/^[0-9 \+\-]$/.test(e)},L:function(e){return/^[a-zA-Z]$/.test(e)},"?":function(e){return/^[a-zA-Z ]$/.test(e)},"&":function(e){return/^[\S]$/.test(e)},C:function(e){return/^[.]$/.test(e)},A:function(e){return/^[0-9a-zA-Z]$/.test(e)},a:function(e){return/^[0-9a-zA-Z ]$/.test(e)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:p,events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.dieOnError,i=t.value,a=v(e.element);f(a)==Ne?e._verifyMask()?(e._eventNS=".shieldMaskedTextBox"+e.getInstanceId(),a.addClass("sui-input"),t.cls&&a.addClass(t.cls),k(i)&&e.value(i),a.on(ve+e._eventNS,M(e._focus,e)).on(me+e._eventNS,M(e._blur,e)).on(ce+e._eventNS,M(e._keydown,e)).on("keypress"+e._eventNS,M(e._keypress,e)).on("cut"+e._eventNS,M(e._cut,e)).on("paste"+e._eventNS,M(e._paste,e)).on(de+e._eventNS,M(e._dragstart,e)).on(he+e._eventNS,M(e._dragenter,e)).on(pe+e._eventNS,M(e._dragover,e)).on("drop"+e._eventNS,M(e._drop,e)),a.attr(R,O),e.enabled(t.enabled)):g("shieldMaskedTextBox: Invalid mask",n):g("shieldMaskedTextBox: Underlying element is not INPUT",n)},_getMask:function(){for(var e,t=this.options.mask,n="",i=0;i<t.length;i++)e=t.charAt(i),n+=this._isCultureSpecific(e)?this._getCultureSpecific(e):e;return n},_isCultureSpecific:function(e){return-1!==V(e,this.options.cultureSpecific)},_getCultureSpecific:function(e){var t=l.getCurrencyInfo();return"$"==e?t.symbol:t[e]},_skipSymbol:function(e){var t=this.options.separators;return-1!==V(e,t)||this._isCultureSpecific(e)},_insertAt:function(e,t,n){return e.substr(0,n)+t+e.substr(n)},_removeAt:function(e,t){return e.substr(0,t)+e.substr(t+1)},_caret:function(e,t){var n,i=v(this.element);if(0!==i.length&&!i.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,i.each(function(){i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((n=i.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(i[0].setSelectionRange?(e=i[0].selectionStart,t=i[0].selectionEnd):N.selection&&N.selection.createRange&&(n=N.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},_caretTo:function(e){var t=v(this.element);t.prop("selectionStart")!==p?(t.prop("selectionStart",e),t.prop("selectionEnd",e)):N.selection&&(t.focus(),(t=N.selection.createRange()).moveStart("character",-this.value().length),t.moveEnd("character",-this.value().length),t.moveStart("character",e),t.select())},_isValid:function(e,t){var n=this._getMask(),i=this.options.rules;return!(t>=n.length)&&(t=n.charAt(t),u(i[t])&&i[t].call(this,e))},_removeRegion:function(e){var t,n,i=this,a=i.options,l=i._getMask(),s=i._value(),o=i._caret(),r=a.promptChar,u=o.begin;if(u==o.end)e?(t=l.charAt(--u),i._skipSymbol(t)||(0<=u?(s=i._removeAt(s,u),s=i._insertAt(s,r,u),i._value(s)):u=0)):u<s.length&&(t=l.charAt(u),i._skipSymbol(t)?u++:(s=i._shiftLeft(s,u),i._value(s)));else{for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._removeAt(s,n),s=i._insertAt(s,r,n));for(;i._skipSymbol(l.charAt(u));)++u;for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._shiftLeft(s,u));i._value(s)}i._caretTo(u)},_shiftLeft:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t;u<e.length-1;){for(a=u+1;l._skipSymbol(o.charAt(a));)a++;if(a>e.length-1)break;n=e.charAt(a),e=l._removeAt(e,u),i=l._isValid(n,u),e=l._insertAt(e,i?n:r,u),u=a}return e=l._removeAt(e,u),e=l._insertAt(e,r,u)},_shiftRightKey:function(e,t){var n,i,a,l=this,s=l.options,o=l._getMask(),r=e.charAt(t),u=s.promptChar;if(r!=u&&t<e.length-1){for(var c=t+1,d=e.charAt(c);d!=u&&c<=e.length;)d=e.charAt(++c);if(d==u)for(var h=c;t<h;){if(!l._skipSymbol(o.charAt(h))){for(n=e.charAt(i=h-1);l._skipSymbol(o.charAt(i));)n=e.charAt(--i);e=l._removeAt(e,h),a=l._isValid(n,h),e=l._insertAt(e,a?n:u,h)}h--}}return e},_shiftRightPaste:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t,c=e.charAt(u);u<e.length-1;){for(i=u+1;l._skipSymbol(o.charAt(i));)i++;if(i>e.length-1)break;n=e.charAt(i),e=l._removeAt(e,i),a=l._isValid(c,i),e=l._insertAt(e,a?c:r,i),c=n,u=i}return e},_commit:function(e){for(var t=this,n=t._getMask(),i=t._caret(),a=i.begin;t._skipSymbol(n.charAt(a));)++a;if(t._isValid(e,a)){for(i.end>i.begin&&t._removeRegion(!1),i=t._value(),i=t._shiftRightKey(i,a),i=t._removeAt(i,a),i=t._insertAt(i,e,a),t._value(i),a++;t._skipSymbol(n.charAt(a));)a++;t._caretTo(a)}},_verifyValue:function(e){var t=this._getMask();if(e.length!=t.length)return!1;for(var n=0;n<t.length;n++)if(this._skipSymbol(t.charAt(n))){if(t.charAt(n)!==e.charAt(n))return!1}else if(!this._isValid(e.charAt(n),n))return!1;return!0},_verifyMask:function(){for(var e,t=this._getMask(),n=this.options.rules,i=0;i<t.length;i++)if(!this._skipSymbol(t.charAt(i))&&(e=t.charAt(i),!u(n[e])))return!1;return!0},_applyMask:function(){for(var e=this.options,t=this._getMask(),n=e.promptChar,i="",a=0;a<t.length;a++)i+=this._skipSymbol(t.charAt(a))?t.charAt(a):n;this._value(i)},_isEmptyMask:function(){for(var e=this._value(),t=this.options,n=this._getMask(),i=t.promptChar,a=0;a<n.length;a++)if(!this._skipSymbol(n.charAt(a))&&e.charAt(a)!==i)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(e){var t;v(this.element).addClass("sui-input-focus"),(t=this._value())&&""!==t||this._applyMask(),this.trigger(ve)},_blur:function(e){this._clearMaskOnBlur(),this.trigger(me)},_preventDrag:function(e){if(e.type==de||e.type==he||e.type==pe||"drop"==e.type){var t=e.originalEvent.dataTransfer;return e.type==de?t.effectAllowed="none":t.dropEffect="none",e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),!1}},_triggerChange:function(e){var t=this;e!==t._value()&&t.trigger(_e,{value:t._value(),old:e}).isDefaultPrevented()&&t._value(t.oldValue),clearInterval(t.changeInterval),t.changeInterval=p},_dragstart:function(e){return this._preventDrag(e)},_dragenter:function(e){return this._preventDrag(e)},_dragover:function(e){return this._preventDrag(e)},_drop:function(e){return this._preventDrag(e)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled,a=t._value();switch(i||e.preventDefault(),n){case r.BACK:case r.DEL:t._removeRegion(n==r.BACK),t.changeInterval===p&&(t.changeInterval=setInterval(M(t._triggerChange,t,a),20)),e.preventDefault();break;default:if(e.ctrlKey)switch(n){case 118:case 86:case 122:case 90:case 121:case 89:118==n||86==n?t._paste(e):122!=n&&90!=n||(t._undo(),t.changeInterval===p&&(t.changeInterval=setInterval(M(t._triggerChange,t,a),20))),e.preventDefault()}}},_keypress:function(e){var t,n=this,i=e.keyCode,a=e.which,l=(n._enabled,n._value());if(!e.ctrlKey){switch(i){case r.HOME:case r.END:case r.LEFT:case r.RIGHT:case r.TAB:if(!A.ie)return;break;default:t=String.fromCharCode(a),n._commit(t)}e.preventDefault(),n.changeInterval===p&&l!=n._value()&&(n.changeInterval=setInterval(M(n._triggerChange,n,l),20))}},_cut:function(e){var t=this,n=t._caret();t.cutInterval===p&&(t.cutInterval=setInterval(M(t._aftercut,t,n),20))},_aftercut:function(e){for(var t=this,n=t._getMask(),i=t.value(),a=i,l=t.options.promptChar,s=e.begin,o=s;o<e.end;o++)i=t._insertAt(i,t._skipSymbol(n.charAt(o))?n.charAt(o):l,o);for(t._value(i),t._caretTo(s);t._skipSymbol(n.charAt(s));)++s;for(var r=s;r<e.end;r++)t._skipSymbol(n.charAt(r))||(i=t._shiftLeft(i,s));t._value(i),t._caretTo(s),clearInterval(t.cutInterval),t.cutInterval=p,t._triggerChange(a)},_paste:function(e){var t,n,i,a,l=this,s=l._getMask(),o=l._value(),r=o,u=l._caret(),c=u.begin,d=l.options.promptChar,h=e.originalEvent||e;if(c!=o.length)if(h.clipboardData?t=h.clipboardData.getData("text/plain"):m.clipboardData&&(t=m.clipboardData.getData("Text")),null!=t){if(c==u.end){for(;l._skipSymbol(s.charAt(c));)c++;for(a=t.length-1;0<=a;a--)o=l._shiftRightPaste(o,c),o=l._removeAt(o,c),n=l._isValid(t.charAt(a),c),o=l._insertAt(o,n?t.charAt(a):d,c);c+=t.length}else{for(i=c;i<u.end;i++)l._skipSymbol(s.charAt(i))||(o=l._removeAt(o,i),o=l._insertAt(o,d,i));for(a=0;a<t.length;a++){for(;l._skipSymbol(s.charAt(c));)c++;o=l._removeAt(o,c),n=l._isValid(t.charAt(a),c),o=l._insertAt(o,n?t.charAt(a):d,c),c++}}l._value(o),l._caretTo(c),e.preventDefault(),l.changeInterval===p&&(l.changeInterval=setInterval(M(l._triggerChange,l,r),20))}else e.preventDefault();else e.preventDefault()},_undo:function(){this._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(0<arguments.length){var e=[].slice.call(arguments);if(!this._verifyValue(e[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-input-disabled"):e.attr(te,te).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(this._eventNS).removeClass("sui-input"+(e?" "+e:"")),b.fn.destroy.call(this)}})).defaults=Be,l.ui.plugin("MaskedTextBox",e),Be={editable:!0,enabled:!0,open:!1,cls:p,dataSource:p,autoComplete:{enabled:!1,delay:200,minLength:0,filter:p},valueTemplate:p,textTemplate:p,inputTemplate:p,selected:p,value:p,width:p,height:p,dropDownWidth:p,dropDownHeight:200,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(n=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n,i,a,l=this,s=l.options,o=s.editable,r=s.dieOnError,u=s.dataSource,c=s.autoComplete,d=s.selected,h=s.value,p=s.appendListBoxTo,_=s.tooltip||v(l.element).attr(ee)||"";if(l._original=e=v(l.element),l._utype=f(e),!u&&l._utype!=Te)return l.destroy(),void g((o?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",r);l._eventNS=".shieldComboBox"+l.getInstanceId(),l.pending=0,l.element=n=e.wrap("<span/>").parent(),e.hide(),l._onDDHandler=M(l._onDD,l),o?(i=v('<input type="text" class="sui-input"/>').focus(function(){v(this).parent().addClass("sui-combobox-focus")}).blur(function(){v(this).parent().removeClass("sui-combobox-focus"),l._blur()}).attr(R,O).attr(z,W),t=e.attr(xe),k(t)&&i.attr(xe,t)):i=v('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(Se,"on").on(ue+l._eventNS,l._onDDHandler).on(ke+l._eventNS,function(){return!1}),(l.textElement=i).appendTo(n),l.ddElement=r=v('<span class="sui-caret-container sui-unselectable"/>').html('<span class="sui-caret sui-unselectable" unselectable="on"/>').attr(Se,"on").on(ue+l._eventNS,l._onDDHandler).appendTo(n),n.addClass(o?"sui-combobox":"sui-dropdown"),s.cls&&n.addClass(s.cls),t=e.attr(le),(o?i:n).attr(le,k(t)?t:"0"),k(s.width)&&n.css("width",s.width),k(s.height)&&(n.css(ye,s.height),i.css(ye,s.height),r.css(ye,s.height)),n.on(ce+l._eventNS,M(l._keydown,l)).on("keyup"+l._eventNS,M(l._keyup,l)),l._focusHandler=M(l._focus,l),(o?i:n).on(ve+l._eventNS,l._focusHandler),n.on(me+l._eventNS,M(l._blur,l)),l.listElement=v("<span/>").appendTo(v(p)),c&&(a=k(c.filter)?c.filter:u&&u.filter?u.filter:l._utype==Te?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),l.listBox=new Ie(e,{cls:"sui-autocomplete",dataSource:u,readDataSource:!1,valueTemplate:s.valueTemplate,textTemplate:s.textTemplate,multiple:!1,selected:k(d)&&x(d)?d[0]:d,values:h,width:s.dropDownWidth||n.innerWidth(),maxHeight:s.dropDownHeight,renderToINTERNAL:l.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:A.ie&&A.version<=8?0:-1,filterINTERNAL:a,events:{select:function(e){l._onLBSelChanged(),l.trigger(be,{index:e.index,item:e.item,text:e.text,value:e.value})},itemclick:function(e){(o?i:n).focus(),l._hideDD(),l.trigger(ae,{index:e.index,item:e.item,text:e.text,value:e.value})},blur:function(e){setTimeout(M(l._blur,l),20)}}}),l.listBox.element.hide(),l.dataSource=l.listBox.dataSource,l.listBox.dataSource.on(_e+l._eventNS,M(l._dsChange,l)),s.textTemplate=l.listBox.options.textTemplate,s.valueTemplate=l.listBox.options.valueTemplate,n.attr(R,"combobox"),o&&(i.attr(K,"list"),i.attr(J,l.listBox.element.attr(U)),i.attr(j,l.listBox.element.attr(R))),l.listBox.dataSource.read(),v(m).on(fe+l._eventNS,M(l._position,l)),_&&S(_)&&n.attr(ee,_),l.enabled(s.enabled),l._open=!1,s.enabled&&s.open&&l._showDD(!0),l._destroyed=!1},refresh:function(e){this.refreshWithElement(this._original,e)},focus:function(){this.options.editable?(v(this.textElement).focus(),d(v(this.textElement))):v(this.element).focus()},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,t._oldValue=t.value(),t.trigger(ve))},_blur:function(e){var t=this;setTimeout(function(){t._destroyed||null==t.listBox||v(t.listBox.element).is(":focus")||v(t.element).is(":focus")||v(t.textElement).is(":focus")||(t._hideDD(),t._oldValue!==t.value()&&t.trigger(_e),t.trigger(me),t._hasFocus=!1)},100)},_keydown:function(e){switch(e.keyCode){case r.TAB:break;case r.UP:case r.DOWN:this._keydownUpDown(e),e.preventDefault();break;case r.ESC:case r.ENTER:e.preventDefault(),this.cancelSearch=!0,this._hideDD();break;default:this._keydownDefault(e)}},_keyup:function(e){e=e.keyCode;this.options.editable&&this._utype==Ne&&e!=r.UP&&e!=r.DOWN&&e!=r.ENTER&&e!=r.TAB&&v(this._original).attr(ge,v(this.textElement).val())},_keydownUpDown:function(e){this._enabled&&v(this.listBox.element).trigger(e)},_keydownDefault:function(e){this.listBox.clearSelection(),this._searchTimeout(e)},_searchTimeout:function(e){var t=this,n=t.options.autoComplete;n&&n.enabled&&(clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==v(t.textElement).val()&&t._search()},n.delay))},_search:function(){var e=this;e.listBox.dataSource;e.term=v(e.textElement).val(),e.term.length<e.options.autoComplete.minLength?e._hideDD():(e.cancelSearch=!1,e.pending++,v(e.textElement).addClass("sui-autocomplete-loading"),a(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this,t=e._original,n=e._utype,i=e.textElement.val();if(!e._dsLoaded)return e._dsLoaded=!0,!e.options.editable&&e.listBox.selected().length<=0&&e.listBox.selected(0),void e._onLBSelChanged();e.pending--,e.pending||v(e.textElement).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showDD(!0):e._hideDD(),n==Te?t.val(i):n==Ne&&t.attr(ge,i),e.trigger(be,{index:-1,item:i})},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_onLBSelChanged:function(){var e,t=this,n=t.options,i=n.editable,a=t.listBox,l=a.selectedItems();l&&0<l.length?(D.call(t,n.valueTemplate,l[0]),e=D.call(t,n.textTemplate,l[0]),e=k(n.inputTemplate)?D.call(t,n.inputTemplate,l[0]):e,i?(t.textElement.val(e),t.textElement.attr($,a.element.attr($))):t.textElement.html(e)):i?(t.textElement.val(""),t.textElement.removeAttr($)):t.textElement.html("&nbsp;")},_onDD:function(e){var t=this,n=t.textElement;t.options.editable?(n.focus(),d(n)):t.element.focus(),t._open?t._hideDD():t._hasData()&&t._showDD(!1)},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showDD:function(e){var t=this,n=t.listBox,i=v(n.element),a=t.options.animation;t._enabled&&(i.css({top:0,left:0}),i.show(),t._position(),!e&&a&&a.enabled?i.hide().slideDown(a.openDelay,M(n.ensureActiveViewableINTERNAL,n)):n.ensureActiveViewableINTERNAL(),t._open=!0,v(t.element).attr(Y,P))},_hideDD:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1,v(this.element).attr(Y,W)},enabled:function(){var e=this,t=e.options.editable,n=v(e.element),i=e.textElement,a=e.ddElement,l=e._original,s=[].slice.call(arguments);if(!(0<s.length))return e._enabled;(s=!!s[0])?(n.removeAttr(te).removeClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.removeAttr(te),a.removeAttr(te),l.removeAttr(te)):(e._open&&e._hideDD(),n.attr(te,te).addClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.attr(te,te),a.attr(te,te),l.attr(te,te)),e._enabled=s},selected:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.selected())&&0<e.length?e[0]:-1;e=n[0],t.clearSelection(),k(e)&&(-1<(e=C(e))?t.selected(e):this.options.editable||t.selected(0)),this._onLBSelChanged()},selectedItem:function(){var e=this.listBox.selectedItems();return e&&0<e.length?e[0]:null},value:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.values())&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null;t.clearSelection(),t.values(n[0]),this._onLBSelChanged()},text:function(){var e=this.listBox.texts();return e&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null},destroy:function(){var e=this,t=v(e.element),n=v(e.textElement),i=v(e.ddElement);e._destroyed||(e._destroyed=!0,e._dsLoaded=!1,n.off(e._eventNS),i.off(e._eventNS),e._onDDHandler=null,v(m).off(fe+e._eventNS),t.off(e._eventNS),e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(_e+e._eventNS),e.listBox.destroy(),e.listBox=null),v(e.listElement).remove(),n.remove(),i.remove(),e._original.unwrap().show(),e._original=null,b.fn.destroy.call(e))}})).defaults=Be,l.ui.plugin("ComboBox",n),e=L({},Be,{editable:!1,autoComplete:p}),(Be=n.extend({init:function(e,t){t&&(t.editable=!1,t.autoComplete=p),n.prototype.init.call(this,e,t)}})).defaults=e,l.ui.plugin("DropDown",Be),e={enabled:!0,cls:p,toggle:!1,checked:!1,events:{}},(o=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=v(e.element),n=e.options,i=n.cls;e._eventNS=".shieldButton"+e.getInstanceId(),t.addClass("sui-button"),i&&t.addClass(i),t.on(ue+e._eventNS,M(e._click,e)),t.attr(R,"button"),e.enabled(n.enabled),n.toggle&&(e._checked=!!n.checked,e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(H+"-pressed",e._checked?P:W))},_click:function(e){var t=this,n=v(t.element);t._enabled&&(t.options.toggle&&(t._checked=!t._checked,t._checked?n.addClass("sui-button-checked"):n.removeClass("sui-button-checked"),n.attr(H+"-pressed",t._checked?P:W)),t.trigger(ue,e))},checked:function(){var e=this,t=v(e.element),n=[].slice.call(arguments);if(!(0<n.length))return e._checked;e.options.toggle&&(e._checked=!!n[0],e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(H+"-pressed",e._checked?P:W))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-button-disabled").removeAttr(Z):e.attr(te,te).addClass("sui-button-disabled").attr(Z,P),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(ue+this._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled"+(e?" "+e:"")),b.fn.destroy.call(this)}})).defaults=e,l.ui.plugin("Button",o),Be=L({},e,{menu:p,dataSource:p,events:{}}),(e=o.extend({init:function(){var n,i,e,t,a;o.fn.init.apply(this,arguments),l.ui.ContextMenu&&(i=v((n=this).element),t=(e=n.options).menu,a=e.cls,n._handle=v('<button type="button"><span class="sui-caret-down"/></button>'),i.after(n._handle),n._handleButton=new o(n._handle,{cls:"sui-button-split-handle"+(a?" "+a:""),events:{click:function(e){var t;n.menu.visible()?n.menu.visible(!1):(t=v(i).offset(),n.menu.visible(!0,{x:t.left,y:t.top+v(i).outerHeight()}))}}}),k(t)?n._menuElement=v(t):(n._menuElement=v("<ul/>"),n._customMenuElement=!0,n._handle.after(n._menuElement)),n._menuElement.attr(U)||n._menuElement.attr(U,T()),n.menu=new l.ui.ContextMenu(n._menuElement,{cls:"sui-button-split-menu",dataSource:e.dataSource,minWidth:i.outerWidth()+n._handle.outerWidth()-2,events:{click:M(n.trigger,n,"menuClick")}}),v(n._handle).attr(j,P).attr(J,n._menuElement.attr(U)))},enabled:function(){var e=this;if(!(arguments&&0<arguments.length))return o.fn.enabled.apply(e,arguments);o.fn.enabled.apply(e,arguments),e._handleButton&&e._handleButton.enabled.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},visible:function(){var e=this;if(!(arguments&&0<arguments.length))return o.fn.visible.apply(e,arguments);o.fn.visible.apply(e,arguments),e._handleButton&&e._handleButton.visible.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},destroy:function(){var e=this;e.menu&&(e.menu.destroy(),e.menu=p),e._menuElement&&(e._customMenuElement&&(v(e._menuElement).remove(),e._customMenuElement=p),e._menuElement=p),e._handleButton&&(e._handleButton.destroy(),e._handleButton=p),e._handle&&(v(e._handle).remove(),e._handle=p),o.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("SplitButton",e),Be={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},(e=b.extend({init:function(){var e,t=this;b.fn.init.apply(this,arguments),t._eventNS=".shieldCheckBox"+t.getInstanceId();var n=t.options,i=v(t.element).addClass("sui-checkbox-input");(a=i.attr(U))||i.attr(U,a=T());var a,l=i.attr(le),s=t.wrapper=i.wrap('<span class="sui-checkbox"/>').parent().attr(le,k(l)?l:0),l=v('<span class="sui-checkbox-element sui-checkbox-unchecked"/>');l.appendTo(s),t.checkBoxElement=l,v('<span class="sui-checkmark"/>').appendTo(l),n.label?((e=v('<label class="sui-checkbox-label"/>')).appendTo(s),e.attr("for",a),e.get(0).innerHTML=n.label,n.enableLabelClick&&e.addClass("sui-checkbox-label-hover")):(e=(e=i.parent().parent())&&!e.is("label")?v('label[for="'+a+'"]'):e)&&n.enableLabelClick&&e.addClass("sui-checkbox-label-hover"),s.attr(R,"checkbox"),e&&((a=e.attr(U))||e.attr(U,a=T()),s.attr(X,a)),i.attr(ne)&&(n.checked=!0),t.enabled(n.enabled),t.checked(n.checked),s.on(ue+t._eventNS,M(t._click,t)).on(ce+t._eventNS,M(t._keydown,t)),e&&n.enableLabelClick&&e.on(ue+t._eventNS,M(t._click,t)).on(ce+t._eventNS,M(t._keydown,t)),s.onselectstart=function(){return!1},s.onmousedown=function(){return!1}},_click:function(e){var t=this;v(t.element);t._enabled&&(t._checked?t.options.enableThreeStates?t._checked=null:t._checked=!1:!1===t._checked?t._checked=!0:null===t._checked&&(t._checked=!1),t.checked(t._checked),t.trigger(ue,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==r.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=this,t=[].slice.call(arguments),n=v(e.element),i=e.wrapper,a=i.find(".sui-checkmark");if(!(0<t.length))return e._checked;e._checked=t=t[0],t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),i.attr(q,P),n.attr(ne,ne),n.data("1"),A.ie&&A.version<=8&&a.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):!1===t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),i.attr(q,W),n.removeAttr(ne),n.data("0"),a.css("filter","")):null===t&&e.options.enableThreeStates&&(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),i.attr(q,"mixed"),n.removeAttr(ne),n.data("2"),a.css("filter",""))},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(te).removeClass("sui-checkbox-disabled"),n.removeAttr(te)):(e.wrapper.attr(te,te).addClass("sui-checkbox-disabled"),n.attr(te,te)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-checkbox-input").removeAttr(le),e.checkBoxElement&&e.checkBoxElement.off(e._eventNS),e.wrapper&&(e.wrapper.find(".sui-checkbox-label").off(e._eventNS).end().removeAttr(te).removeClass("sui-checkbox-disabled").replaceWith(e.element),e.wrapper=null),b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("CheckBox",e),Be={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=v(n.element),a=n.options;n._eventNS=".shieldRadioButton"+n.getInstanceId(),i.addClass("sui-radiobutton-input"),(l=i.attr(U))||i.attr(U,l=T()),s=i.attr(le),(t=n.wrapper=i.wrap('<span class="sui-radiobutton"/>').parent()).attr(le,k(s)?s:0);var l,s=v('<span class="sui-radiobutton-element"/>');s.appendTo(t),n.radioButtonElement=s,v('<span class="sui-checkmark"/>').appendTo(s),a.label?((e=v('<label class="sui-radiobutton-label"/>')).appendTo(t),e.attr("for",l),e.get(0).innerHTML=a.label,a.enableLabelClick&&e.addClass("sui-radiobutton-label-hover")):(e=(e=i.parent().parent())&&!e.is("label")?v('label[for="'+l+'"]'):e)&&a.enableLabelClick&&e.addClass("sui-radiobutton-label-hover"),t.attr(R,"radio"),e&&((l=e.attr(U))||e.attr(U,l=T()),t.attr(X,l)),i.attr(ne)&&(a.checked=!0),n.enabled(a.enabled),a.checked?n.checked(a.checked):n._checked=!1,t.on(ue+n._eventNS,M(n._click,n)).on(ce+n._eventNS,M(n._keydown,n)),e&&a.enableLabelClick&&e.on(ue+n._eventNS,M(n._click,n)).on(ce+n._eventNS,M(n._keydown,n)),t.onselectstart=function(){return!1},t.onmousedown=function(){return!1}},_click:function(e){this._enabled&&(this.checked(!0),this.trigger(ue,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==r.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._checked;this._uncheckAllFromSameGroup(),this._checkInternal(e[0])},_checkInternal:function(e){var t=v(this.element),n=this.wrapper;(this._checked=e)?(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),n.attr(q,P),t.attr(ne,ne)):(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),n.attr(q,W),t.removeAttr(ne))},_uncheckAllFromSameGroup:function(){var e=v(this.element);v('input[type="radio"][name="'+e.attr("name")+'"]').not(e).each(function(){var e=v(this).swidget();e&&(e._checkInternal(!1),e.trigger(_e))})},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(te).removeClass("sui-radiobutton-disabled"),n.removeAttr(te)):(e.wrapper.attr(te,te).addClass("sui-radiobutton-disabled"),n.attr(te,te)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-radiobutton-input").removeAttr(le),e.radioButtonElement&&(e.radioButtonElement.off(e._eventNS),e.radioButtonElement=null),e.wrapper&&(e.label&&(e.label.off(e._eventNS),e.label=null),e.wrapper.removeAttr(te).removeClass("sui-radiobutton-disabled"),e.wrapper.replaceWith(e.element),e.wrapper=null),b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("RadioButton",e),Be={cls:p,enabled:!0,checked:p,onText:p,offText:p,events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.dieOnError,l=i.cls,s=i.checked;n._original=e=v(n.element),f(e)===Ne&&"checkbox"===e.attr("type")?(n._eventNS=".shieldSwitch"+n.getInstanceId(),n.element=t=e.wrap('<div class="sui-switch sui-unselectable'+(l?" "+l:"")+'" />').parent(),l=v('<div class="sui-switch-inner sui-unselectable" />').appendTo(t),n._text=v('<span class="sui-switch-text sui-unselectable" />').appendTo(l),n._handle=l=v('<div class="sui-switch-handle sui-unselectable" />').appendTo(t),l.height(t.height()),e.hide(),l=e.attr(le),t.attr(le,k(l)?l:"0"),t.on(ue+n._eventNS,M(n._click,n)).on(ce+n._eventNS,M(n._keydown,n)),s=k(s)?!!s:!!e.attr(ne),t.attr(R,"switch"),n.checked(s,!1),n.enabled(i.enabled)):g("shieldSwitch: Underlying element must ne an input of type checkbox.",a)},refresh:function(e){this.refreshWithElement(this._original,e)},_keydown:function(e){e.keyCode===r.SPACE&&(this._click(e),e.preventDefault())},_click:function(e){this._enabled&&(this.checked(!this._checked),this.trigger(ue,e),e.preventDefault(),e.stopPropagation())},checked:function(){var e=this,t=e.options,n=t.onText,i=t.offText,a=v(e.element),l=v(e._handle),s=v(e._text),o=e._original,r=[].slice.call(arguments),u=100;if(!(0<r.length))return e._checked;t=!!r[0],k(r[1])&&!r[1]&&(u=0),t?(o.attr(ne,ne),l.animate({left:a.width()-l.width()-2},u,function(){a.addClass("sui-switch-checked").attr(q,P),k(n)&&(s.html(n),a.attr(Q,c(n)))})):(o.removeAttr(ne),l.animate({left:-2},u,function(){a.removeClass("sui-switch-checked").attr(q,W),k(i)&&(s.html(i),a.attr(Q,c(i)))})),e._checked=t},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(te).removeClass("sui-switch-disabled"),t.removeAttr(te)):(e.attr(te,te).addClass("sui-switch-disabled"),t.attr(te,te)),this._enabled=n},destroy:function(){var e=this;v(e.element).off(e._eventNS),v(e._inner).remove(),v(e._handle).remove(),e._original.unwrap().show(),e._original=e._inner=e._handle=null,b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("Switch",e)}(jQuery,shield,this);