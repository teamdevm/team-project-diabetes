/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(n,e,a){var s=e.ui.Widget,l=(n.extend,e.is[void 0]),r={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},i=s.extend({init:function(e,i){var t=this;s.fn.init.apply(t,arguments),t._enabled=t.options.enabled,t._renderRating(e,i,!1)},_setSelection:function(e){var i=this;if(i._enabled)return i._value=e,i._markPreset&&(i._markPreset=!1),i._range.find(".sui-rating-hover").hide(),i._range.find(".sui-rating-selected").width(e*i._symbolWidth-i._min*i._symbolWidth).show(),i.trigger("change"),!0},_calcRawScore:function(e,i){var t=this,e=(i.changedTouches?i.changedTouches[0]:i).pageX-n(e).offset().left;return(e=(e=!t._ltr?t._range.width()-e:e)>t._range.width()?t._range.width():e)<0&&(e=0),Math.ceil(e/t._symbolWidth*(1/t._step))},_setHover:function(e){var i,t=this;t._enabled&&(i=e*t._symbolWidth*t._step,(e=t._range.find(".sui-rating-hover")).width()!=i&&(t._range.find(".sui-rating-selected").hide(),e.width(i).show()))},_touchHandler:function(e){var i=e.originalEvent.changedTouches[0],t="";switch(e.type){case"touchmove":t="mousemove";break;case"touchend":t="mouseup";break;default:return}var n=document.createEvent("MouseEvent");n.initMouseEvent(t,!0,!0,a,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n),e.preventDefault()},_renderRating:function(e,i,t){var n,a=this;a._item=a.element,a._item.hasClass("sui-rating")||a._item.addClass("sui-rating"),a._ltr=!a.element.parent().hasClass("sui-rtl"),t&&(n=null,l(a._value)?(n=(isNaN(i.value)?r:i).value,a._value=n):n=a._value,a._enabled&&(a._wired=!1)),a._initialized||(a._min=(isNaN(i.min)?r:i).min,a._max=(isNaN(i.max)?r:i).max,a._step=(isNaN(i.step)?r:i).step,a._symbolWidth=(isNaN(i.symbolWidth)?r:i).symbolWidth,a._symbolHeight=(isNaN(i.symbolHeight)?r:i).symbolHeight,a._value=(isNaN(i.value)?r:i).value,a._markPreset=(isNaN(i.markPreset)?r:i).markPreset,e="DIV"==a._item[0].nodeName?"div":"span",s=('<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+a._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+a._symbolHeight+'px"></{{element}}></{{element}}>').replace(/{{index}}/gi,2).replace(/{{element}}/gi,e),this.element.append(s),a._initialized=!0),a._item.find(".sui-rating-selected, .sui-rating-hover").height(a._symbolHeight),a._range=a._item.find(".sui-rating-range"),a._range.width(a._symbolWidth*(a._max-a._min)).height(a._symbolHeight);var s="sui-rating-preset"+(a._ltr?"":"-rtl");a._markPreset?a._item.find(".sui-rating-selected").addClass(s):a._item.find(".sui-rating-selected").removeClass(s),null!=a._value&&(s=(a._value-a._min)*a._symbolWidth,a._item.find(".sui-rating-selected").width(s)),a._wired||(a._enabled&&(t||(a._range.on("touchmove touchend",a._touchHandler),a._range.mousemove(function(e){e=a._calcRawScore(this,e);a._setHover(e)}),a._range.mouseleave(function(e){a._range.find(".sui-rating-hover").hide().width(0),a._item.trigger("hover",[null]).trigger("over",[null]),a._range.find(".sui-rating-selected").show()}),a._range.mouseup(function(e){e=a._calcRawScore(this,e)*a._step+a._min;a._setSelection(e),a._range.blur()}),a._range.keyup(function(e){38!=e.which&&e.which!=(a._ltr?39:37)||a._setSelection(Math.min(a._value+a._step,a._max)),40!=e.which&&e.which!=(a._ltr?37:39)||a._setSelection(Math.max(a._value-a._step,a._min))}))),a._wired=!0)},value:function(){var e=this,i=e.options,t=[].slice.call(arguments);if(!(0<t.length))return!l(e._value)||l(i.value)?e._value:i.value;t=t[0];t<e._min||t>e._max||(e.options.value=t,e._value=t,e._renderRating(e,i,!0))},enabled:function(){var e=this,i=e.options,t=e.element,n=[].slice.call(arguments);if(!(0<n.length))return e._enabled;e._enabled=n[0],e._renderRating(e,i,!0),e._enabled?t.removeClass("sui-rating-disabled"):t.addClass("sui-rating-disabled")},destroy:function(){var e=this;n(e.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),e._range.off("touchmove touchend",e._touchHandler),e._markPreset=e._enabled=e._min=e._max=e._value=e._ltr=e._item=e._symbolWidth=e._symbolHeight=e._step=e._wired=e._initialized=e._range=null,s.fn.destroy.call(e)}});i.defaults=r,e.ui.plugin("Rating",i)}(jQuery,shield,this);