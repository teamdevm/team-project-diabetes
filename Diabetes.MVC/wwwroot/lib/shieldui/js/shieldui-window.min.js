/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(c,m,l,i){var h=m.ui.Widget,p=(m.Class,m.Constants,m.format),f=document,b=(c.extend,c.map,c.each,c.proxy),w=m.error,_=m.is.boolean,g=m.is.object,z=m.is.defined,r=(m.is.integer,m.to.int,m.to.number,m.support,"resize"),a="scroll",e="overflow",t="center",n={title:"",titleBarButtons:["pin","minimize","maximize","close"],content:i,cls:i,visible:!0,pinned:!1,modal:!1,width:400,height:300,resizable:{maxWidth:i,maxHeight:i,minWidth:200,minHeight:150},draggable:!0,position:i,appendToBody:!1,events:{}},i=h.extend({init:function(){h.fn.init.apply(this,arguments),z(this.initialOptions.titleBarButtons)&&(this.options.titleBarButtons=this.initialOptions.titleBarButtons);var n=this,i=n.options,t=i.cls,e=i.dieOnError,o=i.titleBarButtons,s=i.resizable,l=i.draggable,r=i.content,a=i.position,d=c(n.element),u=!1;"div"===c(d).prop("tagName").toLowerCase()?o&&0<o.length&&!m.ui.Button?w("shieldWindow: The titleBarButtons setting requires ShieldUI Button to be loaded",e):(n._eventNS="shieldWindow"+n.getInstanceId(),i.appendToBody?(d.appendTo(f.body),n._parentIsBody=!0):n._parentIsBody="body"==d.parent().prop("tagName").toLowerCase(),n._origHtml=d.html(),d.empty(),d.addClass("sui-window"+(t?" "+t:"")),d.css({width:i.width,height:i.height,position:"absolute"}),n.titleBarEl=c('<div class="sui-window-titlebar"><div class="sui-window-title">'+i.title+'</div><div class="sui-window-icons"></div></div>').appendTo(d),n._initTitleBarButtons(),n.contentEl=c('<div class="sui-window-content"></div>').appendTo(d),n._fixContent(),g(a)?d.css(a):u=!0,s&&(_(s)&&(s={}),n.resizable=new m.ui.Resizable(d,s),n.resizable.on("resized",b(n._fixContent,n))),l&&((l=_(l)?{}:l).handle=n.titleBarEl,n.draggable=new m.ui.Draggable(d,l)),n._hasIframe=!1,r?r.template?r.template.dataUrl?c.ajax({url:r.template.dataUrl,dataType:"json",success:function(i,t,e){n.content(p(r.template.body,i)),n._focusFirst()},error:function(i,t,e){n.content("Error occured while reading URL: "+t+" - "+e)}}):(n.content(p(r.template.body,r.template.data)),n._focusFirst()):r.remote?r.remote.iframe?(n._hasIframe=!0,n.content('<iframe class="sui-window-iframe" src="'+r.remote.url+'" style="border:none; border-width:0px; width:100%; height:100%;"></iframe>'),n._focusFirst()):n.contentEl.load(r.remote.url,function(){n._focusFirst()}):(n.content(n._origHtml),n._focusFirst()):(n.content(n._origHtml),n._focusFirst()),n._minimized=!1,n._maximized=!1,n._destroyed=!1,d.attr("role","dialog").attr("aria-labelledby",(d=i.title,c("<div/>").text(d).html())),n.pinned(!!i.pinned),n.visible(!!i.visible),u&&n.center()):w("shieldWindow: Underlying element is not DIV",e)},_focusFirst:function(){var i=c(this.contentEl).find(".sui-checkbox:not(.sui-checkbox-disabled), .sui-radiobutton:not(.sui-radiobutton-disabled), .sui-input:not(.sui-input-disabled), .sui-combobox:not(.sui-combobox-disabled), .sui-dropdown:not(.sui-dropdown-disabled), .sui-listbox:not(.sui-listbox-disabled), .sui-switch:not(.sui-switch-disabled), a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").first();0<c(i).length&&c(i).focus()},_initTitleBarButtons:function(){var i,t,e,n,o=this,s=o.options,l=s.titleBarButtons,r=s.modal;if(o.titleBarButtons={},l&&0<l.length){for(i=o.titleBarEl.find(".sui-window-icons"),n=0;n<l.length;n++)"pin"!==(e=l[n])&&"minimize"!==e&&"maximize"!==e&&"close"!==e||r&&"close"!==e||(t="pin"==e?"_onPin":"minimize"==e?"_onMinimize":"maximize"==e?"_onMaximize":e,o.titleBarButtons[e]=c('<button type="button"><div class="sui-sprite sui-window-button-icon sui-window-button-icon-'+e+'"></div></button>').appendTo(i).shieldButton({cls:"sui-window-button",events:{click:b(o[t],o,!0)}}).swidget());i.on("mousedown",function(i){return i.preventDefault(),i.stopPropagation(),!1})}},_destroyTitleBarButtons:function(){var i,t=this.titleBarButtons;for(i in t)t.hasOwnProperty(i)&&t[i].destroy();this.titleBarButtons={}},_createModal:function(){var i=this,t=c(i._parentIsBody?l:i.element.parent()),e=c(t).scrollTop(),t=c(t).scrollLeft();i._lockScroll(),i._modal=c('<div class="sui-window-modal"></div>').insertBefore(i.element).css({top:e,left:t})},_closeModal:function(){c(this._modal).remove(),this._unlockScroll()},_lockScroll:function(){var i=this,t=i._scrollParent=i.element.parent();i._scrollTop=c(t).scrollTop(),i._scrollLeft=c(t).scrollLeft(),i._parentOverflow=c(t).css(e),c(t).css(e,"hidden").scrollTop(i._scrollTop).scrollLeft(i._scrollLeft)},_unlockScroll:function(){c(this._scrollParent).css(e,this._parentOverflow).scrollTop(this._scrollTop).scrollLeft(this._scrollLeft)},_fixContent:function(){var i=this;c(i.contentEl).outerWidth(c(i.element).innerWidth()).innerHeight(c(i.element).innerHeight()-c(i.titleBarEl).outerHeight()),i._hasIframe&&c(i.contentEl).find(".sui-window-iframe").width(c(i.contentEl).width()).height(c(i.contentEl).height())},center:function(){var i=c(this.element);m.ui.Position.Set(i,this._parentIsBody?l:i.parent(),{source:t,target:t})},position:function(i){c(this.element).css(i)},getHeight:function(){c(this.element).css("height")},getWidth:function(){c(this.element).css("width")},getPosition:function(){var i=c(this.element);return{left:i.css("left"),top:i.css("top")}},content:function(){var i=c(this.contentEl),t=[].slice.call(arguments);if(!(0<t.length))return i.html();i.empty(),i.append(t[0])},resize:function(i){c(this.element).css(i),this._fixContent()},_scroll:function(i){var t=this,e=c(t.element),n=t._parentIsBody;t._pinned&&e.css({left:t.originalPosition.left+c(n?l:e.parent()).scrollLeft()+"px",top:t.originalPosition.top+c(n?l:e.parent()).scrollTop()+"px"})},_onPin:function(i){this.pinned(!this._pinned,i)},pinned:function(){var i=this,t=[].slice.call(arguments),e=c(i.element),n=i._parentIsBody,o=i.titleBarEl,s=0<o.find(".sui-window-button-icon-pin").length?o.find(".sui-window-button-icon-pin"):o.find(".sui-window-button-icon-unpin");if(t.length<=0)return i._pinned;o=!!t[0],i._pinned!=o&&(t[1]&&i.trigger("pin",{pinned:o}).isDefaultPrevented()||(i._pinned=o,s.removeClass("sui-window-button-icon-pin sui-window-button-icon-unpin"),s.addClass(i._pinned?"sui-window-button-icon-pin":"sui-window-button-icon-unpin"),i._pinned?(i.originalPosition=e.position(),c(n?l:e.parent()).on(a+"."+i._eventNS,b(i._scroll,i)),i.draggable&&i.draggable.enabled(!1)):(c(n?l:e.parent()).off(a+"."+i._eventNS),i.origininalPosition=null,i.draggable&&i.draggable.enabled(!0))))},_onMinimize:function(i){this.minimized(!0,i)},minimized:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=c(t.contentEl),s=t.titleBarEl,l=t.titleBarButtons.minimize;if(e.length<=0)return t._minimized;i=!!e[0],t._minimized!=i&&(e[1]&&t.trigger("minimize",{minimized:i}).isDefaultPrevented()||(t._minimized=i,(e=0<s.find(".sui-window-button-icon-minimize").length?s.find(".sui-window-button-icon-minimize"):s.find(".sui-window-button-icon-unminimize")).removeClass("sui-window-button-icon-minimize sui-window-button-icon-unminimize"),e.addClass(t._minimized?"sui-window-button-icon-unminimize":"sui-window-button-icon-minimize"),i?(t._onMinCurrHeight=n.height(),n.height(s.height()),o.hide(),t.resizable&&t.resizable.enabled(!1)):(n.height(t._onMinCurrHeight),o.show(),t.resizable&&t.resizable.enabled(!0)),l&&l.visible(!i)))},_onMaximize:function(i){this._minimized?this.minimized(!1,i):this.maximized(!this._maximized,i)},maximized:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=t._beforeMaximize,s=c(t.titleBarEl);if(!(0<e.length))return t._maximized;i=!!e[0],e=!!e[1],t._minimized&&t.minimized(!1,!1),t._maximized!=i&&(e&&t.trigger("maximize",{maximized:i}).isDefaultPrevented()||(t._maximized=!!i,(s=0<s.find(".sui-window-button-icon-maximize").length?s.find(".sui-window-button-icon-maximize"):s.find(".sui-window-button-icon-restore")).removeClass("sui-window-button-icon-maximize sui-window-button-icon-restore"),s.addClass(t._maximized?"sui-window-button-icon-restore":"sui-window-button-icon-maximize"),t._maximized?(t._beforeMaximize={top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()},t.resize({width:"100%",height:c(t._parentIsBody?l:n.parent()).height()}),t._lockScroll(),t.center(),t._parentIsBody&&c(l).on(r+"."+t._eventNS,b(t._onWinResizeMax,t))):(o&&(n.css({top:o.top,left:o.left}),t.resize({width:o.width,height:o.height})),t._unlockScroll(),t._parentIsBody&&(c(l).off(r+"."+t._eventNS),t._winResize=null))))},_onWinResizeMax:function(){c(this.element).height(c(l).height()),this._fixContent()},close:function(i){i&&this.trigger("close").isDefaultPrevented()||this.destroy()},visible:function(){var i=this,t=[].slice.call(arguments);if(!i._destroyed)return 0<t.length&&i.options.modal&&(t[0]?i._createModal():i._closeModal()),h.fn.visible.apply(i,arguments)},destroy:function(){var i=this,t=i.options.cls;i.visible(!1),i._destroyed=!0,i.resizable&&(i.resizable.destroy(),i.resizable=null),i.draggable&&(i.draggable.destroy(),i.draggable=null),i._destroyTitleBarButtons(),i.maximized(!1),i.pinned(!1),c(i.element).removeClass("sui-window"+(t?" "+t:"")),i._origHtml&&(c(i.element).html(i._origHtml),i._origHtml=null),h.fn.destroy.call(i)}});i.defaults=n,m.ui.plugin("Window",i)}(jQuery,shield,this);