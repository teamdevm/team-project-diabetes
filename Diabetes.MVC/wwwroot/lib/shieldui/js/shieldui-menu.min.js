/* Shield UI 1.7.44 Free for Non-Commercial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(_,v,o){var e,u,c,m=v.ui.Widget,f=(v.Class,v.DataSource),d=v.ui.Position,a=v.Constants.KeyCode,g=v.strid,b=document,x=_.proxy,l=_.each,C=_.grep,h=_.extend,p=v.error,I=v.format,E=v.is.defined,s=v.is.boolean,r=v.is.integer,S=v.is.func,y="role",T="true",w="false",N="aria-expanded",i="aria-activedescendant",k="horizontal",D="vertical",A="focus",F="blur",P="change",L="tabindex",R="disabled",W="sui-menu-item-level",M="sui-menu-item-expanded",O="sui-menu-item-disabled",H="sui-menu-item-selected",U="sui-menu-item-index",B="sui-menu-item-hover",z="sui-menu-item-data-item",G="sui-menu-item-parent",j="sui-menu-item-cc",t={cls:o,width:o,height:o,dataSource:o,readDataSource:!0,orientation:k,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},q=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,a,n=this,i=_(n.element),s=n.options,r=s.dieOnError,l=s.dataSource,o=s.cls,u=s.renderToINTERNAL,c=s.wrapOriginalINTERNAL,d=!E(c)||c;if(n._original=e=_(n.element),n._tagname=t=e.prop("tagName").toLowerCase(),n._isContext=s.isContextINTERNAL,c=n._eventNS=".shieldMenu"+n.getInstanceId(),d?(n.wrapper=e.wrap("<div/>").parent(),n._isWrapped=!0):n._isWrapped=!1,e.hide(),n.element=i=_('<ul class="sui-menu sui-menu-top sui-menu-'+s.orientation+(o?" "+o:"")+'"/>').on(A+c,x(n._focus,n)).on(F+c,x(n._blur,n)).on("keydown"+c,x(n._keydown,n)),0<_(u).length?_(u).append(i):e.after(i),E(s.width)&&i.css("width",s.width),E(s.minWidth)&&i.css("minWidth",s.minWidth),E(s.height)&&i.css("height",s.height),u=e.attr(L),i.attr(L,E(u)?u:"0"),n._isRtl=v.support.isRtl(i),l)n.dataSource=f.create(l);else{if("ul"!==t)return n.destroy(),void p("shieldMenu: No dataSource or underlying UL element found.",r);a=function(e){var i=[];return _(e).children("li").each(function(){var e=_(this),t=0<e.children("ul").length,n={cls:e.attr("data-class"),content:(t?e.children().not("ul").first():e).html(),href:e.attr("data-href")?e.attr("data-href"):e.children().not("ul").first().attr("href"),disabled:e.attr("data-disabled")?e.attr("data-disabled"):E(e.attr(R))&&null!==e.attr(R),separator:"separator"===e.attr("data-role"),iconUrl:e.attr("data-icon-url"),iconCls:e.attr("data-icon-cls")};t&&(n.items=a(e.children("ul")[0])),i.push(n)}),i},n.dataSource=f.create({data:e,schema:{parse:a}})}n.dataSource.on(P+c,x(n._dsChange,n)),i.attr(y,n._isContext?"menu":"menubar").attr("aria-orientation",s.orientation),s.readDataSource&&n.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_isFocused:function(){return _(this.element).hasClass("sui-menu-focus")},_focus:function(e){var t=this;t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(_(t.element).addClass("sui-menu-focus"),_(t.element).focus(),t.trigger(A))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){_(t.element).removeClass("sui-menu-focus"),t._collapseAll(),t._deselectAll(),t.trigger(F)},100))},_dsChange:function(){this._renderItems(this.dataSource.view,this.element,0,null)},_getItemIcon:function(e){var t=_('<span class="sui-menu-item-icon"/>');return e.iconUrl?t.append('<img src="'+e.iconUrl+'"/>'):e.iconCls&&t.addClass(e.iconCls),t},_renderItems:function(e,t,n,i){for(var a,s,r,l,o,u,c,d=this,m=d.options,f=(e||[]).length,h=0<C(e||[],function(e){return e.iconUrl||e.iconCls}).length,p=0;p<f;p++)s=!!(a=e[p]).disabled,c=a.href,u=!(r=a.separator)&&a.items&&0<a.items.length,o=a.iconUrl||a.iconCls,l=r?"&nbsp;":I.call(d,m.contentTemplate,a),c=_('<a class="sui-menu-item-link" '+(c?'href="'+c+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(u?" sui-menu-item-text-hc":"")+'">'+l+"</span>"),l=_('<li class="sui-menu-item sui-unselectable'+(s?" sui-menu-item-disabled":"")+(r?" sui-menu-item-separator":"")+(a.cls?" "+a.cls:"")+'"/>').on("selectstart",function(){return!1}).appendTo(t).data(z,a).data(G,i).data(W,n).data(O,s).data(U,p).attr(y,r?"separator":"menuitem").attr("id",g()).append(c),r?l.attr("aria-orientation",0<n||m.orientation===D?k:D):s&&l.attr("aria-disabled",T),c.click(x(d._itemClicked,d,l)).on(A,x(d.focus,d)),!r&&h&&(0<n||o||m.orientation===D)&&c.prepend(d._getItemIcon(a)),u&&(c.append('<span class="sui-menu-item-children-caret"/>'),(u=_('<div class="sui-menu-submenu"/>').hide().data("sui-menu-item-cc-parent",l).appendTo(l)).css("z-index",v.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",b.body)+1),c=_('<ul class="sui-menu sui-menu-vertical"/>').attr(y,"menu").appendTo(u),d._renderItems(a.items,c,n+1,l),l.data(j,u).attr("aria-haspopup","true").hover(x(d._itemMouseEnter,d,l,!0),x(d._itemMouseLeave,d,l,!0)))},_itemMouseEnter:function(e,t){var n=this;e.addClass(B),setTimeout(function(){e.hasClass(B)&&n._itemExpand(e,t)},n.options.delay)},_itemMouseLeave:function(e,t){e.removeClass(B),this._itemCollapse(e,!0,t)},_itemExpand:function(e,t,n){var i=this,a=i.options,s=a.animation,r=e.data(W),l=e.data(j),o=0===r&&a.orientation===k,u=e.data(z),r=e.data(G);i._isExpandable(e)&&i._canHaveFocus(e)&&l&&(l.stop(!0,!0),r&&!i._isExpanded(r)&&i._itemExpand(r,!1,!0,!0),t&&i.trigger("expand",{element:e,item:u}),o&&l.css("min-width",e.outerWidth()),l.show(),d.Set(l,e,{source:"left top",target:o?"left bottom":"right top",overflow:a.overflow}),!n&&s&&s.enabled?l.hide().slideDown(s.openDelay,function(){e.data(M,!0).attr(N,T)}):e.data(M,!0).attr(N,T))},_itemCollapse:function(e,t,n,i){var a=this,s=a.options.animation,r=e.data(j),l=e.data(z),o=e.data(G);r&&(r.stop(!0,!0),n&&a.trigger("collapse",{element:e,item:l}),t=!E(t)||!!t,_(r).find("ul").first().children().each(function(){var e=_(this);a._isExpanded(e)&&a._itemCollapse(e,t,!1,!0)}),!i&&s&&s.enabled?r.slideUp(s.closeDelay,function(){e.data(M,!1).attr(N,w),t&&o&&!o.hasClass(B)&&a._itemCollapse(o,!0,!1,!0)}):(r.hide(),e.data(M,!1).attr(N,w),t&&o&&!o.hasClass(B)&&a._itemCollapse(o,!0,!1,!0)))},_collapseAll:function(){var t=this;_(t.element).children("li").each(function(){var e=_(this);t._isExpanded(e)&&t._itemCollapse(e,!1,!1,!0)})},_isExpandable:function(e){return!!e.data(j)},_isExpanded:function(e){return!0===e.data(M)},_hasExpanded:function(e){var t=this,n=e.data(j);return!0===e.data(M)&&0<C(_(n).find("ul").first().children(),function(e){return t._isExpanded(_(e))||t._hasExpanded(_(e))}).length},_canHaveFocus:function(e){return!e.data(O)&&!e.data(z).separator},_keydown:function(e){var t,n=this,i=!0;switch(e.keyCode){case a.UP:n._move("up",e);break;case a.DOWN:n._move("down",e);break;case a.LEFT:n._move("left",e);break;case a.RIGHT:n._move("right",e);break;case a.SPACE:case a.ENTER:t=n._getSelected(),E(t)&&(n._isExpanded(t)||n._itemExpand(t,!0),n._itemClicked(t));break;default:i=!1}i&&e.preventDefault()},_getFirstSelectableItem:function(e){var t,n=this;return _(e).children("li").each(function(){var e=_(this);if(n._canHaveFocus(e))return t=e,!1}),t},_getNextSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),r=s.length;if(a<r-1)for(n=a+1;n<r;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;if(0<a)for(n=0;n<a;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_getPrevSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),i=s.length;if(0<a)for(n=a-1;0<=n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;if(a<i-1)for(n=i-1;a<n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_move:function(e,t){var n,i,a,s,r=this,l=r._getSelected();r._isRtl;if(E(l))if(n=l.parent().hasClass("sui-menu-vertical")?D:k,a=(i=l.data(G))?i.parent().hasClass("sui-menu-vertical")?D:k:o,n==k){if("up"===e)return void r._itemCollapse(l,!1,!0);if("down"===e){if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else if("left"===e){if((s=r._getPrevSelectableItem(l))===l)return}else{if("right"!==e)return;if((s=r._getNextSelectableItem(l))===l)return}}else if("up"===e){if(0===l.index()){if(i&&a===k)s=i,r._itemCollapse(s,!1,!0);else if((s=r._getPrevSelectableItem(l))===l)return}else if((s=r._getPrevSelectableItem(l))===l)return}else if("down"===e){if((s=r._getNextSelectableItem(l))===l)return}else if("left"===e){if(!i||a!==D)return;s=i,r._itemCollapse(s,!1,!0)}else{if("right"!==e)return;if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else s=r._getFirstSelectableItem(r.element);E(s)&&(r._setSelected(s,!0),r.trigger("select",{element:s,item:s.data(z)}))},_deselectAll:function(){var e=this.element;_(e).find("."+H).each(function(){_(this).removeClass(H)}),e.removeAttr(i)},_setSelected:function(e,t){var n=this.element;this._canHaveFocus(e)&&(t?(this._deselectAll(),_(e).addClass(H),n.attr(i,e.attr("id"))):(_(e).removeClass(H),n.removeAttr(i)))},_getSelected:function(){var e=_(this.element).find("."+H).first();return 0<_(e).length?e:o},_isSelected:function(e){return _(e).hasClass(H)},_itemClicked:function(e,t){var n=e.data(z);t&&t.isPropagationStopped()||(this._focus(),this._canHaveFocus(e)&&(n={item:n},this._isContext&&(n.element=c),n=this.trigger("click",n),t&&(t.stopPropagation(),n.isDefaultPrevented()&&t.preventDefault())))},_getItemByIndex:function(){var e,t,n=[].slice.call(arguments),i=o;if(0<n.length)for(t=0;t<n.length;t++){if(e=n[t],!r(e))return o;if(i=(0===t?_(this.element):_(_(i).data(j)).children("ul").first()).children("li:eq("+e+")"),_(i).length<=0)return o}return i},_getItemIndex:function(e){for(var t=[];t.unshift(e.data(U)),e=e.data(G););return t},enabled:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,e=this._getItemByIndex.apply(this,e);if(E(e)){if(!E(t))return!e.data(O);e.data(O,!t),_(e)[t?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var e=this,t=[].slice.call(arguments),n=s(t[0])?t.shift():o,i=e._getItemByIndex.apply(this,t);if(E(i)){if(!E(n))return e._isExpanded(i);n?(e._collapseAll(),e._itemExpand(i,!1)):e._itemCollapse(i,!1,!1)}E(n)&&!1===n&&0===t.length&&e._collapseAll()},selected:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,n=this._getItemByIndex.apply(this,e);if(E(n)){if(!E(t))return this._isSelected(n);this._setSelected(n,t)}E(t)&&!1===t&&0===e.length&&this._deselectAll()},selectedIndex:function(){var e=this._getSelected();if(E(e))return this._getItemIndex(e)},selectedData:function(){var e=this._getSelected();if(E(e))return _(e).data(z)},selectedItem:function(){return this._getSelected()},destroy:function(){var e=this,t=e._eventNS;e.dataSource&&e.dataSource.off(P+t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),_(e.element).off(t).remove(),e._isWrapped&&e._original.unwrap(),e._original.show(),e._original=null,m.fn.destroy.call(e)}});q.defaults=t,v.ui.plugin("Menu",q),e=h({},t,{orientation:D,target:o,filter:o,focusOnOpen:!0,minWidth:o}),(t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,i=this,t=_(i.element),n=i.options,a=n.events,s={},r=i._eventNS=".shieldContextMenu"+i.getInstanceId();i.menuElement=e=_('<div class="sui-context-menu"/>').hide().appendTo(b.body),n.minWidth&&i.menuElement.css("min-width",n.minWidth),l(["focus","blur","expand","collapse","click","select"],function(e,t){var n=a[t];S(n)&&(s[t]=x(n,i))}),i._menu=new q(t,h({},n,{renderToINTERNAL:e,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:s})),i._mouseTracker=new v.MouseTracker,_(n.target).on("contextmenu"+r,n.filter,function(e){return e.preventDefault(),i._open(i._mouseTracker.getPosition(e),_(e.currentTarget),!0,!1),!1}),_(b).on("mousedown"+r,function(e){_(e.target).closest(".sui-context-menu").length<=0&&i._closeOpen(!0)})},_open:function(e,t,n,i){var a=this,s=a.menuElement,r=a.options,l=r.animation,o=r.focusOnOpen;a._closeOpen(!1),n&&a.trigger("open",{element:t}).isDefaultPrevented()||(s.stop(!0,!0),s.show(),d.Set(s,new v.Event({pageX:e.x,pageY:e.y}),{source:"left top",target:"left top",overflow:r.overflow}),l&&l.enabled?s.hide().slideDown(l.openDelay,function(){c=t,(u=a)._visible=!0,o&&a.focus()}):(c=t,(u=a)._visible=!0,o&&a.focus()))},_close:function(e){var t=this,n=t.menuElement,i=t.options.animation;e&&t.trigger("close").isDefaultPrevented()||(u=c=null,n.stop(!0,!0),i&&i.enabled?n.slideUp(i.closeDelay,function(){t._visible=!1}):(n.hide(),t._visible=!1))},_closeOpen:function(e){u&&u.closeINTERNAL(!0)},closeINTERNAL:function(e){this._close(e)},focus:function(){_(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var e,t,n=this,i=[].slice.call(arguments);if(!(0<i.length))return n._visible;e=!!i[0],t=i[1]||n._mouseTracker.getPosition(),e?n._open(t,i[2],!1,!1):n._close(!1),n._visible=e},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var e=this,t=e._eventNS;_(b).off(t),_(e.options.target).off(t),e._mouseTracker&&(e._mouseTracker.destroy(),e._mouseTracker=null),e._close(),e._menu&&(e._menu.destroy(),e._menu=null),_(e.menuElement).remove(),m.fn.destroy.call(e)}})).defaults=e,v.ui.plugin("ContextMenu",t)}(jQuery,shield);